var Fa="function"==typeof Object.defineProperties?Object.defineProperty:function(w,g,h){if(w==Array.prototype||w==Object.prototype)return w;w[g]=h.value;return w};function Pa(w){w=["object"==typeof globalThis&&globalThis,w,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var g=0;g<w.length;++g){var h=w[g];if(h&&h.Math==Math)return h}throw Error("Cannot find global object");}var Qa=Pa(this);
function Ya(w,g){if(g)a:{var h=Qa;w=w.split(".");for(var p=0;p<w.length-1;p++){var k=w[p];if(!(k in h))break a;h=h[k]}w=w[w.length-1];p=h[w];g=g(p);g!=p&&null!=g&&Fa(h,w,{configurable:!0,writable:!0,value:g})}}Ya("Array.prototype.fill",function(w){return w?w:function(g,h,p){var k=this.length||0;0>h&&(h=Math.max(0,k+h));if(null==p||p>k)p=k;p=Number(p);0>p&&(p=Math.max(0,k+p));for(h=Number(h||0);h<p;h++)this[h]=g;return this}});function kb(w){return w?w:Array.prototype.fill}
Ya("Int8Array.prototype.fill",kb);Ya("Uint8Array.prototype.fill",kb);Ya("Uint8ClampedArray.prototype.fill",kb);Ya("Int16Array.prototype.fill",kb);Ya("Uint16Array.prototype.fill",kb);Ya("Int32Array.prototype.fill",kb);Ya("Uint32Array.prototype.fill",kb);Ya("Float32Array.prototype.fill",kb);Ya("Float64Array.prototype.fill",kb);
Ya("Array.prototype.copyWithin",function(w){function g(h){h=Number(h);return Infinity===h||-Infinity===h?h:h|0}return w?w:function(h,p,k){var a=this.length;h=g(h);p=g(p);k=void 0===k?a:g(k);h=0>h?Math.max(a+h,0):Math.min(h,a);p=0>p?Math.max(a+p,0):Math.min(p,a);k=0>k?Math.max(a+k,0):Math.min(k,a);if(h<p)for(;p<k;)p in this?this[h++]=this[p++]:(delete this[h++],p++);else for(k=Math.min(k,a+p-h),h+=k-p;k>p;)--k in this?this[--h]=this[k]:delete this[--h];return this}});
function ob(w){return w?w:Array.prototype.copyWithin}Ya("Int8Array.prototype.copyWithin",ob);Ya("Uint8Array.prototype.copyWithin",ob);Ya("Uint8ClampedArray.prototype.copyWithin",ob);Ya("Int16Array.prototype.copyWithin",ob);Ya("Uint16Array.prototype.copyWithin",ob);Ya("Int32Array.prototype.copyWithin",ob);Ya("Uint32Array.prototype.copyWithin",ob);Ya("Float32Array.prototype.copyWithin",ob);Ya("Float64Array.prototype.copyWithin",ob);
function pb(w){var g=0;return function(){return g<w.length?{done:!1,value:w[g++]}:{done:!0}}}Ya("Symbol",function(w){function g(k){if(this instanceof g)throw new TypeError("Symbol is not a constructor");return new h("jscomp_symbol_"+(k||"")+"_"+p++,k)}function h(k,a){this.s=k;Fa(this,"description",{configurable:!0,writable:!0,value:a})}if(w)return w;h.prototype.toString=function(){return this.s};var p=0;return g});
Ya("Symbol.iterator",function(w){if(w)return w;w=Symbol("Symbol.iterator");for(var g="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),h=0;h<g.length;h++){var p=Qa[g[h]];"function"===typeof p&&"function"!=typeof p.prototype[w]&&Fa(p.prototype,w,{configurable:!0,writable:!0,value:function(){return qb(pb(this))}})}return w});function qb(w){w={next:w};w[Symbol.iterator]=function(){return this};return w}
function rb(w,g){w instanceof String&&(w+="");var h=0,p=!1,k={next:function(){if(!p&&h<w.length){var a=h++;return{value:g(a,w[a]),done:!1}}p=!0;return{done:!0,value:void 0}}};k[Symbol.iterator]=function(){return k};return k}Ya("Array.prototype.keys",function(w){return w?w:function(){return rb(this,function(g){return g})}});
window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){var w=null,g=null;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.mO||performance.nO||performance.pO||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=
Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?window.arrayFill=!0:(window.arrayFill=!1,window.Uint32Array.prototype.fill=function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=h});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=
function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=h});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=h});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=h});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=
h});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=h});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=h});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=h});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=
function(h,p,k){void 0===k&&(k=this.length);for(p=0;p<k;p+=1)this[p]=h});window.Int32Array.prototype.slice?window.arraySlice=!0:(window.arraySlice=!1,window.Int32Array.prototype.slice=function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Int32Array(k);for(p=0;p<k;p+=1)a[p]=this[h+p];return a});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Int16Array(k);for(p=0;p<k;p+=1)a[p]=this[h+p];return a});window.Int8Array.prototype.slice||
(window.Int8Array.prototype.slice=function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Int8Array(k);for(p=0;p<k;p+=1)a[p]=this[h+p];return a});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Uint32Array(k);for(p=0;p<k;p+=1)a[p]=this[h+p];return a});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Uint16Array(k);for(p=0;p<
k;p+=1)a[p]=this[h+p];return a});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Uint8Array(k);for(p=0;p<k;p+=1)a[p]=this[h+p];return a});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Uint8ClampedArray(k);for(p=0;p<k;p+=1)a[p]=this[h+p];return a});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=
function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Float32Array(k);for(p=0;p<k;p+=1)a[p]=this[h+p];return a});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(h,p){void 0===p&&(p=this.length);var k=p-h;var a=new Float64Array(k);for(p=0;p<k;p+=1)a[p]=this[h+p];return a});g=new Uint32Array(1);g[0]=4660;w=new Uint8Array(g.buffer);window.littleEndian=52===w[0]?!0:!1;g.copyWithin?window.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(h,p,k){var a=
!1;void 0===k&&(k=this.length);var c=k-p;if(p!==h)if((h>=p&&h<=k||h+c>=p&&h+c<=k)&&h>p&&(a=!0),a)for(k=c-1;0<=k;--k)this[h+k]=this[p+k];else for(k=0;k<c;k+=1)this[h+k]=this[p+k];return this},window.copyWithin=!1);window.registerEvent=function(h,p,k,a){h.addEventListener?h.addEventListener(p,k,a):h.attachEvent("on"+p,k)}}(),function(){function w(p,k,a){this.type=p;this.name=a;this.elements=k;this.size=k*h.lq(p);this.Kp=1}function g(){this.sh=[];this.Mo=this.bs=this.Lo=this.Zr=0}var h={wx:8,xx:40,ux:9,
vx:10,mx:0,kx:1,lx:2,fx:18,gx:19,lq:function(p){return 1<<(p&7)},AN:function(p){var k=(0!==(p&16)?"Float":0!==(p&8)?"Uint":"Int")+8*(1<<(p&7));0!==(p&32)&&(k+="Clamped");return k}};g.prototype.eI=function(p){var k="";0<=p&&p<this.sh.length&&(p=this.sh[p],k=h.AN(p.type)+"\t"+p.elements+"\t"+p.name+"\t"+p.Kp);return k};g.prototype.s=function(p,k,a){for(var c=0,d=!1,f;c<this.sh.length&&!d;)f=this.sh[c],a===f.name?(d=!0,this.bs+=1,this.Mo+=f.elements*h.lq(f.type)):c+=1;d?(this.sh[c].type=p,this.sh[c].elements=
k,this.sh[c].Kp+=1,this.sh[c].size=k*h.lq(p)):(c=this.sh.length,this.sh[c]=new w(p,k,a));this.Zr+=1;this.Lo+=k*h.lq(p)};g.prototype.sC=function(p,k,a,c,d){p=p.buffer;c*=h.lq(k);switch(k){case h.wx:a=new Uint8Array(p,c,a);break;case h.xx:a=new Uint8Array(p,c,a);break;case h.ux:a=new Uint16Array(p,c,a);break;case h.vx:a=new Uint32Array(p,c,a);break;case h.mx:a=new Int8Array(p,c,a);break;case h.kx:a=new Int16Array(p,c,a);break;case h.lx:a=new Int32Array(p,c,a);break;case h.fx:a=new Float32Array(p,c,
a);break;case h.gx:a=new Float64Array(p,c,a);break;default:a=null,alert("Illegal type specified to allocator.typedView for "+d+": "+k)}return a};g.prototype.G=function(p,k,a){switch(p){case h.wx:k=new Uint8Array(k);break;case h.xx:k=new Uint8Array(k);break;case h.ux:k=new Uint16Array(k);break;case h.vx:k=new Uint32Array(k);break;case h.mx:k=new Int8Array(k);break;case h.kx:k=new Int16Array(k);break;case h.lx:k=new Int32Array(k);break;case h.fx:k=new Float32Array(k);break;case h.gx:k=new Float64Array(k);
break;default:k=null,alert("Illegal type specified to allocator.typedMemory for "+a+": "+p)}return k};g.prototype.P=function(p,k,a){var c=null;0<k&&(c=this.G(p,k,a));(c||0===k)&&this.s(p,k,a);return c};g.prototype.dI=function(p,k,a,c){var d=null;0<k&&(d=this.G(p,k,a));(d||0===k)&&this.s(p,k*c,a);return d};Array.ga=function(p,k,a,c,d,f){var n=0,m=[];m.v=d;m.type=p;m.jb=null;var q=d.P(p,k*a,f);m.jb=q;if(0<a){for(;n<k;)m[n]=d.sC(q,p,a,n*a,f),n+=1;0!==c&&q.fill(c)}return m};Array.Cq=function(p,k){k=p.v.dI(p.type,
p[0].length,k,p.length+1);p[p.length]=k};Array.Zi=function(p,k){k.jb.set(p.jb)};Array.Kc=function(p,k,a){var c,d=k.length,f=[],n=k.v,m=k[0].length/h.lq(p);for(c=0;c<d;c+=1)f[c]=n.sC(k.jb,p,m,c*m,a);return f};Array.Fz=function(p,k,a){var c,d=p.length,f=p.v,n=p.type,m=p[0].length;for(c=0;c<d;c+=1)f.sC(p.jb,n,m-k,c*m+k,a)};window.Allocator=g;window.Uint8=h.wx;window.Uint8Clamped=h.xx;window.Uint16=h.ux;window.Uint32=h.vx;window.Int8=h.mx;window.Int16=h.kx;window.Int32=h.lx;window.Float32=h.fx;window.Float64=
h.gx}(),function(){window.AliasManager={Gc:[],qB:[],nf:function(){var w,g;this.Gc=[];this.qB=[];var h=this.Gc;var p=this.qB;p.push("1D");h.push(["Wolfram 1D",""]);h.push(["Brownian motion","W54"]);h.push(["Fishing-net","W110"]);h.push(["Heavy triangles","W22"]);h.push(["Linear A","W90"]);h.push(["Linear B","W150"]);h.push(["Pascal's Triangle","W18"]);h.push(["Randomizer 1","W30"]);h.push(["Randomizer 2","W45"]);h.push(["Wolfram 22","W22"]);h.push(["Wolfram 30","W30"]);h.push(["Wolfram 110","W110"]);
p.push("Margolus");h.push(["Margolus",""]);h.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);h.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);h.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);h.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);h.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);h.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);h.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);h.push(["RotationsII",
"M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);h.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);h.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);h.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);h.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);h.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);h.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);h.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);p.push("PCA");
h.push(["PCA",""]);h.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);h.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);h.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);h.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);h.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);h.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);h.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);h.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);
h.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);h.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);h.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);h.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);h.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);h.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);p.push("OT vN");h.push(["Outer-Totalistic von Neumann",""]);h.push(["Fredkin2","B13/S024V"]);h.push(["Parity","B13/S13V"]);
p.push("OT Hex");h.push(["Outer-Totalistic Hex",""]);h.push(["HexParity","B135/S0246H"]);h.push(["Hexagonal Life","B2/S34H"]);h.push(["HighHexLife","B25/S34H"]);h.push(["Replicator Hex","B135/S135H"]);p.push("OT M");h.push(["Outer-Totalistic Moore",""]);h.push(["","B3/S23"]);h.push(["2x2","B36/S125"]);h.push(["2x2 2","B3678/S1258"]);h.push(["34 Life","B34/S34"]);h.push(["3-4 Life","B34/S34"]);h.push(["Amoeba","B357/S1358"]);h.push(["Anneal","B4678/S35678"]);h.push(["AntiLife","B0123478/S01234678"]);
h.push(["Assimilation","B345/S4567"]);h.push(["Bacteria","B34/S456"]);h.push(["Blinkers","B345/S2"]);h.push(["Bugs","B3567/S15678"]);h.push(["Castles","B3678/S135678"]);h.push(["Cheerios","B35678/S34567"]);h.push(["Christmas Life","B1/S012345678"]);h.push(["Coagulations","B378/S235678"]);h.push(["Conway's Game of Life","B3/S23"]);h.push(["Conway's Life","B3/S23"]);h.push(["Coral","B3/S45678"]);h.push(["Corrosion of Conformity","B3/S124"]);h.push(["Dance","B34/S35"]);h.push(["Day & Night","B3678/S34678"]);
h.push(["Day and Night","B3678/S34678"]);h.push(["Diamoeba","B35678/S5678"]);h.push(["DotLife","B3/S023"]);h.push(["DrighLife","B367/S23"]);h.push(["DryFlock","B37/S12"]);h.push(["DryLife","B37/S23"]);h.push(["DryLife without Death","B37/S012345678"]);h.push(["EightFlock","B3/S128"]);h.push(["EightLife","B3/S238"]);h.push(["Electrified Maze","B45/S12345"]);h.push(["Eppstein","B35/S236"]);h.push(["Feux","B1358/S0247"]);h.push(["Flakes","B3/S012345678"]);h.push(["Flock","B3/S12"]);h.push(["Forest of Ls",
"B168/S236"]);h.push(["Fredkin","B1357/S02468"]);h.push(["Fuzz","B1/S014567"]);h.push(["Gems Minor","B34578/S456"]);h.push(["Gems","B3457/S4568"]);h.push(["Geology","B3578/S24678"]);h.push(["Gnarl","B1/S1"]);h.push(["H-Trees","B1/S012345678"]);h.push(["HighFlock","B36/S12"]);h.push(["HighLife","B36/S23"]);h.push(["HighLife without Death","B36/S012345678"]);h.push(["Holstein","B35678/S4678"]);h.push(["HoneyFlock","B38/S128"]);h.push(["HoneyLife","B38/S238"]);h.push(["Iceballs","B25678/S5678"]);h.push(["InverseLife",
"B012345678/S34678"]);h.push(["Invertamaze","B028/S0124"]);h.push(["IronFlock","B36/S128"]);h.push(["IronLife","B36/S238"]);h.push(["Land Rush","B36/S234578"]);h.push(["Life SkyHigh","B368/S236"]);h.push(["Life without Death","B3/S012345678"]);h.push(["Life","B3/S23"]);h.push(["Live Free or Die","B2/S0"]);h.push(["Logarithmic replicator rule","B36/S245"]);h.push(["LongLife","B345/S5"]);h.push(["Long Life","B345/S5"]);h.push(["LowDeath without death","B368/S012345678"]);h.push(["LowDeath","B368/S238"]);
h.push(["LowFlockDeath","B368/S128"]);h.push(["LowLife","B3/S13"]);h.push(["Majority","B45678/S5678"]);h.push(["Maze","B3/S12345"]);h.push(["Maze with Mice","B37/S12345"]);h.push(["Mazectric","B3/S1234"]);h.push(["Mazectric with Mice","B37/S1234"]);h.push(["Morley","B368/S245"]);h.push(["Move","B368/S245"]);h.push(["Neon Blobs","B08/S4"]);h.push(["Never happy","B345/S0456"]);h.push(["Oscillators Rule","B45/S1235"]);h.push(["Pedestrian Flock","B38/S12"]);h.push(["Pedestrian Life","B38/S23"]);h.push(["Pedestrian Life without Death",
"B38/S012345678"]);h.push(["Persian Rug","B234/S"]);h.push(["Plow World","B378/S012345678"]);h.push(["Pseudo Life","B357/S238"]);h.push(["Pulsar Life","B3/S238"]);h.push(["Replicator","B1357/S1357"]);h.push(["Replicator 2","B1357/S02468"]);h.push(["Rings 'n' Slugs","B56/S14568"]);h.push(["Seeds","B2/S"]);h.push(["Serviettes","B234/S"]);h.push(["Shoots and Roots","B3/S245678"]);h.push(["Slow Blob","B367/S125678"]);h.push(["Snakeskin","B1/S134567"]);h.push(["Solid islands grow amongst static","B12678/S15678"]);
h.push(["SnowLife","B3/S1237"]);h.push(["Stains","B3678/S235678"]);h.push(["Star Trek","B3/S0248"]);h.push(["Virus","B36/S235"]);h.push(["Vote","B5678/S45678"]);h.push(["Vote 4/5","B4678/S35678"]);h.push(["Walled Cities","B45678/S2345"]);p.push("OT Tri");h.push(["Outer-Totalistic Triangular",""]);h.push(["Rule 1246","B456/S12L"]);h.push(["Life 2333","B3/S23L"]);h.push(["Life 2345","B45/S23L"]);h.push(["Life 2346","B456/S23L"]);h.push(["Life 3445","B45/S34L"]);h.push(["Life 3446","B456/S34L"]);h.push(["Rule 3544",
"B4/S345L"]);h.push(["Life 4546","B456/S45L"]);h.push(["Life 4644","B4/S456L"]);p.push("OT M G");h.push(["Outer-Totalistic Generations Moore",""]);h.push(["9:43 at Knight","237/34578/4"]);h.push(["Banners","2367/3457/5"]);h.push(["BelZhab","23/23/8"]);h.push(["BelZhab Sediment","145678/23/8"]);h.push(["Bloomerang","234/34678/24"]);h.push(["Bombers","345/24/25"]);h.push(["Brain 5","/2/5"]);h.push(["Brain 6","6/246/3"]);h.push(["Brian's Brain","/2/3"]);h.push(["Burst","0235678/3468/9"]);h.push(["BurstII",
"235678/3468/9"]);h.push(["Caterpillars","124567/378/4"]);h.push(["Chenille","05678/24567/6"]);h.push(["Circuit Genesis","2345/1234/8"]);h.push(["Constellations","/23/3"]);h.push(["Cooties","23/2/8"]);h.push(["Diamonds and Spaceships","34578/257/16"]);h.push(["Ebb&Flow","012478/36/18"]);h.push(["Ebb&Flow II","012468/37/18"]);h.push(["Faders","2/2/25"]);h.push(["Fireballs","346/2/4"]);h.push(["Fireworks","2/13/21"]);h.push(["Flaming Starbows","347/23/8"]);h.push(["Free Star","0345/2/10"]);h.push(["Frogs",
"12/34/3"]);h.push(["Frozen spirals","356/23/6"]);h.push(["GeneroLife","2356/3567/4"]);h.push(["Glisserati","035678/245678/7"]);h.push(["Glissergy","035678/245678/5"]);h.push(["Lava","12345/45678/8"]);h.push(["Lines","012345/458/3"]);h.push(["LivingOn TheEdge","345/3/6"]);h.push(["Meteor Guns","01245678/3/8"]);h.push(["Nova","45678/2478/25"]);h.push(["OrthoGo","3/2/4"]);h.push(["Prairie on fire","345/34/6"]);h.push(["RainZha","2/23/8"]);h.push(["Rake","3467/2678/6"]);h.push(["SediMental","45678/25678/4"]);
h.push(["Snake","03467/25/6"]);h.push(["SoftFreeze","13458/38/6"]);h.push(["Spirals","2/234/5"]);h.push(["Star Wars","345/2/4"]);h.push(["Sticks","3456/2/6"]);h.push(["Swirl","23/34/8"]);h.push(["Tadpoles","0125678/345678/64"]);h.push(["ThrillGrill","1234/34/48"]);h.push(["Transers","345/26/5"]);h.push(["TransersII","0345/26/6"]);h.push(["Transers 2","0345/26/6"]);h.push(["Transers 3","0345/26/7"]);h.push(["Wallplicators","345/25678/7"]);h.push(["Wanderers","345/34678/5"]);h.push(["Worms","3467/25/6"]);
h.push(["Xtasy","1456/2356/16"]);p.push("INT Hex");h.push(["Isotropic Non-Totalistic Hex",""]);h.push(["Hex Life","B2o3m56/S2-p4oH"]);h.push(["22da","B2/S2-mH"]);h.push(["Hexrule b2o","B2o/S2m34H"]);p.push("INT M");h.push(["Isotropic Non-Totalistic Moore",""]);h.push(["15Life","B34r/S23-q4et"]);h.push(["104life","B34ky5cy/S23-a4ity6c7"]);h.push(["22k","B2-k/S2-k"]);h.push(["2diagonal","B2n3/S23"]);h.push(["2xpand2","B3/S123eik4ce"]);h.push(["3x3","B35cky68/S0245-c6n"]);h.push(["38life","B35y/S2-n35k6ci"]);
h.push(["4diagonal","B34c/S23"]);h.push(["4life","B34jy/S23"]);h.push(["4life2","B34j/S23"]);h.push(["57life","B34tyz5cy/S23-a4it5ej"]);h.push(["acnelife","B34/S2eik3"]);h.push(["aLife","B3/S234iw"]);h.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);h.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);h.push(["Artillery","B3-y7/S2-i3-c4kqt"]);h.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);h.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);h.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);h.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);
h.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);h.push(["Beaecsizae","B34ce/S12-a3"]);h.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);h.push(["Best Friends","B2ce3aiy/S12aei3r"]);h.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);h.push(["Billiard","B36-e/S12345"]);h.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);h.push(["BlinkBlink","B35ky/S234y"]);h.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);h.push(["blockandglider","B3/S234cw7c"]);
h.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);h.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);h.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);h.push(["bpuff","B3/S23-cky4k7e8"]);h.push(["Breps","B34cqy5c/S23-y4y"]);h.push(["Breps-2","B3aeijn4n8/S234iqz"]);h.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);h.push(["Bubbles","B3ai4-a/S23"]);h.push(["Butterfly","B2i34e6i7c/S2-i36n"]);h.push(["butterflyb7","B2i34e6i7/S2-i36n"]);h.push(["Buzz","B2i35-n/S2-ci36k8"]);
h.push(["CapLife","B36c/S23"]);h.push(["CarrierLife","B2e3aceik/S23"]);h.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);h.push(["cb2","B2ae4i/S1e2in"]);h.push(["cetlife","B34cet/S234jkwyz"]);h.push(["Clouds","B2e3aceij/S23-a4"]);h.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);h.push(["CommonRepl","B3/S23-ac4eiy6"]);h.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);h.push(["Conway++","B3/S234c"]);h.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);h.push(["Conway+-2",
"B3/S2-ak34aikqtwz5inqy"]);h.push(["Conway--","B3/S2-ei3"]);h.push(["crawl","B37e/S2-i34y8"]);h.push(["Creperie","B2ikn3aijn/S23-ckqy"]);h.push(["CrossLife","B3/S234et"]);h.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);h.push(["DenseLife","B3-q4y/S234z"]);h.push(["Diamoeral","B2n3ai4a78/S35678"]);h.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);h.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);h.push(["DLife","B3-n/S23"]);h.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);h.push(["dolife2",
"B2-a3acei4ceqz5y/S234ce5ceky78"]);h.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);h.push(["Dry15Life","B34r7/S23-q4et"]);h.push(["DryGoats","B2in37/S123a"]);h.push(["Dustclouds01","B2ce3-ai/S01"]);h.push(["EasyHighLife","B36-i/S23"]);h.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);h.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);h.push(["EightGoats","B2in3/S123a8"]);h.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8b2ein3cijn4cnrwy5cnq6es1c2-ai3acny4anqy5c6ek8"]);
h.push(["ElectrumLife","B367c/S2-i34q"]);h.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);h.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);h.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);h.push(["FalseB5","B35ce/S234jqtyz6k8"]);h.push(["Frespa","B34ck5/S23aceik4aci"]);h.push(["FattyLife","B3-n4nt5qr6i/S23"]);h.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);h.push(["FlashLife","B2kn3-n4e/S23"]);h.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);h.push(["Flutter","B2-a3j4-acekn56/S15y"]);
h.push(["Flying Life","B3-k5r/S236n7e"]);h.push(["FogLife","B35eq7/S2-i34q"]);h.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);h.push(["FrogLife","B36i/S1c23-acek5k6i8"]);h.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);h.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);h.push(["GemLife","B34c6/S23-q"]);h.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);h.push(["GlideLife","B34ek5ak/S2-c34z"]);h.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);h.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);
h.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);h.push(["glife","B3/S237c"]);h.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);h.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);h.push(["Goat Flock","B2in3/S123a"]);h.push(["Goats","B2in3/S123a"]);h.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);h.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);h.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);h.push(["guntlife","B35j6a/S2-i34q"]);h.push(["Half as Interesting",
"B2ce3i/S23"]);h.push(["hassl8life","B34k5e7c/S23-a4iyz"]);h.push(["hatlife","B35y/S23"]);h.push(["Hats and Shuttles","B34iqwy/S23-cq"]);h.push(["hedgehog","B3/S1c2-a35r6i"]);h.push(["HeptaFish","B3-e4i5i/S234e"]);h.push(["High15Life","B34r6/S23-q4et"]);h.push(["HighGoats","B2in36/S123a"]);h.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);h.push(["hlife","B3/S234ce6k"]);h.push(["hlife2","B3/S2-in34nr"]);h.push(["hlife3","B3/S2-in34iw"]);h.push(["HoneyGoats","B2in38/S123a8"]);h.push(["HouseLife",
"B2i3/S23-r"]);h.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);h.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);h.push(["ilife","B3/S235i"]);h.push(["Immortalife","B3-cqy4j/S2-n34i"]);h.push(["IneticLife","B2-an3-k/S2ac"]);h.push(["IronGoats","B2in36/S123a8"]);h.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);h.push(["Just Friends","B2-a/S12"]);h.push(["Kgdm","B3/S2-c3-en4ceitz"]);h.push(["KineticLife","B2-an3/S2ac"]);h.push(["klife","B34n/S23"]);h.push(["Knyght","B2e3/S23-jq"]);
h.push(["ktlife","B3/S2-i34nq"]);h.push(["LambdaLife","B3-k/S2-i3-k4cen"]);h.push(["Leaplized D&N","B2n3678/S3-q4678"]);h.push(["LifeWithoutGliders","B35n/S23"]);h.push(["Linea","B2-a3-i/S23-a"]);h.push(["LispLife","B2n3/S23-q4e8"]);h.push(["LoafLife","B2n3-q/S23"]);h.push(["longlast","B3/S234ce8"]);h.push(["lotsofdots","B2ikn34e/S023-a4ce"]);h.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);h.push(["maze2","B3/S234-acew"]);h.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);h.push(["MilkyLife",
"B3-c4c5y8/S234qy5y8"]);h.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);h.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);h.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);h.push(["MoveIt","B368/S23cy45-j6n"]);h.push(["movetub","B34e68/S245"]);h.push(["movev","B35y68/S245"]);h.push(["Movostill","B2i3acijk6i/S23-a4"]);h.push(["Movostill 2","B3acijk/S23-a4"]);h.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);h.push(["MuddyLife","B3/S234k"]);h.push(["Nah","B345-a6/S2-a3-a4-a"]);h.push(["nonlife","B3-n/S234iz"]);
h.push(["notlife","B3-q7c/S2-i3-q4q"]);h.push(["notlife (Wright)","B2k3-k/S23-a"]);h.push(["Notlife / Ace","B2-a3/S2ce"]);h.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);h.push(["olife","B2in3/S2-in3"]);h.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);h.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);h.push(["Particles","B2ce3i/S1c2cek"]);h.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);h.push(["Pedestrian Goats","B2in38/S123a"]);h.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);
h.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);h.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);h.push(["Pi replicator life","B3-r4z5y/S238"]);h.push(["Pi-plicator","B3-ckq/S2-c34ci"]);h.push(["PiLife","B37e/S23"]);h.push(["Pilife2","B34c/S234y8"]);h.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);h.push(["plife","B35j/S2-i3"]);h.push(["plife2","B35j6i/S2-i3"]);h.push(["PondLife","B36i/S2-i35i"]);h.push(["PortLife","B34cz5y/S234y8"]);h.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);
h.push(["Prismatika Crystallios","B2ae3r/S1e"]);h.push(["PlasmaLife","B34-air/S234-air"]);h.push(["Puffers","B3-nqr6/S235-nqr"]);h.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);h.push(["qlife","B3-q/S23"]);h.push(["quadraticlife","B34j/S23"]);h.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);h.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);h.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);h.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);h.push(["replife","B34jy6n/S2-i3"]);
h.push(["reptlife","B36-k/S2-i34q"]);h.push(["ResistantLife","B34eknqyz/S23"]);h.push(["Ribbons","B3-nqr/S23"]);h.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);h.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);h.push(["RotoHooks","B34ckyz/S234cz"]);h.push(["rgun","B34t/S2-i35a7e"]);h.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);h.push(["RustyLife","B34-ai/S24-air5-a"]);h.push(["Salad","B2i34c/S2-i3"]);h.push(["Sanctuary","B2ei3ci/S1c23"]);h.push(["sansdomino","B2-a/S014"]);h.push(["Savanna",
"B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);h.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);h.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);h.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);h.push(["SilverLife","B367/S2-i34q"]);h.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);h.push(["Simple Life","B2k34c/S2-c34z8"]);h.push(["SLHassleLife","B3-y5cr/S234w6n"]);h.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);h.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);h.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);
h.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);h.push(["snotlife","B2k3-kn/S23"]);h.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);h.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);h.push(["SparkLife","B36i/S234j"]);h.push(["SparklingLife","B34cqy/S234q"]);h.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);h.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);h.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);h.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);
h.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);h.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);h.push(["t4life","B34jy/S2-i3"]);h.push(["TableLife","B3/S23-ai4anq6n"]);h.push(["TauLife","B3-nr/S2-i34-aij"]);h.push(["tceclife","B36ce7c/S2-i34q"]);h.push(["tDryFlock","B37/S12-i4q"]);h.push(["tDryLife","B37/S2-i34q"]);h.push(["TearfulLife","B34e5c6n/S23-q"]);h.push(["tEightLife","B3/S2-i34q8"]);h.push(["testlife","B36a/S23"]);h.push(["tflock","B3/S12-i4q"]);
h.push(["tHighFlock","B36/S12-i4q"]);h.push(["tHighLife","B36/S2-i34q"]);h.push(["ThisLife","B36i/S23-ce5q"]);h.push(["tlife","B3/S2-i34q"]);h.push(["tosc","B3/S234wz"]);h.push(["tosc2","B36in/S234cw"]);h.push(["tPedestrianFlock","B38/S12-i4q"]);h.push(["tPedestrianLife","B38/S2-i34q"]);h.push(["tq6","B2i34e/S023-a4ce"]);h.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);h.push(["Train","B34t6k8/S2-i35a7e"]);h.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);h.push(["triship","B2a3e/S012-ai3-i45-i678"]);
h.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);h.push(["Turro","B2-a3c/S12-i"]);h.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);h.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);h.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);h.push(["Virus_v2","B3-nqr6/S235"]);h.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);h.push(["WetLife","B34r/S23"]);h.push(["Whichlife","B2in3aeijn/S234e"]);h.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);
h.push(["wlife","B34w/S23"]);h.push(["Worms 0","B01c2n5a/S3a5i"]);h.push(["Writers","B2-a3-inqr4c6/S23"]);h.push(["WSScentral","B3-n45qr6i/S2eik3"]);h.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);h.push(["xtdbee","B3-k/S23"]);h.push(["xvaLifeg","B2e3/S23"]);h.push(["Ylife","B2e3ai4ar/S23-a4a"]);h.push(["ylife (BokaBB)","B34y5y/S234y5y"]);h.push(["zigzag","B3/S2-k34q"]);h.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);p.push("INT M G");h.push(["Isotropic Non-Totalistic Generations Moore",
""]);h.push(["HTech","234e/2e3/3"]);h.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);h.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);h.push(["Simple Brain","234e/e3/3"]);h.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);h.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);p.push("LtL M");h.push(["Larger than Life Moore",""]);h.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);h.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);h.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);h.push(["Bugs R3",
"R3,C2,M1,S14..23,B14..18,NM"]);h.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);h.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);h.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);h.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);h.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);h.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);h.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);h.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);h.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);
h.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);h.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);h.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);h.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);h.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);h.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);h.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);h.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);h.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);h.push(["Quadratic Bugs",
"R6,C2,M1,S47..81,B47..61,NM"]);h.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);h.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);h.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);h.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);h.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);h.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);h.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);p.push("LtL M G");h.push(["Generations Larger than Life Moore",""]);h.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);
h.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);h.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);p.push("HROT vN");h.push(["Higher-Range Outer-Totalistic von Neumann",""]);h.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);h.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);p.push("HROT M");h.push(["Higher-Range Outer-Totalistic Moore",""]);h.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);h.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
h.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);h.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);h.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
h.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);p.push("MAP NINT");h.push(["MAP Non-Isotropic",""]);h.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);h.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
h.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);h.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);h.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);h.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);h.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
h.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);h.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);h.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);h.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);h.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);
p.push("Weighted");h.push(["Weighted",""]);h.push(["Ben's rule","R1,C2,S3,5,8,B4,6,8,NW323202323"]);h.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);h.push(["Bricks","R1,C3,S10,12,14,16,B7,13,NW525202525"]);h.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);h.push(["Career","R1,C2,S2-3,B3,NW121101111"]);h.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);h.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);h.push(["Conway",
"R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);h.push(["Conway--","R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);h.push(["Conway++","R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);h.push(["Conway+-1","R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);h.push(["Conway+-2","R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);h.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);h.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);h.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);h.push(["Dragon",
"R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);h.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);h.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);h.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);h.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);h.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);h.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);h.push(["Frost M","R1,C25,S,B1,NW111101111"]);
h.push(["Frost N","R1,C25,S,B1,NW010101010"]);h.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);h.push(["HexParity","R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);h.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);h.push(["Hex Inverse Fire","R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);h.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);h.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);h.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);h.push(["Lemmings",
"R1,C2,S3-6,B4,NW121202131"]);h.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);h.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);h.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);h.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);h.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);h.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);h.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);h.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);h.push(["Navaho1",
"R1,C12,S8-9,11,B2,5,NW414575414"]);h.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011"]);h.push(["Parity","R1,C2,S1,3,5,B1,3,5,NW010111010"]);h.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);h.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);h.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);h.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);h.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);h.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);
h.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);h.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);h.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);h.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);h.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);h.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);h.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);h.push(["Stream",
"R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);h.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);h.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);h.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);h.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);h.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);h.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);h.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);h.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);
p.push("Weighted G");h.push(["Weighted Generations",""]);h.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);h.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);h.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);h.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);h.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);h.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);h.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);h.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);
h.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);h.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);h.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);p.push("Alt OT M");h.push(["Alternating Outer-Totalistic Moore",""]);h.push(["alternlife","B13/S012345678|B/S15"]);h.push(["comb395","B3/S1237|B2/S"]);h.push(["comb625","B3/S348|B2/S356"]);h.push(["Dotlesslife","B3/S23|B/S12345678"]);h.push(["Fizzler","B13/S3|B/S345678"]);h.push(["Jelly","B3/S135|B2/S5"]);h.push(["Phoenix","B24/S|B35/S"]);
p.push("Alt INT M");h.push(["Alternating Non-Totalistic Moore",""]);h.push(["SparklessLife","B3/S23|B/S1c2345678"]);h.push(["Unidim1","B134578/S02345678|B6i7/S268"]);h.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);h.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.Gc[0][2]=!1;this.Gc[0][3]=!1;for(w=1;w<this.Gc.length;w+=1)for(h=this.Gc[w][1],p=this.Gc[w][0],this.Gc[w][2]=!1,this.Gc[w][3]=!1,g=0;g<w;g+=1)this.Gc[g][0]===p&&(this.Gc[g][3]=!0,this.Gc[w][3]=!0),this.Gc[g][1]===h&&(this.Gc[g][2]=
!0,this.Gc[w][2]=!0)},Oy:function(w){var g=null,h=0;for(w=w.replace(/&amp;/g,"&");h<this.Gc.length&&null===g;)""!==this.Gc[h][1]&&this.Gc[h][0]===w&&(g=this.Gc[h][1]),h+=1;if(!g)for(w=w.toLowerCase(),h=0;h<this.Gc.length&&null===g;)""!==this.Gc[h][1]&&this.Gc[h][0].toLowerCase()===w&&(g=this.Gc[h][1]),h+=1;return g},kr:function(w){for(var g=null,h=0;h<this.Gc.length&&null===g;)""!==this.Gc[h][1]&&this.Gc[h][1]===w&&(g=this.Gc[h][0]),h+=1;return g}}}(),function(){function w(d,f,n,m,q){this.o=q;this.Wa=
d;this.bb=f;this.Gb=n;this.message="";this.ja=d;this.ua=f;this.Bb=n;this.vk="";this.U=this.G=!1;this.context=m;this.ob=!1;this.Ja=this.$=0;this.Og="rgb(32,255,255)";this.TF="white";this.s=0;this.animate=!1;this.Yb=this.pc="black";this.enabled=!1;this.scale=1}function g(d,f,n,m){this.name=d;this.width=f;this.height=n;this.Kp=m}function h(d,f){this.context=f;this.U=d;this.height=this.width=0;this.ua=this.ja=this.G=this.s=null;this.$=[];this.gw=!0;this.$A=-1;this.eE=0;this.nf=!1;this.scale=1}function p(d,
f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C,G,D){this.id=d;this.G=D;this.F="";this.km=-1;this.l=this.cv=!1;this.Ob=f;this.caller=n;this.icon=G;this.x=q;this.y=u;this.Nm=q;this.s=u;this.position=m;this.width=y;this.height=v;this.Bs=y;this.PA=v;this.border=t;this.type=l;e===c.Lx?this.orientation=y>=v?c.Oe:c.vertical:this.orientation=e;this.Ss=this.orientation;this.lower=r;this.upper=B;l===c.qo?this.current=[b,b]:this.current=b;this.zC=x;this.Za=z;this.NA=A;this.fixed=C;this.qv=!1;this.Az=this.zz=-1;this.textAlign=
c.nD;this.enabled=!0;this.locked=!1;this.zg=[];if(this.type===c.list)for(d=0;d<r.length;d+=1)this.zg[d]=!1;this.Ys=[];this.Hv=0;this.EK=!1;this.Yc=D.Yc;this.pe=D.pe;if(l===c.list)for(this.qn=[],d=0;d<r.length;d+=1)this.qn[d]=this.Yc;this.kf=D.kf;this.vg=D.vg;this.ui=D.ui;this.cl=D.cl;this.Qm=D.Qm;this.zo=D.zo;this.Ug=D.Ug;this.pk=D.pk;this.ei=D.ei;this.Qk=D.Qk;this.border=D.border;this.fontSize=parseInt(D.Uk.substr(0,D.Uk.indexOf("px")),10);this.fontFamily=D.Uk.substr(D.Uk.indexOf("px")+3)}function k(d,
f,n,m,q,u){this.D=d;this.context=q;this.oh=this.Ge=1;this.Uk=u;this.locked=this.l=!1;this.Cg=this.pf=-1;this.tn=this.Mc=!1;this.ja=this.$=-1;this.Ja=6;this.Ob=f;this.we=[];this.Nc=0;this.Yc="";this.pe=0;this.kf="";this.vg=0;this.ui="";this.cl=0;this.Qm="";this.zo=0;this.Ug="";this.pk=0;this.ei="";this.border=this.Qk=0;this.G=c.Lx;this.ym=this.Pk=-1;this.En=this.LC=null;this.Nt=n;this.caller=m;this.Y=null;this.fy=this.ou=this.U="auto"}function a(d,f,n,m,q,u){var y=this,v=0;this.vf=1;this.fz=this.OA=
!0;this.Wa=this.bb=40;this.yN=50;this.Nj=0;this.$=this.ja=this.Ja=-1;this.ko=!1;this.caller=q;this.Mj=this.rb=this.il=this.Sc=!1;this.Ee=4;this.WD=u;this.hasFocus=this.Mq=!1;this.Hq=!0;this.ft=!1;this.kn=1;this.Eu=8;this.Yc="black";this.pe=.7;this.kf="white";this.vg=1;this.ui="rgb(0,240,32)";this.cl=.7;this.Qm="blue";this.zo=.7;this.Ug="grey";this.pk=1;this.ei="rgb(32,255,255)";this.border=this.Qk=1;this.mD=function(r){return function(){r.pc(r)}}(this);this.Y=m;this.Zc=d;this.Dc=f;this.Mc=!1;this.hl=
this.gl=-1;this.bm=!1;this.xh=-1;this.Hc=null;this.Uk=n;this.Sm=this.rl=!1;this.rv=performance.now();this.ho=5;this.Xs=0;this.xz=[];this.Dz=[];this.wz=[];for(v=0;5>v;v+=1)this.xz[v]=0,this.Dz[v]=0,this.wz[v]=0;this.Tr=null;this.Ph=!1;this.notification=new w(25,100,25,f,this);this.yz=performance.now();this.tn=this.xC=!1;this.U=[];this.s=this.G=0;registerEvent(d,"mousedown",function(r){y.ob(y,r)},!1);registerEvent(d,"mousemove",function(r){y.Bb(y,r)},!1);registerEvent(d,"mouseup",function(r){y.Yb(y,
r)},!1);registerEvent(d,"mouseover",function(r){y.Vb(y,r)},!1);registerEvent(d,"mouseout",function(r){y.Gb(y,r)},!1);registerEvent(d,"touchstart",function(r){y.ua(y,r)},!1);registerEvent(d,"touchmove",function(r){y.ua(y,r)},!1);registerEvent(d,"touchend",function(r){y.ua(y,r)},!1);registerEvent(d,"touchcancel",function(r){y.ua(y,r)},!1)}w.prototype.Dn=function(){var d=!1;if(""!==this.message||""!==this.vk)d=!0;return d};w.prototype.clear=function(d,f){d?""!==this.vk&&(f||this.U?(this.vk="",this.U=
!1):(this.Ja=performance.now()-(this.ja+this.ua),this.U=!0)):""!==this.message&&(f||this.G?(this.G=!1,this.message=""):(this.$=performance.now()-(this.Wa+this.bb),this.G=!0))};w.prototype.notify=function(d,f,n,m,q){this.enabled&&(q?this.vk!==d&&(this.vk=d,this.ja=16*f,this.ua=16*n,this.Bb=16*m,this.Ja=performance.now(),this.U=!1,this.s=0,this.animate=!1):(this.message=d,this.Wa=16*f,this.bb=16*n,this.Gb=16*m,this.$=performance.now(),this.G=!1))};w.prototype.Tn=function(d,f,n){var m=this.context.measureText(d).width>>
1;if(this.ob){this.context.fillStyle=this.Yb;var q=this.context.globalAlpha;this.context.globalAlpha=.5*q;this.context.fillRect(-m-20,-n,2*m+40,2*n);this.context.globalAlpha=q}this.context.fillStyle=this.pc;this.context.fillText(d,-m+2,2);f?this.animate?(this.context.fillStyle=128>this.s?"rgb("+2*this.s+","+2*this.s+",255)":"rgb("+2*(256-this.s)+","+2*(256-this.s)+",255)",this.s=this.s+4&255):this.context.fillStyle=this.TF:this.context.fillStyle=this.Og;this.context.fillText(d,-m,0)};w.prototype.Vb=
function(d,f,n,m,q,u,y){var v=30*this.scale,r=32*this.scale,B=this.o.Ee,b=60*this.scale,l=!0;this.o.Sc?(b=0,u=this.context.canvas.height/2,this.ob=!0):this.ob=!1;""!==d&&(l=!1,q=performance.now()-q,this.context.save(),this.o.rb&&(y?(b=0,u=this.context.canvas.height/2):(v/=B,r=r/B|0,u=u/B|0,b=b/B|0)),this.context.font=(v|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,b+u),q<=f?(u=q/f,u*=u,this.context.globalAlpha=u,this.context.scale(u,u)):q>f+n&&q<=f+n+m&&(u=(m-(q-(f+n)))/m,u*=
u,this.context.globalAlpha=u,this.context.scale(u,u)),q>f+n+m?l=!0:(f=d.indexOf("\\n"),-1===f?this.Tn(d,y,r):(this.Tn(d.substr(0,f),y,r),this.context.translate(0,r),this.Tn(d.substr(f+2),y,r))),this.context.restore());return l};w.prototype.update=function(){var d=this.o.Hc.oh;this.Vb(this.message,this.Wa,this.bb,this.Gb,this.$,81*d,!1)&&(this.message="");this.o.rb&&"Expand"!==this.vk&&"Launch"!==this.vk||!this.Vb(this.vk,this.ja,this.ua,this.Bb,this.Ja,45*d,!0)||(this.vk="")};h.prototype.$M=function(d){this.scale=
d};h.prototype.Tn=function(d,f,n,m){var q;if(0<this.U.width){this.nf||(this.width=this.U.width,this.height=this.U.height,this.s=document.createElement("canvas"),this.s.width=this.width,this.s.height=this.height,this.G=this.s.getContext("2d"),this.ja=new Image,this.ua=new Image);if(this.gw){this.G.drawImage(this.U,0,0);var u=this.G.getImageData(0,0,this.s.width,this.s.height);var y=new Uint32Array(u.data.buffer);for(q=0;q<y.length;q+=1)4294967295===y[q]&&(y[q]=this.eE);this.G.putImageData(u,0,0);this.ua.src=
this.s.toDataURL("image/png");this.G.drawImage(this.U,0,0);u=this.G.getImageData(0,0,this.s.width,this.s.height);y=new Uint32Array(u.data.buffer);for(q=0;q<y.length;q+=1)4294967295===y[q]&&(y[q]=this.$A);this.G.putImageData(u,0,0);this.nf=this.gw=!1}this.nf||(this.ja.src=this.s.toDataURL("image/png"),this.nf=!0);1!==this.scale&&(this.context.save(),this.context.translate(f,n),this.context.scale(this.scale,this.scale),this.context.imageSmoothingEnabled=!0,n=f=0);m?this.context.drawImage(this.ua,d.Kp*
d.width,0,d.width,d.height,f,n,d.width,d.height):this.context.drawImage(this.ja,d.Kp*d.width,0,d.width,d.height,f,n,d.width,d.height);1!==this.scale&&(this.context.restore(),this.context.imageSmoothingEnabled=!1)}};h.prototype.length=function(){return this.$.length};h.prototype.icon=function(d){var f,n=this.$,m=this.length(),q=null;for(f=0;f<m&&!q;)n[f].name===d?q=n[f]:f+=1;return q};h.prototype.add=function(d,f,n){var m=this.$.length;d=new g(d,f,n,m);this.$[m]=d};var c={Lx:0,Oe:1,vertical:2,qo:0,
button:1,toggle:2,dh:3,list:4,label:5,Vm:0,Va:1,left:0,nD:1,right:2,pa:0,tc:1,Dy:2,mb:3,oq:4,Hj:5,PC:6,nd:7,Db:8};p.prototype.ug=function(d){!this.l&&d&&(this.l=!0)};p.prototype.ab=function(d){this.fontSize=parseInt(d.substr(0,d.indexOf("px")),10);this.fontFamily=d.substr(d.indexOf("px")+3)};p.prototype.Is=function(d,f,n,m,q,u){this.kf=d;this.Yc=f;this.ui=n;this.Qm=m;this.Ug=q;this.ei=u;if(this.type===c.list)for(this.qn=[],d=0;d<this.lower.length;d+=1)this.qn[d]=this.Yc};p.prototype.Bi=function(d){this.Bs=
d};p.prototype.UM=function(d){this.PA=d};p.prototype.Bo=function(d){this.Nm=d};p.prototype.AH=function(d){this.s=d};p.prototype.setPosition=function(d,f,n){this.position=d;this.Nm=f;this.s=n};p.prototype.sI=function(d,f){var n=this.G.Ge,m=this.G.oh,q=this.Nm*n,u=this.s*m;n=this.Bs*n;m=this.PA*m;this.x=q;this.y=u;this.width=n;this.height=m;switch(this.position){case c.pa:this.x=(d-n>>1)+q;break;case c.tc:this.x=d+q;break;case c.Dy:this.y=(f-m>>1)+u;this.x=d+q;break;case c.mb:this.x=d+q;this.y=f+u;
break;case c.oq:this.x=(d-n>>1)+q;this.y=f+u;break;case c.Hj:this.y=f+u;break;case c.PC:this.y=(f-m>>1)+u;break;case c.Db:this.x=(d-n>>1)+q,this.y=(f-m>>1)+u}};p.prototype.WC=function(d,f){var n=this.Hv;this.Ys[n]=[d,f];this.Hv=n+1};p.prototype.Ot=function(d){var f=[],n;var m=d.length;for(n=0;n<m;n+=1)d[n].WC(this,!0);m=f.length;for(n=0;n<m;n+=1)f[n].WC(this,!1)};p.prototype.iL=function(d,f){var n=!1;this.enabled&&d>=this.x&&d<this.x+this.width&&f>=this.y&&f<this.y+this.height&&(n=!0);return n};k.prototype.yM=
function(d){this.oh=this.Ge=d;this.D.notification.scale=d};k.prototype.Is=function(d,f,n,m,q,u){var y;this.kf=d;this.Yc=f;this.ui=n;this.Ug=q;this.ei=u;for(y=0;y<this.we.length;y+=1)this.we[y].Is(d,f,n,m,q,u)};k.prototype.ua=function(d,f){var n=!1,m=d.Hv;d.type===c.list&&d.upper===c.Va?n=d.current[0]:n=d.current===d.upper;d.EK&&(n=!n);if(n&&f)for(f=0;f<m;f+=1)n=n&&this.ua(d.Ys[f][0],d.Ys[f][1]);return n};k.prototype.IG=function(d){var f,n=d.Hv;var m=!0;for(f=0;f<n;f+=1)m=m&&this.ua(d.Ys[f][0],d.Ys[f][1]);
d.enabled=m};k.prototype.nf=function(){var d;for(d=0;d<this.Nc;d+=1){var f=this.we[d];f.enabled=!0;switch(f.type){case c.toggle:f.Ob&&(f.current=f.Ob(f.current===f.upper,!1,this.caller)?f.upper:f.lower);break;case c.qo:f.Ob&&(f.current=f.Ob(f.current,!1,this.caller));break;case c.list:f.Ob&&(f.current=f.Ob(f.current,!1,this.caller))}this.IG(f)}};k.prototype.pb=function(d,f,n,m,q,u,y,v,r){this.we[this.Nc]=new p(this.Nc,d,this.caller,f,n,m,q,u,y,r,v,c.list,this.G,this.border,!0,"","",-1,[],this);this.Nc+=
1;return this.we[this.Nc-1]};k.prototype.$j=function(d,f,n,m,q,u,y,v,r,B,b,l){this.we[this.Nc]=new p(this.Nc,d,this.caller,f,n,m,q,u,y,v,r,c.qo,this.G,this.border,!0,B,b,l,null,this);this.Nc+=1;return this.we[this.Nc-1]};k.prototype.Ea=function(d,f,n,m,q,u){this.we[this.Nc]=new p(this.Nc,null,null,d,f,n,m,q,0,0,0,c.label,this.G,this.border,!0,u,"",-1,null,this);this.Nc+=1;return this.we[this.Nc-1]};k.prototype.La=function(d,f,n,m,q,u){this.we[this.Nc]=new p(this.Nc,d,this.caller,f,n,m,q,40,0,0,0,
c.button,this.G,this.border,!0,u,"",-1,null,this);this.Nc+=1;return this.we[this.Nc-1]};k.prototype.XH=function(){this.we[this.Nc]=new p(this.Nc,null,null,Menu.Hj,0,-40,100,40,0,100,0,c.dh,this.G,this.border,!1,"","",0,null,this);this.Nc+=1;return this.we[this.Nc-1]};k.prototype.s=function(d,f,n){var m;d+=String();if(""!==d){this.context.save();this.context.translate(f.x+f.width/2,f.y+f.height/2);this.context.font=(f.fontSize*this.Ge|0)+"px "+f.fontFamily;f.Ss===c.vertical&&this.context.rotate(.5*
Math.PI);var q=this.context.measureText(d).width;var u=f.Ss===c.vertical?f.height:f.width;if(q>=u-6){if(m=d.length){do{--m;var y=d.substr(0,m)+"...";q=this.context.measureText(y).width}while(1<m&&q>=u-6)}d=y}switch(f.textAlign){case c.left:var v=f.width/2-2;break;case c.nD:v=q/2;break;case c.right:v=q/2-(f.width-q)/2+4}this.context.fillStyle=f.Yc;n&&this.context.fillRect(2-v,2,q,2);this.context.fillText(d,2-v+.5,2.5);this.context.fillStyle=f.locked||this.locked?f.Ug:f.kf;this.context.fillText(d,-v+
.5,.5);n&&this.context.fillRect(-v,0,q,2);this.context.restore()}};k.prototype.ob=function(d){this.context.globalAlpha=this.vg;this.s(d.Za,d,!1)};k.prototype.Wa=function(d){this.context.globalAlpha=this.vg;this.s(d.Za,d,!1)};k.prototype.Gb=function(d){var f=(d.current-d.lower)/(d.upper-d.lower);this.context.globalAlpha=d.pe;this.context.fillStyle=d.kf;d.orientation===c.Oe?(f*=d.width-3,this.context.fillRect(d.x+(f+1|0),d.y,1,d.height)):(f*=d.height-3,this.context.fillRect(d.x,d.y+(f+1|0),d.width,
1));f=d.Za;d.zC&&(f=-1!==d.fixed?f+d.current.toFixed(d.fixed):f+d.current,f+=d.NA);""!==f&&(this.context.globalAlpha=d.vg,this.s(f,d,!1))};k.prototype.Vb=function(d,f){var n=(d.current[0]-d.lower)/(d.upper-d.lower);var m=this.Ja;d.orientation===c.Oe?(n*=d.width-3,n=n+1|0,f&&(this.context.fillStyle=d.ui,this.context.globalAlpha=d.cl,this.context.fillRect(d.x+n-m,d.y,m,d.height),this.context.fillRect(d.x+n+1,d.y,m,d.height)),d.locked||this.locked?(this.context.fillStyle=d.Ug,this.context.globalAlpha=
d.pk):(this.context.fillStyle=d.kf,this.context.globalAlpha=d.vg),this.context.fillRect(d.x+n,d.y,1,d.height)):(n*=d.height-3,n=n+1|0,f&&(this.context.fillStyle=d.ui,this.context.globalAlpha=d.cl,this.context.fillRect(d.x,d.y+n-m,d.width,m),this.context.fillRect(d.x,d.y+n+1,d.width,m)),d.locked||this.locked?(this.context.fillStyle=d.Ug,this.context.globalAlpha=d.pk):(this.context.fillStyle=d.kf,this.context.globalAlpha=d.vg),this.context.fillRect(d.x,d.y+n,d.width,1));f=d.Za;d.zC&&(f=0<=d.fixed?f+
d.current[1].toFixed(d.fixed):f+d.current[1]);f+=d.NA;""!==f&&(this.context.globalAlpha=this.vg,this.s(f,d,!1))};k.prototype.Yb=function(d){this.context.globalAlpha=this.vg;var f="-"===d.lower&&""===d.upper&&d.current===d.lower;var n=d.Za;d.zC&&!f&&(n+=d.current);n+=d.NA;this.s(n,d,f)};k.prototype.Bb=function(d,f){var n=d.x;var m=d.y;var q=d.width;var u=d.height;var y=d.orientation;var v=d.current;var r=d.lower;var B=r.length;var b=d.orientation===c.Oe?q/B:u/B;this.context.globalAlpha=d.zo;this.context.fillStyle=
d.Qm;if(d.upper===c.Vm){var l=d.current;0<=l&&l<B&&(d.orientation===c.Oe?this.context.fillRect(n+l*b+1,m+1,b-2,u-2):this.context.fillRect(n+1,m+1+l*b,q-2,b-2))}else if(d.orientation===c.Oe)for(l=0;l<B;l+=1)v[l]&&this.context.fillRect(n+l*b+1,m+1,b-2,u-2);else for(l=0;l<B;l+=1)v[l]&&this.context.fillRect(n+1,m+1+l*b,q-2,b-2);d.cv=!1;f?(this.context.globalAlpha=d.cl,this.context.fillStyle=d.ui,d.orientation===c.Oe?(l=(this.pf-n)/q*B|0,0<=l&&l<B&&(d.zg[l]?d.cv=!0:this.context.fillRect(n+l*b+.5,m+.5,
b-1,u-1))):(l=(this.Cg-m)/u*B|0,0<=l&&l<B&&(d.zg[l]?d.cv=!0:this.context.fillRect(n+.5,m+.5+l*b,q-1,b-1))),d.km=l):d.km=-1;this.context.globalAlpha=this.vg;if(d.orientation===c.Oe)for(l=0;l<B;l+=1)d.icon[l]&&this.Y.Tn(d.icon[l],d.x+b*l,d.y,this.locked||d.locked||d.zg[l]);else for(l=0;l<B;l+=1)d.icon[l]&&this.Y.Tn(d.icon[l],d.x,d.y+b*l,this.locked||d.locked||d.zg[l]);this.context.globalAlpha=d.vg;this.context.fillStyle=d.kf;if(y===c.Oe)for(l=0;l<B;l+=1)n=r[l],""!==n&&(this.context.save(),this.context.translate((.5+
(l-B/2))*b,0),this.s(n,d,!1),this.context.restore());else for(l=0;l<B;l+=1)n=r[l],""!==n&&(this.context.save(),this.context.translate(0,(.5+(l-B/2))*b),this.s(n,d,!1),this.context.restore())};k.prototype.bb=function(d,f,n,m,q){var u=!0;f&&!this.Mc&&q&&(u=!1);u&&(n===m||-1===m&&f)&&(d.type===c.button||d.type===c.toggle)?(this.context.fillStyle=d.ui,this.context.globalAlpha=d.cl):(this.context.fillStyle=d.Yc,this.context.globalAlpha=d.pe);switch(d.type){case c.dh:q=(d.current-d.lower)/(d.upper-d.lower);
this.context.fillStyle=d.Qm;this.context.globalAlpha=d.zo;d.orientation===c.Oe?(q*=d.width-3,q=q+1|0,this.context.fillRect(d.x,d.y,q,d.height),this.context.fillStyle=d.Yc,this.context.globalAlpha=d.pe,this.context.fillRect(d.x+q,d.y,d.width-q,d.height)):(q*=d.height-3,q=q+1|0,this.context.fillRect(d.x,d.y,d.width,q),this.context.fillStyle=d.Yc,this.context.fillRect(d.x,d.y+q,d.width,d.height-q));break;case c.qo:q=(d.current[0]-d.lower)/(d.upper-d.lower);if(u&&(n===m||-1===m&&f)){var y=this.Ja;if(d.orientation===
c.Oe){q*=d.width-3;q=q+1|0;var v=q-y;0<v&&this.context.fillRect(d.x,d.y,v,d.height);v=1+q+y;v<d.width&&this.context.fillRect(d.x+v,d.y,d.width-v,d.height)}else q*=d.height-3,q=q+1|0,v=q-y,0<v&&this.context.fillRect(d.x,d.y,d.width,v),v=1+q+y,v<d.height&&this.context.fillRect(d.x,d.y+v,d.width,d.height-v)}else this.context.fillRect(d.x,d.y,d.width,d.height);break;case c.list:y=d.lower.length;if(d.orientation===c.Oe)for(v=d.width/y,q=0;q<y;q+=1)this.context.fillStyle=d.qn[q],this.context.fillRect(d.x+
q*v+1,d.y+1,v-2,d.height-2);else for(v=d.height/y,q=0;q<y;q+=1)this.context.fillStyle=d.qn[q],this.context.fillRect(d.x+1,d.y+1+q*v,d.width-2,v-2);break;default:this.context.fillRect(d.x,d.y,d.width,d.height)}d.type!==c.list&&d.icon&&(this.context.globalAlpha=d.vg,this.Y.Tn(d.icon,d.x,d.y,this.locked||d.locked));if(0<d.border)switch(d.locked||this.locked?(this.context.strokeStyle=d.Ug,this.context.globalAlpha=d.pk):(this.context.strokeStyle=d.ei,this.context.globalAlpha=d.Qk),this.context.lineWidth=
d.border,d.type){case c.label:break;case c.list:y=d.lower.length;if(d.orientation===c.Oe)for(v=d.width/y,q=0;q<y;q+=1)this.locked||d.locked||d.zg[q]?(this.context.strokeStyle=d.Ug,this.context.globalAlpha=d.pk):(this.context.strokeStyle=d.ei,this.context.globalAlpha=d.Qk),this.context.strokeRect(d.x+.5+q*v,d.y+.5,v-1,d.height-1);else for(v=d.height/y,q=0;q<y;q+=1)this.locked||d.locked||d.zg[q]?(this.context.strokeStyle=d.Ug,this.context.globalAlpha=d.pk):(this.context.strokeStyle=d.ei,this.context.globalAlpha=
d.Qk),this.context.strokeRect(d.x+.5,d.y+.5+q*v,d.width-1,v-1);break;default:this.context.strokeRect(d.x+.5,d.y+.5,d.width-1,d.height-1)}switch(d.type){case c.button:this.Wa(d);break;case c.label:this.ob(d);break;case c.qo:this.Vb(d,u&&(n===m||-1===m&&f));break;case c.toggle:this.Yb(d);break;case c.dh:this.Gb(d);break;case c.list:this.Bb(d,u&&(n===m||-1===m&&f))}if(n===m)switch(d.type){case c.qo:u=this.Cg,d.orientation===c.vertical?(u<d.y?u=d.y:u>d.y+d.height-1&&(u=d.y+d.height-1),q=(u-d.y)/(d.height-
1)*(d.upper-d.lower)+d.lower):(u=this.pf,u<d.x?u=d.x:u>d.x+d.width-1&&(u=d.x+d.width-1),q=(u-d.x)/(d.width-1)*(d.upper-d.lower)+d.lower),d.lower<d.upper?(q<d.lower&&(q=d.lower),q>d.upper&&(q=d.upper)):(q<d.upper&&(q=d.upper),q>d.lower&&(q=d.lower)),d.current[0]=q,d.Ob&&(d.current=d.Ob(d.current,!0,d.caller))}if(f&&!this.Mc&&d.qv)switch(d.type){case c.button:d.Ob&&d.Ob(d.caller);break;case c.toggle:d.current=d.current===d.upper?d.lower:d.upper;d.Ob&&d.Ob(d.current===d.upper,!0,d.caller);break;case c.list:y=
d.lower.length,v=d.orientation===c.Oe?(this.pf-d.x)/d.width*y|0:(this.Cg-d.y)/d.height*y|0,d.upper===c.Vm?d.zg[v]||(d.Ob?d.current=d.Ob(v,!0,d.caller):d.current=v):d.zg[v]||(d.current[v]=!d.current[v],d.Ob&&d.Ob(d.current,!0,d.caller))}f&&n===m?(d.qv=this.Mc,d.zz=this.pf,d.Az=this.Cg):(d.qv=!1,d.zz=-1,d.Az=-1)};k.prototype.Jt=function(d){this.U=d};k.prototype.Cy=function(){var d,f=!1,n=this.context.canvas.width,m=this.context.canvas.height,q=-1;var u=!1;this.ym=-1;if(this.l)this.Mc?-2!==this.Pk?(this.$=
this.pf,this.ja=this.Cg,this.zz=this.pf,this.Az=this.Cg,this.Pk=-2):this.En&&!this.locked&&this.En(this.pf,this.Cg,this.Mc,this.caller):(-2===this.Pk&&(this.En&&!this.locked&&this.En(this.pf,this.Cg,this.Mc,this.caller),this.pf===this.$&&this.Cg===this.ja&&this.LC&&(this.D.Mq?this.D.Mq=!1:this.LC(this.pf,this.Cg,this.Mc,this.caller))),this.Mc||(this.Pk=-1));else{var y=this.Pk;this.context.textAlign="left";for(d=0;d<this.Nc;d+=1){var v=this.we[d];if(!v.l){v.sI(n,m);var r=!1;v.iL(this.pf,this.Cg)&&
(q=d,v.locked||this.locked?f=!0:r=!0);r&&!this.Mc&&(this.ym=d);(this.Mc&&-1===y&&r||r&&this.tn)&&v.type!==c.label&&(y=d,this.tn&&(v.qv=!0));d===y&&(v.locked||this.locked)&&(y=-1,r=!1);v.enabled&&this.bb(v,r,d,y,this.D.bm)}}0<=y&&!this.Mc&&(u=!0);this.Mc&&-1===y&&!f&&(y=-2);-2===y&&this.En&&!this.locked&&this.En(this.pf,this.Cg,this.Mc,this.caller);this.Mc||(y=-1);this.Pk=y;this.context.globalAlpha=1}0<=q?this.ou=this.we[q].type===c.qo?this.we[q].orientation===c.Lx||this.we[q].orientation===c.Oe?"ew-resize":
"ns-resize":"auto":this.ou=this.U;return u};a.prototype.dG=function(){this.U=[];this.s=this.G=0};a.prototype.aI=function(){var d=0;0<this.s&&(d=this.G/this.s);this.U[this.U.length]=d;this.s=this.G=0};a.prototype.WJ=function(d){var f=-1;0<=d&&d<this.U.length&&(f=this.U[d]);return f};a.prototype.Is=function(d,f,n,m,q,u){this.kf=d;this.Yc=f;this.ui=n;this.Ug=q;this.ei=u;this.Hc&&this.Hc.Is(d,f,n,m,q,u)};a.prototype.XL=function(d,f,n){d=new k(this,d,f,n,this.Dc,this.Uk);d.kf=this.kf;d.vg=this.vg;d.Yc=
this.Yc;d.pe=this.pe;d.ui=this.ui;d.cl=this.cl;d.Qm=this.Qm;d.zo=this.zo;d.Ug=this.Ug;d.pk=this.pk;d.ei=this.ei;d.Qk=this.Qk;d.border=this.border;return d};a.prototype.wJ=function(){var d=this.Hc,f=d.Ge,n=this.Dc,m="",q="";var u=1;if(-1!==d.Pk||-1===d.Pk&&-1===d.ym)this.$=d.Pk;if(-1===d.ym||-1!==this.$&&this.$===d.ym){if(-1!==d.ym){var y=d.we[d.ym];y.id===this.Ja&&y.km!==this.ja&&(this.$=-1)}50>this.Nj&&(this.Nj+=1)}else{y=d.we[d.ym];y.id!==this.Ja||y.id===this.Ja&&y.km!==this.ja?(this.Ja=y.id,this.ja=
y.km,50>this.Nj&&(this.Nj+=1)):0<=this.Nj&&--this.Nj;-1!==this.ja?m=y.F[this.ja]:Array.isArray(y.F)?m="":m=y.F;var v=m.indexOf("\n");if(""!==m&&-1===this.Nj&&!y.cv){this.$=-1;var r=y.x;var B=y.y;var b=y.width;var l=y.height;-1!==y.km&&(y.orientation===c.Oe?(r+=b/y.lower.length*y.km,b/=y.lower.length):(B+=l/y.lower.length*y.km,l/=y.lower.length));d=18*f;n.font=(d|0)+"px Arial";var e=4*f;var t=n.measureText(m).width;f=Math.round(r+b/2);B=Math.round(B+l/2);f-=t/2;f<e+1?f=e+1:f+t+e>n.canvas.width&&(f=
n.canvas.width-t-e-1);l>b?(-1!==this.Wa&&b<this.Wa&&(b=this.Wa),f>n.canvas.width/2?f=r-t-b/2:f=r+y.width+b/2):(-1!==this.bb&&l<this.bb&&(l=this.bb),B>n.canvas.height/2?B-=l:B+=l);if(t>n.canvas.width){q=(t>>1)+d+e;q>n.canvas.width&&(q=n.canvas.width);for(u=1;n.measureText(m.substr(0,u)).width<q;)u+=1;for(v=u-1;v>u-5;)q=m[v]," "===q||","===q||"/"===q||"|"===q?(u=v+2,v=u-5):--v;q=m.substr(u-1);m=m.substr(0,u-1);t=n.measureText(m).width;u=n.measureText(q).width;u>t&&(t=u);u=2}else-1!==v&&(q=m.substr(v+
1),u=n.measureText(q).width,m=m.substr(0,v),t=n.measureText(m).width,u>t&&(t=u),u=2);v=d*u+2*e;2===u&&B>n.canvas.height/2&&(B-=d+e,v+=e);n.globalAlpha=this.pe;n.fillStyle=this.Yc;n.fillRect((f-e|0)-.5,(B-d/2-e|0)-.5,t+2+2*e,v);n.globalAlpha=this.Qk;n.strokeStyle=this.ei;n.strokeRect((f-e|0)-.5,(B-d/2-e|0)-.5,t+2+2*e,v);n.globalAlpha=this.pe;n.strokeStyle=this.Yc;n.beginPath();n.moveTo((f-e|0)+.5,(B-d/2-e|0)+.5+v);n.lineTo((f-e|0)+.5+t+2+2*e,(B-d/2-e|0)+.5+v);n.lineTo((f-e|0)+.5+t+2+2*e,(B-d/2-e|0)+
.5);n.stroke();n.globalAlpha=1;n.fillStyle=this.Yc;n.fillText(m,f+2,B+2);""!==q&&n.fillText(q,f+2,B+d+e+2);n.fillStyle=this.kf;u=m.indexOf("[");v=m.lastIndexOf("]");-1!==u&&-1!==v?(y=m.substr(0,u+1),t=n.measureText(y).width,n.fillText(y,f,B),n.fillStyle="#80FFFF",y=m.substr(u+1,v-u-1),n.fillText(y,f+t,B),n.fillStyle=this.kf,y=m.substr(v),t=n.measureText(m.substr(0,v)).width,n.fillText(y,f+t,B)):n.fillText(m,f,B);""!==q&&(u=q.indexOf("["),v=q.lastIndexOf("]"),-1!==u&&-1!==v?(y=q.substr(0,u+1),t=n.measureText(y).width,
n.fillText(y,f,B+d+e),n.fillStyle="#80FFFF",y=q.substr(u+1,v-u-1),n.fillText(y,f+t,B+d+e),n.fillStyle=this.kf,y=q.substr(v),t=n.measureText(q.substr(0,v)).width,n.fillText(y,f+t,B+d+e)):n.fillText(q,f,B+d+e))}}};a.prototype.pc=function(d){var f,n,m,q=d.Dc,u=90,y=1,v=1;d.rb&&(u=0);d.ft=!1;d.xC=!0;d.Tr&&(d.Hc=d.Tr,d.Tr=null,q.font=d.Uk,d.Hc.nf(),d.Hc.Nt&&d.Hc.Nt(d.Hc.caller));d.Hc&&(y=d.Hc.Ge,v=d.Hc.oh);var r=q.canvas.width-86*y;u*=v;var B=performance.now();d.fz&&(d.rv=B-1E3/60);d.Hq||d.notification.Dn()||
d.kn||d.yN!==d.Nj&&-1!==d.Nj?(d.Gs(d),d.kn&&--d.kn,d.fz=!1):d.fz=!0;var b=B-d.rv;d.rv=B;d.Hc.Ob&&d.Hc.Ob(b,d.Hc.caller);B=performance.now()-B;var l=performance.now();d.Cy();d.tn=!1;d.wJ();d.notification.update();l=performance.now()-l;d.xz[d.Xs]=l;for(m=f=0;m<d.ho;m+=1)f+=d.xz[m];f/=d.ho;d.Dz[d.Xs]=B;for(m=n=0;m<d.ho;m+=1)n+=d.Dz[m];n/=d.ho;d.wz[d.Xs]=b;for(m=b=0;m<d.ho;m+=1)b+=d.wz[m];b/=d.ho;d.Xs=(d.Xs+1)%d.ho;m=1E3/b;60<m&&(m=60);this.G+=1E3/(B+l);this.s+=1;d.rl&&(q.font=(12*y|0)+"px Arial",q.globalAlpha=
.7,q.fillStyle="black",d.Sm?q.fillRect(r,u,88*y|0,83*v|0):q.fillRect(r,u,88*y|0,20*v|0),l=(n+f)/16.666666,1<l&&(l=1),q.fillStyle=.5>l?"rgb("+(510*l|0)+",255,0)":"rgb(255,"+(255*(1-2*(l-.5))|0)+",0)",q.fillRect(r,u,88*l*y|0,20*v|0),f=f.toFixed(1),n=n.toFixed(1),4>m.toFixed(1).length?m=m.toFixed(1):m|=0,q.globalAlpha=1,q.fillStyle="black",B=m+"fps",b=q.measureText(B).width,q.fillText(B,r+36*y-b,u+12*v),B=(100*l|0)+"%",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+12*v),d.Sm&&(q.fillText("menu",r+
6*y,u+28*v),q.fillText("work",r+6*y,u+44*v),q.fillText("update",r+6*y,u+60*v),q.fillText("focus",r+6*y,u+76*v),B=f+"ms",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+28*v),B=n+"ms",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+44*v),B=d.Hq?"on":"off",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+60*v),B=d.hasFocus?"on":"off",b=q.measureText(B).width,q.fillText(B,r+84*y-b,u+76*v)),q.fillStyle="white",B=m+"fps",b=q.measureText(B).width,q.fillText(B,r+34*y-b,u+10*v),B=(100*l|0)+"%",b=q.measureText(B).width,
q.fillText(B,r+82*y-b,u+10*v),d.Sm&&(q.fillText("menu",r+4*y,u+26*v),q.fillText("work",r+4*y,u+42*v),q.fillText("update",r+4*y,u+58*v),q.fillText("focus",r+4*y,u+74*v),B=f+"ms",b=q.measureText(B).width,q.fillText(B,r+82*y-b,u+26*v),B=n+"ms",b=q.measureText(B).width,q.fillText(B,r+82*y-b,u+42*v),B=d.Hq?"on":"off",b=q.measureText(B).width,q.fillText(B,r+82*y-b,u+58*v),B=d.hasFocus?"on":"off",b=q.measureText(B).width,q.fillText(B,r+82*y-b,u+74*v)),q.globalAlpha=1);d.Hc.ou!==d.Hc.fy&&(d.Hc.fy=d.Hc.ou,
d.Zc.style.cursor=d.Hc.fy);d.OA=!0};a.prototype.RH=function(d){d.Y=this.Y;this.Hc?this.Tr=d:(this.Tr=null,this.Hc=d,this.Dc.font=this.Uk,this.Hc.nf(),this.Hc.Nt&&this.Hc.Nt(this.Hc.caller),this.Gs(this))};a.prototype.Cy=function(){var d;if(this.Hc){var f=this.Hc;this.Dc.font=this.Uk;f.pf=this.gl;f.Cg=this.hl;f.Mc=this.Mc;f.tn=this.tn;if(f.Cy()||this.Ph){for(d=0;d<f.Nc;d+=1){var n=f.we[d];f.IG(n)}this.Ph=!1}}};a.prototype.Gs=function(d){d.ft||(requestAnimationFrame?requestAnimationFrame(d.mD):setTimeout(d.mD,
16),d.ft=!0)};a.prototype.mp=function(d,f){for(var n=null,m=0;null===n&&m<d.length;)d[m].identifier===f?n=d[m]:m+=1;return n};a.prototype.ua=function(d,f){var n=f.changedTouches;switch(f.type){case "touchstart":-1===d.xh&&(n=n[0],d.xh=n.identifier,d.os(d,n.pageX,n.pageY));break;case "touchend":n=d.mp(n,d.xh);null!==n&&(d.qs(d,n.pageX,n.pageY),d.xh=-1);break;case "touchmove":n=d.mp(n,d.xh);null!==n&&d.ps(d,n.pageX,n.pageY);break;case "touchcancel":n=d.mp(n,d.xh),null!==n&&d.JF(d)}d.bm=!0;f.stopPropagation&&
f.stopPropagation();f.cancelable&&f.preventDefault()};a.prototype.os=function(d,f,n){d.Aq(d,f,n);d.Mc=!0;d.xC=!1};a.prototype.qs=function(d,f,n){d.yz=performance.now();d.Aq(d,f,n);d.Mc=!1;d.xC||(d.tn=!0);d.hasFocus||(d.bm||d.Zc.focus(),d.hasFocus=!0,d.notification.clear(!0,!1),d.WD&&d.WD(d.caller))};a.prototype.ps=function(d,f,n){d.pD(d);d.Aq(d,f,n)};a.prototype.CL=function(d){d.pD(d)};a.prototype.JF=function(d){1<performance.now()-d.yz&&(d.hasFocus||d.notification.clear(!0,!1),d.Zc.blur(),d.hasFocus=
!1,d.Mc=!1,d.gl=-1,d.hl=-1,d.Mq=!1,d.ft||(d.Gs(d),d.kn<d.Eu&&(d.kn=d.Eu)))};a.prototype.ob=function(d,f){if(!d.ko){if(f.pageX||f.pageY){var n=f.pageX;var m=f.pageY}else n=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.os(d,n,m);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.bm=!1}};a.prototype.Yb=function(d,f){d.yz=performance.now();if(!d.ko){if(f.pageX||f.pageY){var n=f.pageX;var m=f.pageY}else n=
f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.qs(d,n,m);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.bm=!1}};a.prototype.pD=function(d){d.hasFocus||d.Mq&&""!==d.notification.vk||(d.Sc?d.il||d.notification.notify("Copy",15,3600,15,!0):d.rb?d.Mj?d.notification.notify("Launch",15,3600,15,!0):d.notification.notify("Expand",15,3600,15,!0):d.notification.notify("Click to control",15,3600,15,
!0),d.notification.animate=!0,d.Mq=!0)};a.prototype.Bb=function(d,f){if(!d.ko){if(f.pageX||f.pageY){var n=f.pageX;var m=f.pageY}else n=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.ps(d,n,m);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.bm=!1}};a.prototype.Vb=function(d,f){d.ko||(d.CL(d),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),d.bm=!1)};a.prototype.Gb=function(d,f){d.ko||
(d.JF(d),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),d.bm=!1)};a.prototype.Aq=function(d,f,n){var m=this.Zc.getBoundingClientRect();window.scrollX?(f-=m.left+window.scrollX,n-=m.top+window.scrollY):(f-=m.left+window.pageXOffset,n-=m.top+window.pageYOffset);f/=d.vf;n/=d.vf;d.gl=f-1|0;d.hl=n-1|0;d.ft||(d.Gs(d),d.kn<d.Eu&&(d.kn=d.Eu))};a.prototype.Jg=function(d){!d&&!this.notification.Dn()||this.Hq||this.Gs(this);this.Hq=d};window.IconManager=h;window.Menu=c;window.MenuManager=a}(),function(){function w(a,
c,d,f,n,m){this.qq=a;this.rq=c;this.width=d;this.height=f;this.nN=n;this.CJ=m}function g(){this.time=0;this.U=this.tv=!1;this.hf="none";this.yL="2pca4";this.av="0123456789abcdef";this.zE=86;this.pc=22;this.Wc=6;this.bb=8;this.C="";this.ne="0123456789xyz";this.me="0123";this.oe="0123456789";this.hg=this.gg="0123456";this.io=1038;this.wo=7157;this.oo=5454;this.ro=2741;this.Go="0123";this.eg="0123456omp-";this.Gg="01234";this.$f=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.am=[[[6,36,160,192,72,
10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.Gd=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.xd="  omp omp omp  ".split(" ");this.Bl=[0,2,6,10,13,10,6,2,0];this.Cl=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.cm=[[1,2],[5,10,3,40,33,68],[69,
42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Eo=new Uint32Array(256);this.kB=new Uint8Array(8192);this.gB=new Uint8Array(8192);this.Bj=new Uint8Array(512);this.fB=new Uint8Array(512);this.$n=new Uint16Array(512);this.lk=this.Aa=!1;this.dt="l";this.ct="le";this.et="lv";this.Kw="li";this.Lw="lo";this.bv="h";this.Wy="ht";this.Rw="v";this.Lg=!1;this.My=0;this.Yk=!1;this.Sv=this.Rv=0;this.ah=!1;this.Pd=this.Xc=this.rd=this.index=0;this.uf=1;this.hk=2;this.$i=3;this.Dj=
4;this.Ij=5;this.nk=6;this.ri=7;this.Xi=8;this.kj=9;this.Ul=10;this.Rh=11;this.uh=12;this.Qh=13;this.li=14;this.Xo=15;this.Ek=this.Fk=-1;this.gn=0;this.So=1;this.To=2;this.yq=3;this.zq=4;this.tp=0;this.tr=1;this.sc=!1;this.Be="num_states";this.lg="num_neighbors";this.Ai="num_nodes";this.kg="n_states";this.ja=[];this.ja[k.iq]="vonneumann";this.ja[k.gq]="moore";this.ja[k.ol]="hexagonal";this.ja[k.hq]="onedimensional";this.ob=[];this.ob[k.iq]=5;this.ob[k.gq]=9;this.ob[k.ol]=7;this.ob[k.hq]=3;this.ua=
[];this.ua[k.iq]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.ua[k.gq]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.ua[k.ol]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.ua[k.hq]=["none","reflect","permute"];this.Bb=[];this.Bb[k.iq]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,
3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Bb[k.gq]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,
1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Bb[k.hq]=[[[0,1,2,3],[0,2,1,3]]];this.Bb[k.ol]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,
6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.pw=""}function h(a,c){this.v=null;this.D=c;c=a.lastIndexOf(".");-1!==c&&(a=a.substr(0,c));this.name=a;this.bn=this.ck=0;this.xg=
this.Ne=this.mc=-1;this.pp=this.lr=0;this.Wu=this.Sy=!1;this.ap=this.Vf=this.I=this.ds="";this.S=this.yp=this.T=this.qc=this.Pa=this.N=this.ma=!1;this.yg=this.D.tp;this.R=!1;this.Ud=this.D.gn;this.Vd=-1;this.Od=this.te=!1;this.Ae=-1;this.oj=1;this.Ih=this.$C=this.aD=this.bD=this.cD=this.Uf=this.je=this.Ze=this.ae=-1;this.mH=this.sa=!1;this.ig=-1;this.Fq=this.Eq=this.Pf=this.Ie=null;this.i=this.Lb=-1;this.se="";this.ii=-1;this.Rg="";this.nh=this.Xe=null;this.height=this.width=0;this.Zg=this.ve=null;
this.sj=this.pg=this.Ac=this.title="";this.Bd=2;this.cs=0;this.Rn=this.Lg=!1;this.iB=this.iF="";this.Be=-1;this.jB=!1;this.kg=this.Cj=this.pl=this.Ai=this.lg=-1;this.Sd=this.Ig=null;this.Hg=this.nl=0;this.Rd=this.ge=this.yk=this.zk=null}var p={rules:[],yv:[],to:[],Fu:[],$H:function(a,c,d,f,n){var m,q=this.to.length,u=!1,y=a.I.toLowerCase();for(m=0;m<q&&!u;){var v=this.to[m];v.name===y?(u=!0,v.pattern[v.pattern.length]=a,v.Ns[v.Ns.length]=c,v.hr[v.hr.length]=d,v.Ut[v.Ut.length]=f,v.view[v.view.length]=
n):m+=1}u||(this.to[q]={name:y,pattern:[a],Ns:[c],hr:[d],Ut:[f],view:[n]});return u},TJ:function(a){var c=0,d=this.Fu.length,f=!1,n="";for(a=a.toLowerCase();c<d&&!f;)this.Fu[c].name===a?(f=!0,n=this.Fu[c].definition):c+=1;return n},cM:function(a){var c,d=this.to.length,f=!1,n=a.I.toLowerCase();for(a=0;a<d&&!f;){var m=this.to[a];if(m.name===n)for(f=!0,m.name="",c=0;c<m.Ns.length;c+=1)null!==m.Ns[c]&&(this.wE(m.pattern[c]),m.pattern[c].D.C="",m.pattern[c].D.Aa=!0,m.pattern[c].D.lk=!1,m.Ns[c](m.pattern[c],
m.Ut[c],m.view[c]));else a+=1}},kw:function(a){var c,d=this.to.length,f=!1,n=a.I.toLowerCase();for(a=0;a<d&&!f;){var m=this.to[a];if(m.name===n)for(f=!0,m.name="",c=0;c<m.hr.length;c+=1)null!==m.hr[c]&&(m.pattern[c].sa=m.pattern[c].mH,m.hr[c](m.pattern[c],m.Ut[c],m.view[c]));else a+=1}},add:function(a,c,d,f,n){var m,q=this.rules.length,u=!1,y=a.I.toLowerCase();for(m=0;m<q&&!u;)this.rules[m].name===y?u=!0:m+=1;u||(this.rules[q]=null===a.Sd?{name:y,rE:!0,FB:a.Be,lL:a.lg,oL:a.Ai,qI:a.pl,CM:a.yk,DM:a.zk,
Pl:a.ge,ur:a.Rd,S:a.jB}:{name:y,rE:!1,FB:a.kg,ao:a.Cj,BI:a.Hg,Op:a.Sd,DH:a.Ig,Pl:a.ge,yJ:a.nl,ur:a.Rd},this.yv[q]={fetch:c|0,decode:d|0,size:f},this.Fu[q]={name:y,definition:n},this.cM(a))},wE:function(a){var c,d=this.rules.length,f=null,n=!1,m=a.I.toLowerCase();for(c=0;c<d&&!n;)this.rules[c].name===m?(n=!0,f=this.rules[c]):c+=1;n&&(a.Sd=null,f.rE?(a.Be=f.FB,a.lg=f.lL,a.Ai=f.oL,a.pl=f.qI,a.yk=f.CM,a.zk=f.DM,a.S=f.S):(a.kg=f.FB,a.Cj=f.ao,a.Hg=f.BI,a.Sd=f.Op,a.Ig=f.DH,a.nl=f.yJ,a.S=a.Cj===k.ol?!0:!1),
a.ge=f.Pl,a.Rd=f.ur,a.Pa=!1);return n}},k={iq:0,gq:1,ol:2,hq:3,hB:-1,EM:0,FM:1,GM:2,IM:3,HM:["circles","diamonds","hexagons","triangles"]};h.prototype.s=function(a){this.ds=a.ds;this.I=a.I;this.ma=a.ma;this.N=a.N;this.Pa=a.Pa;this.Vf=a.Vf;this.S=a.S;this.yg=a.yg;this.R=a.R;this.ck=a.ck;this.bn=a.bn;this.Ud=a.Ud;this.Vd=a.Vd;this.te=a.te;this.Od=a.Od;this.Ae=a.Ae;this.Ih=a.Ih;this.oj=a.oj;this.ae=a.ae;this.Ze=a.Ze;this.je=a.je;this.Uf=a.Uf;this.sa=a.sa;this.ig=a.ig;this.Lb=a.Lb;this.i=a.i;this.Bd=
a.Bd;a.Pf&&(this.Pf=new Uint8Array(a.Pf.length),this.Pf.set(a.Pf));a.Ie&&(this.Ie=new Uint8Array(a.Ie.length),this.Ie.set(a.Ie))};h.prototype.KI=function(a,c){a.Pf&&(this.Fq=c.P(Uint8,a.Pf.length,"HROT.altSurvivals"),this.Fq.set(a.Pf));a.Ie&&(this.Eq=c.P(Uint8,a.Ie.length,"HROT.altBirths"),this.Eq.set(a.Ie));this.cD=a.ae;this.bD=a.Ze;this.aD=a.je;this.$C=a.Uf};h.prototype.xM=function(){this.Vf=this.I=this.ds="";this.S=this.Pa=this.N=this.ma=!1;this.yg=this.D.tp;this.R=!1;this.bn=this.ck=0;this.Ud=
this.D.gn;this.Vd=-1;this.Od=this.te=!1;this.Ih=this.Ae=-1;this.sa=!1;this.i=this.Lb=this.ig=-1;this.Bd=2};h.prototype.HK=function(a){return this.Od!==a.Od||this.sa!==a.sa?"Alternate is different rule family":(-1===this.i?this.Bd:this.i)!==(-1===a.i?a.Bd:a.i)?"Alternate has different number of states":this.N!==a.N||this.ma!==a.ma||this.S!==a.S||this.yg!==a.yg||this.R!==a.R||this.Ud!==a.Ud||this.te!==a.te||-1===this.Vd&&-1!==a.Vd||-1!==this.Vd&&-1===a.Vd||this.Ih!==a.Ih||this.Lb!==a.Lb?"Alternate has different neighborhood":
this.Ae!==a.Ae||this.ig!==a.ig?"Alternate has different range":this.Pa||a.Pa?"Alternate can not use none":""};g.prototype.qh=function(a,c,d){var f,n,m=0,q=0,u=0,y=!1;var v=c.length;for(f=n=0;f<v;){var r=c[f];f+=1;switch(n){case 0:switch(r){case "!":n=1;a.Ac+="#C ";var B=!0;break;case "O":case "o":case "*":case ".":n=2;q=m=u=0;var b=--f}break;case 1:"\r"!==r&&"\n"!==r&&(" "===r?B||(a.title+=r,a.Ac+=r):(B=!1,a.title+=r,a.Ac+=r));"\n"===r&&(n=0,a.Ac+=r,a.title+=" ");break;case 2:switch(r){case "O":case "o":case "*":case ".":q+=
1;break;case "\n":u+=1;q>m&&(m=q);q=0;break;case " ":case "\t":break;default:f=v,y=!0}}}if(!y){2===n&&"\n"!==r&&(u+=1,q>m&&(m=q));a.height=u;a.width=m;a.sj="Cells";a.ve=Array.ga(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");f=b;for(n=m=0;f<v;)switch(r=c[f],f+=1,r){case "\n":m+=1;n=0;break;case "O":case "o":case "*":a.ve[m][n>>4]|=1<<(~n&15);n+=1;break;case ".":n+=1}this.Aa=!0;this.Wa(a,"",d)}};g.prototype.ai=function(a,c,d){var f,n;var m=c.length;var q=[];var u=0;var y=!1;var v=n=0;var r=
!1;for(f=10;f<m;){var B=c[f];f+=1;switch(B){case "\n":r&&(r=!1,2===b&&y&&(v=-v,y=!1),q[u]=[n,v],u+=1);var b=v=n=0;break;case "-":y=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(y&&(n=-n,y=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===b&&(b=1),1===b?n=10*n+parseInt(B,10):(v=10*v+parseInt(B,10),r=!0)}}r&&(2===b&&y&&(v=-v),q[u]=[n,v],u+=1);if(u){m=c=q[0][0];b=B=q[0][1];for(f=1;f<u;f+=1)n=q[f][0],v=q[f][1],n<c&&(c=n),n>m&&(m=n),v<B&&(B=
v),v>b&&(b=v);a.height=b-B+1;a.width=m-c+1;a.ve=Array.ga(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");a.sj="Life 1.06";this.Wa(a,"",d);for(f=0;f<u;f+=1)n=q[f][0]-c,v=q[f][1]-B,a.ve[v][n>>4]|=1<<(~n&15)}};g.prototype.bf=function(a,c,d,f){var n,m,q=[],u=0,y=c.length;var v="";var r=!1;var B=0,b=0,l=!1,e=!1,t=0,x=0;d=d?10:0;for(this.Aa=!0;d<y&&!e;){var z=c[d];d+=1;switch(B){case 0:switch(z){case "#":B=2;break;case "*":case ".":B=3;var A=m=n=0;var C=--d}break;case 2:switch(z){case "C":case "D":B=
1;a.Ac+="#C ";var G=!0;break;case "N":B=0;break;case "R":B=4;break;case "P":B=5;b=0;l=!1;x=t=0;break;case "\n":B=0;break;default:B=1,G=!0}break;case 1:"\r"!==z&&"\n"!==z&&(" "===z?G||(a.title+=z,a.Ac+=z):(G=!1,a.title+=z,a.Ac+=z));"\n"===z&&(B=0,a.title+=" ",a.Ac+=z);break;case 4:"\n"===z?B=0:(v+=z,r=!0);break;case 5:switch(z){case "\n":B=0;2===b&&l&&(x=-x,l=!1);break;case "-":l=!0;0===b?b=1:1===b&&(b=2);break;case " ":1===b&&(l&&(t=-t,l=!1),b=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===
b&&(b=1),1===b?t=10*t+parseInt(z,10):x=10*x+parseInt(z,10)}break;case 3:switch(z){case "\n":n>m&&(m=n);n=0;A+=1;break;case "#":q[u]=new w(t,x,m,A,C,d-1);u+=1;B=2;break;case "*":case ".":n+=1;break;case " ":case "\t":break;default:e=!0}}}"\n"!==z&&(A+=1);3===B&&(q[u]=new w(t,x,m,A,C,d-1),u+=1);if(u&&!e){t=q[0].qq;x=q[0].rq;z=t+q[0].width-1;n=x+q[0].height-1;for(d=1;d<u;d+=1)q[d].qq<t&&(t=q[d].qq),q[d].rq<x&&(x=q[d].rq),q[d].qq+q[d].width-1>z&&(z=q[d].qq+q[d].width-1),q[d].rq+q[d].height-1>n&&(n=q[d].rq+
q[d].height-1);a.height=n-x+1;a.width=z-t+1;a.ve=Array.ga(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.sj="Life 1.05";a.Zg=Array.ga(Uint8,a.height,a.width,0,f,"Pattern.multiStateMap");r?(this.ff(a,v,!1,f),this.Aa?0<=a.i||a.qc||(a.Zg=null):(a.i=-1,a.qc=!1,a.T=!1)):this.Wa(a,"",f);for(d=0;d<u;d+=1)for(f=q[d].nN,v=q[d].CJ,n=q[d].qq-t,z=q[d].rq-x,r=n,m=z;f<=v;)switch(z=c[f],f+=1,z){case "\n":m+=1;r=n;break;case "*":a.ve[m][r>>4]|=1<<(~r&15);a.Zg&&(a.Zg[m][r]=1);r+=1;break;default:r+=1}}};
g.prototype.$=function(a,c,d,f){var n=0,m,q,u;d&&(n=4);for(q=0;8192>q;q+=8)for(u=0;4>u;u+=1){d=0;for(m=q+u&f;0<m;)d+=m&1,m>>=1;c===d&&(a[q+u+n]=1)}};g.prototype.Gb=function(a,c,d,f){var n=0,m,q,u;d&&(n=16);for(q=0;512>q;q+=32)for(u=0;16>u;u+=1){d=0;for(m=q+u&f;0<m;)d+=m&1,m>>=1;c===d&&(a[q+u+n]=1)}};g.prototype.Mk=function(a){return(a&7)<<6|(a&448)>>6|a&56};g.prototype.Jf=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};g.prototype.Wn=function(a,
c,d){var f;for(f=0;4>f;f+=1)a[c]=d,c=this.Jf(c);c=this.Mk(c);for(f=0;4>f;f+=1)a[c]=d,c=this.Jf(c)};g.prototype.hm=function(a,c,d,f,n,m){var q=d?16:0;if(2>c||4<c)this.Gb(a,c,d,m);else if(d="omp".indexOf(f),-1!==d)for(c=this.am[c-2][d],d=0;d<c.length;d+=1)f=c[d]+q,a[f]=n,a[f+256]=n,a[f+1]=n,a[f+257]=n};g.prototype.pm=function(a,c,d,f,n){var m=0,q=c-1;0===c||8===c?this.Gb(a,c,d,511):(3<q&&(q=6-q,m=495),c=this.$f[q].indexOf(f),-1!==c&&(m^=this.cm[q][c],d&&(m|=16),this.Wn(a,m,n)))};g.prototype.dg=function(a,
c,d,f){var n=c.length,m=0,q="",u;for(u=0;u<n;u+=1){var y=c.charCodeAt(u)-48;m|=1<<y;this.Gb(a,y,d,f)}for(u=0;9>u;u+=1)0!==(m&1<<u)&&(q+=String(u));return q};g.prototype.Zd=function(a){for(var c=0;a;)c+=1,a&=a-1;return c};g.prototype.Lh=function(a,c){var d="",f=0;if(c[a]){c=c[a];0!==(c&8192)&&(f=1,c&=-8193);var n=this.Zd(c);var m=2>a||4<a?0:3;2<=n&&(c=~c&(1<<m)-1)&&(f=1-f);if(!f||c)for(d+=String(a),f&&(d+="-"),a=0;a<m;a+=1)0!==(c&1<<a)&&(d+="omp"[a])}else d+=String(a);return d};g.prototype.Oh=function(a,
c){var d="",f=0;if(c[a]){c=c[a];0!==(c&8192)&&(f=1,c&=-8193);var n=this.Zd(c);var m=this.Bl[a];(f||7!==n||13!==m)&&n+f>m>>1&&(c=~c&(1<<m)-1)&&(f=1-f);if(!f||c)for(d+=String(a),f&&(d+="-"),n=0;n<m;n+=1)f=this.Cl[a][n],0!==(c&1<<f)&&(d+=this.$f[3][f])}else d+=String(a);return d};g.prototype.ag=function(a,c,d,f){var n=c.length,m=0,q=[],u="",y;c+=" ";for(y=0;7>y;y+=1)q[y]=0;for(y=0;y<n;y+=1){var v=c.charCodeAt(y)-48;if(0<=v&&8>=v){var r=0!==(m&1<<v);m|=1<<v;var B=c[y+1];var b=this.xd[v].indexOf(B);-1!==
b||r||this.Gb(a,v,d,f);var l=1;"-"===B&&(l=0,y+=1,B=c[y+1],b=this.xd[v].indexOf(B));-1!==b||"0"<=B&&"9">=B||" "===B||(this.C=(d?"S":"B")+v+B+" not valid",y=n);r&&(r=0,0===(q[v]&8192)&&(r=1),r!==l&&(this.C=(d?"S":"B")+v+" can not have minus and non-minus",b=-1,y=n));for(;-1!==b;)0!==(q[v]&1<<b)?(this.C="Duplicate "+v+this.xd[v][b],b=-1,y=n):(this.hm(a,v,d,B,l,f),q[v]|=1<<b,l||(q[v]|=8192),y+=1,B=c[y+1],b=this.xd[v].indexOf(B))}else this.C="Missing digit prefix"}for(y=0;7>y;y+=1)0!==(m&1<<y)&&(u+=this.Lh(y,
q));return u};g.prototype.cg=function(a,c,d){var f=c.length,n=0,m=[],q="",u;c+=" ";for(u=0;9>u;u+=1)m[u]=0;for(u=0;u<f;u+=1){var y=c.charCodeAt(u)-48;if(0<=y&&8>=y){var v=0!==(n&1<<y);n|=1<<y;var r=c[u+1];var B=this.Gd[y].indexOf(r);-1!==B||v||this.Gb(a,y,d,511);var b=1;"-"===r&&(b=0,u+=1,r=c[u+1],B=this.Gd[y].indexOf(r));-1!==B||"0"<=r&&"9">=r||" "===r||(this.C=(d?"S":"B")+y+r+" not valid",u=f);v&&(v=0,0===(m[y]&8192)&&(v=1),v!==b&&(this.C=(d?"S":"B")+y+" can not have minus and non-minus",B=-1,u=
f));for(;-1!==B;)0!==(m[y]&1<<B)?(this.C="Duplicate "+y+this.Gd[y][B],B=-1,u=f):(this.pm(a,y,d,r,b),m[y]|=1<<B,b||(m[y]|=8192),u+=1,r=c[u+1],B=this.Gd[y].indexOf(r))}else this.C="Missing digit prefix"}for(u=0;9>u;u+=1)0!==(n&1<<u)&&(q+=this.Oh(u,m));return q};g.prototype.Zh=function(a,c){var d;for(d=0;512>d;d+=1)a[d]=0!==(c&1<<(d&7))?1:0!==(d&16)?1:0};g.prototype.$d=function(a,c,d){var f=12,n=8191,m=a.ck,q=a.bn;switch(a.Ud){case this.So:f=3;n=this.io;break;case this.To:f=9;n=this.wo;break;case this.yq:f=
6;n=this.oo;break;case this.zq:f=6,n=this.ro}c.fill(0);d&&d.fill(0);if(0!==(m&1))if(0!==(q&1<<f)){m=~m;q=~q;for(a=0;a<=f;a+=1)q&1<<f-a&&this.$(c,a,!1,n);for(a=0;a<=f;a+=1)m&1<<f-a&&this.$(c,a,!0,n);d.set(c)}else{for(a=0;a<=f;a+=1)~m&1<<a&&this.$(d,a,!1,n);for(a=0;a<=f;a+=1)~q&1<<a&&this.$(d,a,!0,n);for(a=0;a<=f;a+=1)q&1<<f-a&&this.$(c,a,!1,n);for(a=0;a<=f;a+=1)m&1<<f-a&&this.$(c,a,!0,n);this.sc=!0}else{for(a=0;a<=f;a+=1)0!==(m&1<<a)&&this.$(c,a,!1,n);for(a=0;a<=f;a+=1)0!==(q&1<<a)&&this.$(c,a,!0,
n);d&&d.set(c)}};g.prototype.Wh=function(a,c,d,f,n){var m=this.ne,q="",u="";switch(n){case this.So:m=this.me;break;case this.To:m=this.oe;break;case this.yq:m=this.gg;break;case this.zq:m=this.hg}for(n=a.ck=0;n<c.length;n+=1){var y=m.indexOf(c[n]);a.ck|=1<<y}for(n=a.bn=0;n<d.length;n+=1)y=m.indexOf(d[n]),a.bn|=1<<y;for(n=0;n<m.length;n+=1)0!==(a.ck&1<<n)&&(q+=m[n]);for(n=0;n<m.length;n+=1)0!==(a.bn&1<<n)&&(u+=m[n]);return-1!==f?u+"/"+q+"/"+f:"B"+q+"/S"+u};g.prototype.Uh=function(a,c,d,f,n){var m=
0,q=this.$n;var u=(1<<this.bb+1)/6|0;var y=new Uint8Array(512),v=a.ma,r=a.N,B=a.S;var b=a.yg;var l=a.R,e=a.Ud,t=a.te,x=a.i;if(a.Pa)d=this.hf;else if(v||r)for(d=v?"M":"2PCA4,",b=0;16>b;b+=1)d+=n[b],15>b&&(d+=",");else if(l)d=this.Wh(a,c,d,x,e);else{a=511;B?a=b===this.tr?114:254:t&&(a=186);y.fill(0);n.fill(0);for(b=0;b<y.length;b+=1)q[b]=B?b:(b&448)>>6|b&56|(b&7)<<6;if(""!==f){d="MAP";for(b=0;b<u;b+=1)d+=f[b],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[b]),y[m]=c>>
5,m+=1,y[m]=c>>4&1,m+=1,y[m]=c>>3&1,m+=1,y[m]=c>>2&1,m+=1,y[m]=c>>1&1,m+=1,y[m]=c&1,m+=1;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[b]);y[m]=c>>5;y[m+1]=c>>4&1;d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c&48];for(b=0;512>b;b+=1){f=0;u=this.bb;for(m=8;0<=m;--m)0!==(a&1<<m)&&(0!==(b&1<<m)&&(f|=1<<u),--u);n[q[b]]=y[f]}-1!==x&&(d+="/"+x)}else t?(m=this.dg(n,c,!1,a),n=this.dg(n,d,!0,a)):B?(m=this.ag(n,c,!1,a),n=this.ag(n,d,!0,a)):(m=this.cg(n,
c,!1),n=this.cg(n,d,!0)),d=-1!==x?n+"/"+m+"/"+x:"B"+m+"/S"+n}return d};g.prototype.If=function(a){var c=a,d=0;if(-1!==a.indexOf(" "))for(c="";d<a.length;)" "!==a[d]&&(c+=a[d]),d+=1;return c};g.prototype.Yj=function(a,c,d){for(var f=!0,n=0,m,q=1;q<c.length&&f;)m="0123456789".indexOf(c[q]),-1!==m?n=10*n+m:(this.C="Illegal character in Wolfram rule",f=!1),q+=1;f&&(0>n||254<n?(this.C="Wolfram rule number must be 0-254",f=!1):0!==(n&1)?(this.C="Wolfram rule number must be even",f=!1):(this.Zh(d,n),a.Vd=
n,a.I="W"+n));return f};g.prototype.Sh=function(a,c){if(""===c)if(a.S)a.I+="H",a.yg===this.tr&&(a.I+="T");else if(a.te)a.I+="V";else if(a.R)switch(a.Ud){case this.gn:a.I+=this.dt.toUpperCase();break;case this.So:a.I+=this.ct.toUpperCase();break;case this.To:a.I+=this.et.toUpperCase();break;case this.yq:a.I+=this.Kw.toUpperCase();break;case this.zq:a.I+=this.Lw.toUpperCase()}c=AliasManager.kr(a.I);if(null===c&&a.Od&&0===a.oj){c="R"+a.Ae+",C"+a.i+",M1,S"+a.ae+".."+a.Ze+",B"+a.je+".."+a.Uf+",N";switch(a.Ih){case this.Pd:c+=
"M";break;case this.uf:c+="N";break;case this.hk:c+="C";break;case this.$i:c+="+";break;case this.Dj:c+="X";break;case this.Ij:c+="*";break;case this.nk:c+="2";break;case this.ri:c+="H";break;case this.Xi:c+="B";break;case this.kj:c+="#";break;case 10:c+="@"+a.se+a.Rg;break;case this.Rh:c+="3";break;case this.uh:c+="A";break;case this.Qh:c+="L";break;case this.li:c+="G";break;case 15:c+="W"+a.se+a.Rg}c=AliasManager.kr(c)}a.qc&&(a.I+="History");a.T&&(a.I+="Super");-1!==a.mc&&(a.I+=":"+"ptkcs"[a.mc].toUpperCase(),
a.I+=a.Ne,a.lr&&(a.I+="+"+a.lr),a.Sy&&(a.I+="*"),a.xg!==a.Ne||a.pp||a.Wu)&&(a.I+=","+a.xg,a.pp&&(a.I+="+"+a.pp),a.Wu&&(a.I+="*"));null!==c&&(""===c&&(c=a.qc||a.T?"Life":"Conway's Life"),a.qc&&(c+="History"),a.T&&(c+="Super"),a.Vf=c)};g.prototype.Uo=function(a,c){var d=86,f=a.length;f>=d?this.bb=8:(d=this.pc,f>=d?(this.bb=6,c.S=!0):(d=this.Wc,f>=d?(this.bb=4,c.te=!0):d=-1));if(0<=d)for(c=0;c<d;c+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c])&&(d=-1);return d};
g.prototype.s=function(a,c,d,f,n,m){var q=0,u=c.length,y=a.substr(this.index,u),v=m.Ae;if(y!==c)","===c[0]&&(","===y[0]&&(y=y.substr(1)),c=c.substr(1)),this.C="LtL expected '"+c.toUpperCase()+"' got '"+y.toUpperCase()+"'",this.index=-1;else if(","===c[0]&&(c=c.substr(1)),this.index+=u,this.index<a.length?(u=a[this.index],y=u.charCodeAt(0)):(u="",y=-1),"n"===c)switch(u){case "m":this.index+=1;q=this.Pd;break;case "n":this.index+=1;q=this.uf;break;case "c":this.index+=1;q=this.hk;break;case "+":this.index+=
1;q=this.$i;break;case "x":this.index+=1;q=this.Dj;break;case "*":this.index+=1;q=this.Ij;break;case "2":this.index+=1;q=this.nk;break;case "h":this.index+=1;q=this.ri;break;case "b":this.index+=1;q=this.Xi;break;case "#":this.index+=1;q=this.kj;break;case "@":this.index+=1;q=this.Cf(a,v,"LtL",m);-1===q&&(this.index=-1);break;case "3":this.index+=1;q=this.Rh;break;case "a":this.index+=1;q=this.uh;break;case "l":this.index+=1;q=this.Qh;break;case "g":this.index+=1;q=this.li;break;case "w":this.index+=
1;q=this.Gf(a,v,"LtL",m);-1===q&&(this.index=-1);break;default:this.C="LtL 'N' [ABCGHLMNWX23*+#@] got 'N"+u.toUpperCase()+"'",this.index=-1}else if(48>y||57<y)this.C="LtL '"+n+c.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=y&&57>=y;)q=10*q+(y-48),this.index+=1,this.index<a.length?y=a[this.index].charCodeAt(0):y=-1;-1!==d&&q<d&&(this.C="LtL '"+n+c.toUpperCase()+q+"' < "+d,this.index=-1);-1!==f&&q>f&&(this.C="LtL '"+n+c.toUpperCase()+q+"' > "+f,this.index=-1)}return q};g.prototype.Vr=
function(a,c,d){var f=0;switch(c){case this.Pd:f=(2*a+1)*(2*a+1)-1;break;case this.uf:f=2*a*(a+1);break;case this.hk:d=0;var n=a*a+a;for(c=-a;c<=a;c+=1){for(f=0;(f+1)*(f+1)+c*c<=n;)f+=1;d+=2*f+1}f=d-1;break;case this.$i:f=4*a;break;case this.Dj:f=4*a;break;case this.Ij:f=8*a;break;case this.nk:d=0;n=a*a;for(c=-a;c<=a;c+=1){for(f=0;(f+1)*(f+1)+c*c<=n;)f+=1;d+=2*f+1}f=d-1;break;case this.ri:f=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.Xi:f=((2*a+1)*(2*a+1)-1)/2;break;case this.kj:f=8*a;break;case 10:f=
d;break;case this.Rh:f=3*a;break;case this.uh:f=6*a;break;case this.Qh:f=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.li:f=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:f=d}return f};g.prototype.Qi=function(a,c){var d=!1;this.index=0;var f=this.s(c,"r",1,500,"",a);-1!==this.index&&(a.Ae=f,f=this.s(c,",c",0,256,"",a),-1!==this.index&&(2>f&&(f=2),a.i=f,f=this.s(c,",m",0,1,"",a),-1!==this.index&&(a.oj=f,f=this.s(c,",s",0,-1,"",a),-1!==this.index&&(a.ae=f,f=this.s(c,"..",a.ae,-1,"S",a),-1!==this.index&&(a.Ze=f,f=
this.s(c,",b",0,-1,"",a),-1!==this.index&&(a.je=f,f=this.s(c,"..",a.je,-1,"B",a),-1!==this.index&&(a.Uf=f,f=this.s(c,",n",-1,-1,"",a),-1!==this.index&&(a.Ih=f,d=!0))))))));d&&(this.index!==c.length?(d=!1,this.C="LtL invalid characters after rule"):(c=this.Vr(a.Ae,a.Ih,a.ii),c+=a.oj,a.je>c&&(d=!1,this.C="LtL 'B"+a.je+"..' > "+c),a.Uf>c&&(d=!1,this.C="LtL 'B.."+a.Uf+"' > "+c),a.ae>c&&(d=!1,this.C="LtL 'S"+a.ae+"..' > "+c),a.Ze>c&&(d=!1,this.C="LtL 'S.."+a.Ze+"' > "+c)));return d};g.prototype.Si=function(a,
c){var d=!1;this.index=0;a.i=2;a.oj=1;a.Ih=this.Pd;var f=this.s(c,"",1,500,"",a);-1!==this.index&&(a.Ae=f,f=this.s(c,",",0,-1,"",a),-1!==this.index&&(a.je=f,f=this.s(c,",",a.je,-1,"B",a),-1!==this.index&&(a.Uf=f,f=this.s(c,",",0,-1,"",a),-1!==this.index&&(a.ae=f,f=this.s(c,",",a.ae,-1,"S",a),-1!==this.index&&(a.Ze=f,d=!0)))));d&&(this.index!==c.length?(d=!1,this.C="LtL invalid characters after rule"):(c=(2*a.Ae+1)*(2*a.Ae+1),a.je>c&&(d=!1,this.C="LtL 'B"+a.je+"..' > "+c),a.Uf>c&&(d=!1,this.C="LtL 'B.."+
a.Uf+"' > "+c),a.ae>c&&(d=!1,this.C="LtL 'S"+a.ae+"..' > "+c),a.Ze>c&&(d=!1,this.C="LtL 'S.."+a.Ze+"' > "+c)));return d};g.prototype.Ri=function(a,c){var d=!1;this.index=0;-1===a.i&&(a.i=2);a.oj=1;a.Ih=this.Pd;var f=this.s(c,"r",1,500,"",a);-1!==this.index&&(a.Ae=f,f=this.s(c,"b",0,-1,"",a),-1!==this.index&&(a.je=f,f=this.s(c,"t",a.je,-1,"B",a),-1!==this.index&&(a.Uf=f,f=this.s(c,"s",0,-1,"",a),-1!==this.index&&(a.ae=f,f=this.s(c,"t",a.ae,-1,"S",a),-1!==this.index&&(a.Ze=f,d=!0)))));d&&(this.index!==
c.length?(d=!1,this.C="LtL invalid characters after rule"):(c=(2*a.Ae+1)*(2*a.Ae+1),a.je>c&&(d=!1,this.C="LtL 'B"+a.je+"' > "+c),a.Uf>c&&(d=!1,this.C="LtL 'B..T"+a.Uf+"' > "+c),a.ae>c&&(d=!1,this.C="LtL 'S"+a.ae+"..' > "+c),a.Ze>c&&(d=!1,this.C="LtL 'S..T"+a.Ze+"' > "+c)));return d};g.prototype.Ef=function(a,c,d,f,n){var m=!1,q,u="HROT.",y,v=0;if(this.index+d>a.length)this.C="HROT '"+c+"' needs "+d+" hex digits";else{for(q=y=0;y<d&&-1!==q;)q="0123456789abcdef".indexOf(a[this.index]),-1!==q&&(this.index+=
1,y+=1);if(-1===q)this.C="HROT '"+c+"' expected hex got '"+a[this.index]+"'";else{"B"===c?u+="births":(u+="survivals",v=1);n=n.P(Uint8,(d<<2)+1+v,u);m=0;n[m]=0;m+=1;--y;"S"===c&&(n[m]=0,m+=1);for(;0<=y;)q="0123456789abcdef".indexOf(a[this.index-d+y]),--y,n[m]=q&1,m+=1,n[m]=q>>1&1,m+=1,n[m]=q>>2&1,m+=1,n[m]=q>>3&1,m+=1;"B"===c?f.Ie=n:f.Pf=n;m=!0}}return m};g.prototype.Ja=function(a,c){var d=-1;this.index+=1;if(this.index<a.length){var f=a[this.index].charCodeAt(0);if(48>f||57<f)this.C="HROT '"+c+"' needs a number";
else for(d=f-48,this.index+=1,f=-1,this.index<a.length&&(f=a[this.index].charCodeAt(0));48<=f&&57>=f;)d=10*d+(f-48),this.index+=1,this.index<a.length?f=a[this.index].charCodeAt(0):f=-1}else this.C="HROT '"+c+"' needs a number";return d};g.prototype.Ye=function(a,c,d,f,n){var m=!0;n&&"S"===d&&(f+=1);var q=this.Ja(a,d);-1===q&&(this.C="");for(;m&&-1!==q;){var u=-1;this.index<a.length&&"-"===a[this.index]&&(u=this.Ja(a,d),-1===u&&(this.C="HROT '"+d+q+"-' needs a number",m=!1));if(m&&(-1===u&&(u=q),q>
u&&(this.C="HROT '"+d+q+"-"+u+"' wrong order",m=!1),m)){"S"===d?(this.rd=u,n&&(q+=1,u+=1)):this.Xc=u;q>f&&(q=f);for(u>f&&(u=f);q<=u;q+=1)c[q]=1;q=-1;this.index<a.length&&","===a[this.index]&&(q=this.Ja(a,d),-1===q&&(--this.index,this.C=""))}}return m};g.prototype.Gf=function(a,c,d,f){var n=this.index,m=a.length,q=(2*c+1)*(2*c+1),u=q+q,y=0,v=[],r=[],B=0,b=15;for(f.Rg="";n<m&&-1!=="0123456789abcdef".indexOf(a[n]);)n+=1;c=n-this.index;if(c===q)for(;this.index<n;)q="0123456789abcdef".indexOf(a[this.index]),
0!==(q&8)&&(q=-(q&7)),v[v.length]=q,this.index+=1;else if(c===u)for(;this.index<n;)q="0123456789abcdef".indexOf(a[this.index])<<4,this.index+=1,q|="0123456789abcdef".indexOf(a[this.index]),this.index+=1,0!==(q&128)&&(q=-(q&127)),v[v.length]=q;else this.C=d+" 'NW' needs "+String(q)+" or "+String(u)+" hex digits",b=-1;-1!==b&&this.index<m&&("h"===a[this.index]?(f.Rg="H",this.index+=1):"l"===a[this.index]&&(f.Rg="L",this.index+=1));if(-1!==b)if(","===a[this.index]){for(n=this.index+=1;n<m&&-1!=="0123456789abcdef".indexOf(a[n]);)n+=
1;y=n-this.index;if(y!==f.i)this.C=d+" 'NW' needs "+String(f.i)+" state weights",b=-1;else for(n=0;n<f.i;n+=1)q="0123456789abcdef".indexOf(a[this.index]),this.index+=1,r[r.length]=q,q>B&&(B=q)}else B=1;if(-1!==b){for(d=q=0;d<v.length;d+=1)0<v[d]&&(q+=v[d]*B);f.se=0<r.length?a.substr(this.index-(c+y+1),c+y+1).toLowerCase():a.substr(this.index-c,c).toLowerCase();f.ii=q;f.Xe=v;f.nh=r}-1===b&&(f.se="",f.ii=-1,f.Xe=null,f.nh=null);return b};g.prototype.Cf=function(a,c,d,f){var n=this.index,m=a.length,
q=0;c=((2*c+1)*(2*c+1)-1)/4;var u=0,y=10;for(f.Rg="";n<m&&q<c&&-1!==y;){var v="0123456789abcdef".indexOf(a[n]);0<=v?(n+=1,q+=1,u+=this.Zd(v)):y=-1}q!==c&&(y=-1);-1===y?(this.C=d+" 'N@' needs "+String(c)+" hex digits",f.se="",f.ii=-1):(f.se=a.substr(this.index,q).toLowerCase(),f.ii=u,this.index+=q,n<m&&("h"===a[n]?(f.Rg="H",this.index+=1):"l"===a[n]&&(f.Rg="L",this.index+=1)));return y};g.prototype.Yn=function(a,c){var d=a.Ae,f;a.ig=d;a.Lb=a.Ih;d=this.Vr(d,a.Ih,a.ii);d+=a.oj;a.Pf=c.P(Uint8,d+2,"HROT.survivals");
a.Ie=c.P(Uint8,d+1,"HROT.births");for(f=a.ae;f<=a.Ze;f+=1)a.Pf[f]=1;for(f=a.je;f<=a.Uf;f+=1)a.Ie[f]=1;if(this.sc){a.Fq=c.P(Uint8,d+2,"HROT.altSurvivals");a.Eq=c.P(Uint8,d+1,"HROT.altBirths");for(f=a.cD;f<=a.bD;f+=1)a.Fq[f]=1;for(f=a.aD;f<=a.$C;f+=1)a.Eq[f]=1}a.sa=!0};g.prototype.Ni=function(a,c,d){var f=!1,n=0,m=!0,q=c.indexOf(",n");this.rd=this.Xc=this.index=0;if("r"!==c[this.index])this.C="HROT expected 'R' got '"+c[this.index].zN()+"'";else{var u=this.Ja(c,"R");-1!==u&&(1>u?this.C="HROT 'R' < 1":
500<u?this.C="HROT 'R' > 500":(a.ig=u,f=!0))}f&&(f=!1,this.index<c.length?","!==c[this.index]?this.C="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"c"!==c[this.index]?this.C="HROT expected 'C' got "+c[this.index].toUpperCase():(u=this.Ja(c,"C"),-1!==u&&(0>u?this.C="HROT 'C"+u+"' < 0":256<u?this.C="HROT 'C"+u+"' > 256":(2>u&&(u=2),a.i=u,f=!0))):this.C="HROT expected 'C'"):this.C="HROT expected ','");if(f){u=this.index;this.index=q;m=!0;a.Lb=this.Pd;if(-1!==
this.index&&this.index<c.length&&","===c[this.index]){f=!1;this.index+=1;if(this.index<c.length)if("n"===c[this.index])if(this.index+=1,this.index<c.length)switch(c[this.index]){case "m":a.Lb=this.Pd;this.index+=1;f=!0;break;case "n":a.Lb=this.uf;this.index+=1;f=!0;break;case "c":a.Lb=this.hk;this.index+=1;f=!0;break;case "+":a.Lb=this.$i;this.index+=1;f=!0;break;case "x":a.Lb=this.Dj;this.index+=1;f=!0;break;case "*":a.Lb=this.Ij;this.index+=1;f=!0;break;case "2":a.Lb=this.nk;this.index+=1;f=!0;
break;case "h":a.Lb=this.ri;this.index+=1;f=!0;break;case "b":a.Lb=this.Xi;this.index+=1;f=!0;break;case "#":a.Lb=this.kj;this.index+=1;f=!0;break;case "@":this.index+=1;a.Lb=this.Cf(c,a.ig,"HROT",a);-1!==a.Lb&&(f=!0);break;case "3":a.Lb=this.Rh;this.index+=1;f=!0;break;case "a":a.Lb=this.uh;this.index+=1;f=!0;break;case "l":a.Lb=this.Qh;this.index+=1;f=!0;break;case "g":a.Lb=this.li;m=!1;this.index+=1;f=!0;break;case "w":this.index+=1;a.Lb=this.Gf(c,a.ig,"HROT",a);-1!==a.Lb&&(m=!1,f=!0);break;default:this.C=
"HROT 'N' [ABCGHLMNWX23*+#@] got '"+c[this.index].toUpperCase()+"'"}else this.C="HROT 'N' needs a neighborhood";else this.C="HROT expected 'N' got '"+c[this.index].toUpperCase()+"'";else this.C="HROT expected 'N'";q=this.index}n=this.Vr(a.ig,a.Lb,a.ii);this.index=u}f&&(f=!1,this.index<c.length?","!==c[this.index]?this.C="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"s"!==c[this.index]?this.C="HROT expected 'S' got "+c[this.index].toUpperCase():(a.Pf=d.P(Uint8,
n+2,"HROT.survivals"),f=this.Ye(c,a.Pf,"S",n,m)):this.C="HROT expected 'S'"):this.C="HROT expected ','");f&&(f=!1,this.index<c.length?","!==c[this.index]?this.C="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"b"!==c[this.index]?this.C="HROT expected 'B' got "+c[this.index].toUpperCase():(a.Ie=d.P(Uint8,n+1,"HROT.births"),f=this.Ye(c,a.Ie,"B",n,m)):this.C="HROT expected 'B'"):this.C="HROT expected ','");f&&(-1!==q&&(this.index=q),this.index!==c.length&&(f=!1,
this.C="HROT invalid characters after rule"),this.rd>n&&(f=!1,this.C="HROT 'S"+this.rd+"' > "+n),f&&this.Xc>n&&(f=!1,this.C="HROT 'B"+this.Xc+"' > "+n));f&&(a.sa=!0);return f};g.prototype.Mi=function(a,c,d){var f=!1,n=0;this.index=0;-1===a.i&&(a.i=2);if("r"!==c[this.index])this.C="HROT expected 'R' got '"+c[this.index].zN()+"'";else{var m=-1;this.index+=1;this.index<c.length&&(m=c[this.index].charCodeAt(0));if(48>m||57<m)this.C="HROT 'R' needs a number";else{var q=m-48;this.index+=1;m=-1;for(this.index<
c.length&&(m=c[this.index].charCodeAt(0));48<=m&&57>=m;)q=10*q+(m-48),this.index+=1,this.index<c.length?m=c[this.index].charCodeAt(0):m=-1;1>q?this.C="HROT 'R' < 1":500<q?this.C="HROT 'R' > 500":(a.ig=q,f=!0,n=q*(q+1))}}f&&(f=!1,this.index<c.length?"b"!==c[this.index]?this.C="HROT expected 'B' got "+c[this.index].toUpperCase()+"'":(this.index+=1,f=this.Ef(c,"B",n,a,d)):this.C="HROT expected 'B'");f&&(f=!1,this.index<c.length?"s"!==c[this.index]?this.C="HROT expected 'S' got "+c[this.index].toUpperCase()+
"'":(this.index+=1,f=this.Ef(c,"S",n,a,d)):this.C="HROT expected 'S'");f&&this.index<c.length&&"z"===c[this.index]&&(a.Pf[1]=1,this.index+=1);f&&(this.index!==c.length?(f=!1,this.C="HROT invalid characters after rule"):(a.Lb=this.Pd,a.sa=!0));return f};g.prototype.He=function(a,c){for(var d=a.length,f=-1,n="",m=0;m<d;)1===a[m]?-1===f&&(f=m):-1!==f&&(""!==n&&(n+=","),n+=f+c,m-1!==f&&(n+="-"+(m-1+c)),f=-1),m+=1;-1!==f&&(""!==n&&(n+=","),n+=f+c,m-1!==f&&(n+="-"+(m-1+c)));return n};g.prototype.Wa=function(a,
c,d){var f="",n=!1;var m=AliasManager.Oy(c);null!==m&&(f=AliasManager.kr(m),c=m);m=c.indexOf("|");if(-1===m)(n=this.ke(a,c,d,this.Bj))&&a.R&&this.$d(a,this.kB,this.gB);else if(-1===c.substr(m+1).indexOf("|")){if(n=this.ke(a,c.substr(0,m),d,this.fB)){var q=new h(a.name,this);q.s(a);a.xM();if(n=this.ke(a,c.substr(m+1),d,this.Bj))if(this.C=a.HK(q),""===this.C)if(a.sa&&0!==a.Ie[0]||!a.R&&(this.Bj[0]||this.fB[0])||a.R&&0!==(a.ck&1)||0!==(q.ck&1))this.C="Alternate not supported with B0",n=!1;else{a.R&&
(this.$d(q,this.gB,null),this.$d(a,this.kB,null));if(""!==f)a.Vf=f;else if(""!==a.Vf||""!==q.Vf)""===a.Vf&&(a.Vf=a.I),""===q.Vf&&(q.Vf=q.I),a.Vf=q.Vf+"|"+a.Vf;a.I=q.I+"|"+a.I;f=AliasManager.kr(a.I);null!==f&&(a.Vf=f);(a.sa||a.Od)&&a.KI(q,d);this.sc=!0}else n=!1}}else this.C="Only one alternate allowed";return n};g.prototype.Rj=function(a,c){var d=!0,f=a.length,n=0;if("2pca4"!==a.substr(0,5))this.C="PCA rule must start with 2PCA4",d=!1;else{var m=5;var q=-1;if(","!==a[m])d=!0;else for(m+=1;d&&16>n&&
m<f;)if(m<f){var u=a[m];m+=1;"0"<=u&&"9">=u?(-1===q&&(q=0),q=10*q+u.charCodeAt(0)-48):","===u?15<q?(this.C="Value must be from 0 to 15",d=!1):(c[n]=q,n+=1,q=-1):(this.C="Illegal character found in rule",d=!1)}d&&(-1===q?(this.C=16===n?"Extra characters found after rule":"Need 16 values",d=!1):15<q?(this.C="Value must be from 0 to 15",d=!1):(c[n]=q,16!==n+1&&(this.C="Need 16 values",d=!1)))}return d};g.prototype.Qj=function(a,c){var d=!0,f=0,n=a.length,m,q=0;if("m"!==a[f])this.C="Margolus rule must start with M",
d=!1;else{f+=1;"s,d"===a.substr(f,f+2)&&(f+=3);for(m=-1;d&&16>q&&f<n;)if(f<n){var u=a[f];f+=1;"0"<=u&&"9">=u?(-1===m&&(m=0),m=10*m+u.charCodeAt(0)-48):","===u||";"===u?15<m?(this.C="Value must be from 0 to 15",d=!1):(c[q]=m,q+=1,m=-1):(this.C="Illegal character found in rule",d=!1)}d&&(-1===m?(this.C=16===q?"Extra characters found after rule":"Need 16 values",d=!1):15<m?(this.C="Value must be from 0 to 15",d=!1):(c[q]=m,16!==q+1&&(this.C="Need 16 values",d=!1)))}return d};g.prototype.ke=function(a,
c,d,f){var n=!1,m=null,q=null,u=null,y="012345678ceaiknjqrytwz-";var v=this.Wy.length;var r=this.bv.length;var B=this.dt.length;var b=this.ct.length,l=this.et.length;var e=this.Kw.length;var t=this.Lw.length,x=this.Rw.length,z="";f[0]=0;var A=AliasManager.Oy(c);null!==A&&(""===c&&(a.I="Conway's Life"),c=A);if("map"===c.substr(0,3).toLowerCase()){z=c.substr(3);var C=z.indexOf("/");-1===C?"=="===z.substr(-2)&&(z=z.substr(0,z.length-2)):"=="===z.substr(C-2,2)&&(z=z.substr(0,C-2)+z.substr(C));c=this.Uo(z,
a);if(0<=c)if(n=!0,u=z.substr(c),z=z.substr(0,c),"/"===u[0]){A=1;a.i=0;A<u.length&&("g"===u[A].toLowerCase()||"c"===u[A].toLowerCase())&&(A+=1);for(C=0;A<u.length&&-1!==C;)C="0123456789".indexOf(u[A]),-1!==C?a.i=10*a.i+C:(this.C="Illegal character in generations number",a.i=-1,n=!1),A+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.C="Generations number must be 2-256",a.i=-1,n=!1)}else""!==u&&(A=u.length,this.C="MAP length must be "+this.Wc+", "+this.pc+" or 86 not "+(A+c),n=!1);else this.C=86===z.length||z.length===
this.pc||z.length===this.Wc?"MAP contains illegal base64 character":"MAP length must be "+this.Wc+", "+this.pc+" or 86 not "+z.length}else if(c=c.toLowerCase(),c=this.If(c),"2pca4"===c.substr(0,5)){if(n=this.Rj(c,f))a.N=!0,a.i=16}else if("m"===c[0]){if(n=this.Qj(c,f))a.ma=!0}else{n=!0;if("g"===c[0]){A=1;for(C=a.i=0;A<c.length&&-1!==C;)C="0123456789".indexOf(c[A]),-1!==C&&(a.i=10*a.i+C,A+=1);1<A&&(2>a.i||256<a.i?(this.C="Generations number must be 2-256",a.i=-1,n=!1):(A<c.length&&"/"===c[A]&&(A+=1),
c=c.substr(A),n=!0))}if(n&&(C=c.lastIndexOf("g"),-1!==C&&C!==c.length-1&&!(0<C&&"/"===c[C-1]))){A=C+1;for(C=a.i=0;A<c.length&&-1!==C;)C="0123456789".indexOf(c[A]),-1!==C&&(a.i=10*a.i+C,A+=1);A===c.length?2>a.i||256<a.i?(this.C="Generations number must be 2-256",a.i=-1,n=!1):(c=c.substr(0,c.lastIndexOf("g")),n=!0):a.i=-1}if(n)if(n=!1,"r"===c[0]||"1"<=c[0]&&"9">=c[0]&&-1!==c.indexOf(",")){if(n="r"===c[0]?-1!==c.indexOf(".")?this.Qi(a,c):-1!==c.indexOf("t")&&-1===c.indexOf("n")?this.Ri(a,c):-1!==c.indexOf(",")?
this.Ni(a,c,d):this.Mi(a,c,d):this.Si(a,c))if(a.sa){if(u=15===a.Lb||a.Lb===this.li?0:-1,a.I="R"+a.ig+",",a.I+="C"+a.i+",",a.I+="S"+this.He(a.Pf,u)+",",a.I+="B"+this.He(a.Ie,0),a.Lb!==this.Pd)switch(a.I+=",N",a.Lb){case this.uf:a.I+="N";break;case this.hk:a.I+="C";break;case this.$i:a.I+="+";break;case this.Dj:a.I+="X";break;case this.Ij:a.I+="*";break;case this.nk:a.I+="2";break;case this.ri:a.I+="H";break;case this.Xi:a.I+="B";break;case this.kj:a.I+="#";break;case 10:a.I+="@"+a.se+a.Rg;break;case this.Rh:a.I+=
"3";break;case this.uh:a.I+="A";break;case this.Qh:a.I+="L";break;case this.li:a.I+="G";break;case 15:a.I+="W"+a.se+a.Rg}}else{a.Od=!0;a.I="R"+a.Ae+",C"+a.i+",M"+a.oj+",S"+a.ae+".."+a.Ze+",B"+a.je+".."+a.Uf+",N";switch(a.Ih){case this.Pd:a.I+="M";break;case this.uf:a.I+="N";break;case this.hk:a.I+="C";break;case this.$i:a.I+="+";break;case this.Dj:a.I+="X";break;case this.Ij:a.I+="*";break;case this.nk:a.I+="2";break;case this.ri:a.I+="H";break;case this.Xi:a.I+="B";break;case this.kj:a.I+="#";break;
case 10:a.I+="@"+a.se+a.Rg;break;case this.Rh:a.I+="3";break;case this.uh:a.I+="A";break;case this.Qh:a.I+="L";break;case this.li:a.I+="G";break;case 15:a.I+="W"+a.se+a.Rg}0===a.oj&&(a.ae+=1,a.Ze+=1)}}else if("w"===c[0])n=this.Yj(a,c,f);else if(d=c.lastIndexOf(this.dt),-1!==d&&d===c.length-B&&(a.R=!0,a.Ud=this.gn,c=c.substr(0,c.length-B),y=this.ne),d=c.lastIndexOf(this.ct),-1!==d&&d===c.length-b&&(a.R=!0,a.Ud=this.So,c=c.substr(0,c.length-b),y=this.me),d=c.lastIndexOf(this.et),-1!==d&&d===c.length-
l&&(a.R=!0,a.Ud=this.To,c=c.substr(0,c.length-l),y=this.oe),d=c.lastIndexOf(this.Kw),-1!==d&&d===c.length-e&&(a.R=!0,a.Ud=this.yq,c=c.substr(0,c.length-e),y=this.gg),d=c.lastIndexOf(this.Lw),-1!==d&&d===c.length-t&&(a.R=!0,a.Ud=this.zq,c=c.substr(0,c.length-t),y=this.hg),e=c.lastIndexOf(this.Wy),-1!==e&&e===c.length-v&&(a.S=!0,a.yg=this.tr,c=c.substr(0,c.length-v),y=this.Go),e=c.lastIndexOf(this.bv),-1!==e&&e===c.length-r&&(a.S=!0,a.yg=this.tp,c=c.substr(0,c.length-r),y=this.eg),e=c.lastIndexOf(this.Rw),
-1!==e&&e===c.length-x&&(a.te=!0,c=c.substr(0,c.length-x),y=this.Gg),v=c.indexOf("/"),-1===v&&(v=c.indexOf("_")),-1!==v&&(e=c.lastIndexOf("/"),-1===e&&(e=c.lastIndexOf("_")),e!==v&&(u=c.substring(e+1),c=c.substr(0,e),d=c.lastIndexOf(this.dt),-1!==d&&d===c.length-B&&(a.R=!0,a.Ud=this.gn,c=c.substr(0,c.length-B),y=this.ne),d=c.lastIndexOf(this.ct),-1!==d&&d===c.length-b&&(a.R=!0,a.Ud=this.So,c=c.substr(0,c.length-b),y=this.me),d=c.lastIndexOf(this.et),-1!==d&&d===c.length-l&&(a.R=!0,a.Ud=this.To,c=
c.substr(0,c.length-l),y=this.oe),e=c.lastIndexOf(this.bv),-1!==e&&e===c.length-r&&(a.S=!0,c=c.substr(0,c.length-r),y=this.eg),e=c.lastIndexOf(this.Rw),-1!==e&&e===c.length-x&&(a.te=!0,c=c.substr(0,c.length-x),y=this.Gg))),c===this.hf)a.Pa=!0,a.i=256,n=!0;else{r=c.indexOf("b");B=c.indexOf("s");-1===v?0===r||0===B?-1===B?(m=c,q=""):-1===r?(q=c,m=""):r<B&&-1!==B?(m=c.substring(r+1,B),q=c.substring(B+1)):(q=c.substring(B+1,r),m=c.substring(r+1)):this.C="Unsupported rule name":(-1===r&&-1!==B?r=v:-1!==
r&&-1===B&&(B=v),r<B?(m=c.substring(0,v),q=c.substring(v+1)):(m=c.substring(v+1),q=c.substring(0,v)));-1!==r&&m&&"b"===m[0]&&(m=m.substring(1));-1!==B&&q&&"s"===q[0]&&(q=q.substring(1));if(null!==u)if(A=0,-1!==a.i)this.C="Generations defined twice",m=null;else{a.i=0;A<u.length&&("g"===u[A].toLowerCase()||"c"===u[A].toLowerCase())&&(A+=1);for(C=0;A<u.length&&-1!==C;)C="0123456789".indexOf(u[A]),-1!==C?a.i=10*a.i+C:(this.C="Illegal character in generations number",a.i=-1,m=null),A+=1;-1!==a.i&&(2>a.i||
256<a.i)&&(this.C="Generations number must be 2-256",a.i=-1,m=null)}if(null!==m&&null!==q){n=!0;for(A=0;A<m.length;)C=y.indexOf(m[A]),-1===C?(this.C="Illegal character in birth specification",n=!1,A=m.length):A+=1;if(n)for(A=0;A<q.length;)C=y.indexOf(q[A]),-1===C?(this.C="Illegal character in survival specification",n=!1,A=q.length):A+=1}}}n&&-1===a.Vd&&!1===a.Od&&!1===a.sa&&(a.I=this.Uh(a,m,q,z,f),""!==this.C&&(n=!1),2===a.i&&(a.i=-1));n?this.Sh(a,z):(a.lO=!1,a.sa=!1,a.i=-1,a.Pa=!0);return n};g.prototype.ip=
function(a,c,d,f){var n=0,m=c.length-1,q=!1,u=!0,y,v=0,r=0,B=0,b=0,l=this.Eo;for(y=c[n];!q;){var e=y;y=c[n+1];var t=-1;switch(e){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":b=10*b+parseInt(e,10);break;case "b":t=0;break;case "o":t=1;break;case ".":t=0;break;case "z":t=7;a.qc=!0;a.yp=!0;break;case "$":0===b&&(b=1);B+=b;b=0;r>v&&(v=r);r=0;break;case "!":0===b&&(b=1);B+=b;b=0;r>v&&(v=r);q=!0;break;default:u=!1,"A"<=e&&"X">=e?(u=!0,t=e.charCodeAt(0)-64):"p"<=
e&&"y">e?"A"<=y&&"X">=y?(u=!0,t=24*(e.charCodeAt(0)-111)+(y.charCodeAt(0)-64),n+=1,y=c[n+1]):"x"===e&&(u=!0,a.qc=!0,a.yp=!0,t=3):"y"===e&&("A"<=y&&"O">=y?(u=!0,t=24*(e.charCodeAt(0)-111)+(y.charCodeAt(0)-64),n+=1,y=c[n+1]):(u=!0,a.qc=!0,a.yp=!0,t=5))}if(0<=t)if(0===b&&(b=1),d||(0===l[t]&&(a.cs+=1),l[t]+=b,t>=a.Bd&&(a.Bd=t+1)),0<t&&d)for(;0<b;){a.Zg[B][r]=-1===a.i?t:2===a.i?1===t?LifeConstants.Hb:0:t<a.i?t:1;if(!a.qc&&!a.T&&-1===a.i&&1===t||(a.qc||a.T)&&t&1||-1!==a.i&&1===t)a.ve[B][r>>4]|=1<<(~r&15);
r+=1;--b}else r+=b,b=0;u||(" "===e||"\t"===e||"\n"===e?u=!0:(this.C="Illegal character in pattern: "+e,this.U=q=a.Rn=!0));n+=1;n===m&&(q||(0===b&&(b=1),B+=b,b=0,r>v&&(v=r)),q=!0)}d||(0===v&&(B=v=1),a.width=v,a.height=B,16384<v||16384<B?a.Lg=!0:(a.ve=Array.ga(Uint16,B,(v-1>>4)+1,0,f,"Pattern.lifeMap"),a.Zg=Array.ga(Uint8,B,v,0,f,"Pattern.multiStateMap")),a.sj="RLE");a.Rn&&(n=-1);return n};g.prototype.om=function(a,c){var d=c.indexOf("\n");-1===d&&(d=c.length);a.iF=c.substring(0,d).trim()};g.prototype.sd=
function(a,c,d){for(var f=!1;c<d&&!f;)" "===a[c]?c+=1:f=!0;return c};g.prototype.Ll=function(a){var c=a.indexOf("\n"),d=0,f=!1,n=!1,m=0;-1===c&&(c=a.length);for(;m<c&&!f;)"="===a[m]?f=!0:" "!==a[m]?f=!0:m+=1;if(f&&"="===a[m]){m=this.sd(a,m+1,c);m<c&&"-"===a[m]&&(n=!0,m+=1);for(f=!1;m<c&&!f;){var q="0123456789".indexOf(a[m]);-1!==q?(d=10*d+q,m+=1):f=!0}this.Yk=!0;n&&(d=-d);this.My=d}};g.prototype.Ff=function(a,c){var d=a.indexOf("\n"),f=0,n=0,m=!1,q=!1,u=!1,y=0;-1===d&&(d=a.length);if(c){for(;y<d&&
!u;)"="===a[y]?u=!0:" "!==a[y]?u=!0:y+=1;u&&"="===a[y]&&(y+=1)}else u=!0;if(u&&(y=this.sd(a,y,d),y<d)){"-"===a[y]&&(m=!0,y+=1);for(u=!1;y<d&&!u;)c="0123456789".indexOf(a[y]),-1!==c?(f=10*f+c,y+=1):u=!0;this.ah=!0;this.Rv=m?-f:f;y=this.sd(a,y,d);if(y<d&&","===a[y]&&(y=this.sd(a,y+1,d),y<d)){"-"===a[y]&&(q=!0,y+=1);for(u=!1;y<d&&!u;)c="0123456789".indexOf(a[y]),-1!==c?(n=10*n+c,y+=1):u=!0;this.Sv=q?-n:n}}};g.prototype.Th=function(a){var c=a.indexOf("XRLE");0===c&&(c=a.indexOf("Pos"),-1!==c&&this.Ff(a.substr(c+
3),!0),c=a.indexOf("Gen"),-1!==c&&this.Ll(a.substr(c+3)))};g.prototype.lm=function(a,c){var d=c.indexOf("\n");-1===d&&(d=c.length);a.name=c.substring(0,d).trim()};g.prototype.Yd=function(a,c,d,f){var n=d.indexOf("\n");-1===n&&(n=d.length);" "===d[0]&&(c+=" ");d=""+d.substring(0,n).trim();a.title+=d+" ";f?a.pg+=c+d+"\n":a.Ac+=c+d+"\n";return n+1};g.prototype.G=function(a){var c=-1;a+=" ";var d="0123456789".indexOf(a[this.index]);if(-1!==d)for(c=0;-1!==d;)c=10*c+d,this.index+=1,d="0123456789".indexOf(a[this.index]);
return c};g.prototype.Uj=function(a,c){c=this.G(c);a.Ne=c;a.xg=c};g.prototype.Wj=function(a,c){var d=this.G(c),f=-1,n=0,m=0;if(-1!==d){var q=c[this.index];if("-"===q||"+"===q)this.index+=1,n=this.G(c),-1===n?d=-1:"-"===q&&(n=-n);if(","===c[this.index])if(this.index+=1,f=this.G(c),-1===f)d=-1;else{if(q=c[this.index],"-"===q||"+"===q)this.index+=1,m=this.G(c),-1===m?d=-1:"-"===q&&(m=-m)}else f=d}0!==n&&0!==m&&(d=-1);0===d&&0===f&&(d=-1);0===n&&0===m||0!==d&&0!==f||(d=-1);a.Ne=d;a.xg=f;a.lr=n;a.pp=m};
g.prototype.Pi=function(a,c){var d=this.G(c),f=-1,n=0,m=0,q=!1,u=!1;if(-1!==d){var y=c[this.index];"*"===y&&(q=!0,this.index+=1,y=c[this.index]);if("-"===y||"+"===y)n=this.G(c),-1===n?d=-1:"-"===y&&(n=-n),this.index+=1,y=c[this.index];if(","===y)if(this.index+=1,f=this.G(c),-1===f)d=-1;else{if(y=c[this.index],"*"===y&&(u=!0,this.index+=1,y=c[this.index]),"-"===y||"+"===y)this.index+=1,m=this.G(c),-1===m?d=-1:"-"===y&&(m=-m)}else f=d}q&&u&&(d=-1);0!==n&&0!==m&&(d=-1);if(q&&0!==m||u&&0!==n)d=-1;if(0===
d||0===f)d=-1;q||u||(u=!0);a.Ne=d;a.xg=f;a.lr=n;a.pp=m;a.Sy=q;a.Wu=u};g.prototype.ci=function(a,c){var d=this.G(c),f=-1;-1!==d&&(","===c[this.index]?(this.index+=1,f=this.G(c),-1===f&&(d=-1)):f=d);a.Ne=d;a.xg=f};g.prototype.Sj=function(a,c){var d=this.G(c),f=-1;-1!==d&&(","===c[this.index]?(this.index+=1,f=this.G(c),-1===f&&(d=-1)):f=d);0===d&&0===f&&(d=-1);a.Ne=d;a.xg=f};g.prototype.ph=function(a,c){var d=!1;c=this.If(c).toLowerCase();if(""!==c){a.mc="ptkcs".indexOf(c[0]);if(-1!==a.mc)if(this.index=
1,2!==a.mc&&-1!==c.indexOf("*"))a.Ne=-1;else switch(a.mc){case 0:this.Sj(a,c);break;case 1:this.Wj(a,c);break;case 2:this.Pi(a,c);break;case 3:this.ci(a,c);break;case 4:this.Uj(a,c);break;default:a.Ne=-1}this.index!==c.length&&(a.Ne=-1);-1!==a.Ne?d=!0:(a.mc=-1,this.C="Invalid bounded grid definition '"+c.toUpperCase()+"'")}return d};g.prototype.Yb=function(a,c,d,f){var n,m,q=null;if(d[c]===a){for(c+=1;c<f&&" "===d[c];)c+=1;for(c<f&&"="===d[c]&&(c+=1);c<f&&" "===d[c];)c+=1;a=0;var u=n=!1;"-"===d[c]&&
(c+=1,u=!0);for(m=d[c].charCodeAt(0);c<f&&48<=m&&57>=m;)a=10*a+(m-48),c+=1,n=!0,c<f&&(m=d[c].charCodeAt(0));for(n&&(q=u?-a:a);c<f&&" "===d[c];)c+=1;for(c<f&&","===d[c]&&(c+=1);c<f&&" "===d[c];)c+=1}return[q,c]};g.prototype.Tj=function(a,c){this.Ek=this.Fk=-1;var d=this.Yb("x",0,a,c);var f=d[1];d[0]&&(this.Fk=d[0]);d=this.Yb("y",f,a,c);f=d[1];d[0]&&(this.Ek=d[0]);d=this.Yb("h",f,a,c);f=d[1];d[0]&&(this.Rv=d[0],this.ah=!0);d=this.Yb("v",f,a,c);d[0]&&(this.Sv=d[0])};g.prototype.ff=function(a,c,d,f){var n=
c.indexOf("\n"),m=c.indexOf("rule"),q="";-1===n&&(n=c.length);this.Tj(c,n);-1===m?d?q="":q=c.substring(1,n).trim():(q=c.substring(m+4,n).trim(),"="===q[0]&&(q=q.substring(1).trim()));a.ds=q;a.I=q;d=q.indexOf(":");c=q.lastIndexOf(":");-1!==c&&d===c&&null!==AliasManager.Oy(a.I)&&(c=-1);-1!==c&&(this.ph(a,q.substring(c+1))?q=q.substr(0,c).trim():c=-2);m=q.toLowerCase().lastIndexOf("history");-1!==m&&m===q.length-7&&(a.qc=!0,q=q.substr(0,q.length-7).trim());m=q.indexOf("|");-1!==m&&"history"===q.toLowerCase().substr(0,
m).trim().substr(-7)&&(a.qc=!0,d=q.substr(0,m).trim(),q=d.substr(0,d.length-7)+q.substr(m));a.qc||(m=q.toLowerCase().lastIndexOf("super"),-1!==m&&m===q.length-5&&(a.T=!0,q=q.substr(0,q.length-5).trim()),m=q.indexOf("|"),-1!==m&&"super"===q.toLowerCase().substr(0,m).trim().substr(-5)&&(a.T=!0,d=q.substr(0,m).trim(),q=d.substr(0,d.length-5)+q.substr(m)));-2!==c&&this.Wa(a,q,f)?this.Aa=!0:this.lk=!0;return n+1};g.prototype.jD=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a=
"Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};g.prototype.cf=function(a,c,d){var f=0,n=c.length,m=!1,q=!1;var u=this.Eo;var y=4;a.ma=!1;a.Pa=!1;a.mc=-1;a.width=0;a.height=0;a.Lg=!1;a.ve=null;a.Zg=null;a.Rn=!1;a.qc=!1;a.T=!1;a.yp=!1;a.S=!1;a.Vd=-1;a.te=!1;a.i=-1;a.Od=!1;a.Ae=-1;a.oj=1;a.ae=-1;a.Ze=-1;a.je=-1;a.Uf=-1;a.sa=!1;a.Ie=null;a.Pf=null;a.ig=-1;a.title="";a.Ac="";a.pg="";a.Bd=2;a.cs=0;u.fill(0);for(c+=" ";f<n&&!a.Rn;)switch(u=c[f],
u){case "#":f+=1;u=c[f];f+=1;switch(u){case "N":this.lm(a,c.substring(f));break;case "O":this.om(a,c.substring(f));break;case "C":this.Th(c.substring(f));break;case "P":case "R":this.Ff(c.substring(f),!1);break;case "\n":--f}f="\n"===u?f+this.Yd(a,"#",c.substring(f),m):f+this.Yd(a,"#"+u,c.substring(f),m);break;case "x":f+=this.ff(a,c.substring(f),!0,d);q=!0;break;case "\n":f+=1;break;default:m?f+=this.Yd(a,"",c.substring(f),!0):(m=!0,u=this.ip(a,c.substring(f),!1,d),-1!==u&&(f=a.Lg?f+u:f+this.ip(a,
c.substring(f),!0,d)))}q||(this.Wa(a,"",d)?this.Aa=!0:this.lk=!0);-1!==a.mc&&(a.sa&&(y=6*a.ig),a.Od&&(y=6*a.Ae),a.Ne>=16384-y||a.xg>=16384-y)&&(this.C="Bounded grid is too big",this.Aa=!1,a.mc=-1);!a.Od||""!==this.C||(1<a.mc&&(this.C="LtL only supports Plane or Torus",this.Aa=!1,a.mc=-1),a.S&&(this.C="LtL does not support Hex grid",this.Aa=!1,a.S=!1),0===a.je&&-1===a.mc&&(this.C="LtL does not support B0 unbounded",this.Aa=!1),0!==a.mc&&1!==a.mc)||0!==a.Ne&&0!==a.xg||(this.C="LtL bounded grid must be finite",
this.Aa=!1,a.mc=-1);a.R&&-1!==a.mc&&(0!==(a.Ne&1)?(this.C="Bounded grid width must be even",this.Aa=!1,a.mc=-1):0!==(a.xg&1)&&(this.C="Bounded grid height must be even",this.Aa=!1,a.mc=-1));a.N&&0!==this.Bj[0]&&(this.C="PCA first value must be 0",this.Bj[0]=0,this.Aa=!1);a.ma&&(15===this.Bj[0]&&0!==this.Bj[15]?(this.C="Margolus last value must be 0 when first is 15",this.Aa=!1):0!==this.Bj[0]&&15!==this.Bj[0]&&(this.C="Margolus first value must be 0 or 15",this.Aa=!1));!a.sa||""!==this.C||(1<a.mc&&
(this.C="HROT only supports Plane or Torus",this.Aa=!1,a.mc=-1),a.S&&(this.C="HROT does not support Hex grid",this.Aa=!1,a.S=!1),a.Ie&&1===a.Ie[0]&&-1===a.mc&&(this.C="HROT does not support B0 unbounded",this.Aa=!1),0!==a.mc&&1!==a.mc)||0!==a.Ne&&0!==a.xg||(this.C="HROT bounded grid must be finite",this.Aa=!1,a.mc=-1);a.Pa&&a.qc&&""===this.C&&(this.C="[R]History not valid with none rule",this.Aa=a.qc=!1);a.Pa&&a.T&&""===this.C&&(this.C="[R]Super not valid with none rule",this.Aa=a.qc=!1);a.R&&a.T&&
""===this.C&&(this.C="[R]Super not valid with triangular rule",this.Aa=a.qc=!1);-1===a.i||!a.qc||a.Od||a.sa||(this.C="[R]History not valid with Generations",this.Aa=a.qc=!1);-1===a.i||!a.T||a.Od||a.sa||(this.C="[R]Super not valid with Generations",this.Aa=a.T=!1);-1===a.i||!this.Bj[0]||a.Od||a.sa||(this.C="Generations does not support B0",this.Aa=!1);a.Od&&a.qc&&(this.C="[R]History not valid with LtL",this.Aa=a.qc=!1);a.Od&&a.T&&(this.C="[R]Super not valid with LtL",this.Aa=a.T=!1);a.sa&&a.qc&&(this.C=
"[R]History not valid with HROT",this.Aa=a.qc=!1);a.sa&&a.T&&(this.C="[R]Super not valid with HROT",this.Aa=a.T=!1);a.ma&&a.qc&&(this.C="[R]History not valid with Margolus",this.Aa=a.qc=!1);a.ma&&a.T&&(this.C="[R]Super not valid with Margolus",this.Aa=a.T=!1);a.ma&&-1!==a.mc&&(-1!==a.xg&&0!==(a.xg&1)&&(this.C="Bounded grid height must be even",a.mc=-1,this.Aa=!1),-1!==a.Ne&&0!==(a.Ne&1)&&(this.C="Bounded grid width must be even",a.mc=-1,this.Aa=!1));this.Aa&&(a.yp?8<a.Bd&&(this.C="Illegal state in pattern for Niemiec",
this.Aa=!1,this.U=!0):a.qc?7<a.Bd&&(this.C="Illegal state in pattern for [R]History",this.Aa=!1,this.U=!0):a.T?26<a.Bd&&(this.C="Illegal state in pattern for [R]Super",this.Aa=!1,this.U=!0):-1!==a.i&&a.Bd>a.i&&(this.C=a.Od?"Illegal state in pattern for LtL":a.sa?"Illegal state in pattern for HROT":a.N?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.U=!0,this.Aa=!1));a.Od&&this.Yn(a,d);!a.sa||a.Lb!==this.ri&&a.Lb!==this.Rh&&a.Lb!==this.uh&&(15!==a.Lb&&10!==a.Lb||
"H"!==a.Rg)||(a.S=!0);!a.sa||a.Lb!==this.Qh&&(15!==a.Lb&&10!==a.Lb||"L"!==a.Rg)||(a.R=!0);a.T&&(a.i=26)};g.prototype.Oi=function(a,c){var d=!0,f=!1,n=0,m=0,q=0,u=0,y=0,v=!0,r=k.hB,B=null,b=[],l={},e=null;c.mq();var t=c.W();for(""!==t&&"@"===t[0]&&(t="");d&&""!==t;){for(;d&&!f&&""!==t;){if("/"===t[0])c.mq();else if("xpm"===t.toLowerCase())c.mq();else if('"'===t[0])t=t.substr(1),c.nm(t)&&(n=c.Kx(t),c.K()&&(m=c.M(),c.K()&&(q=c.M(),t=c.W(),'"'===t[t.length-1]&&(t=t.substr(0,t.length-1),c.nm(t)&&(u=c.Kx(t)))))),
0<n&&0<m&&1<=u&&2>=u&&0===m%n?7!==n&&15!==n&&31!==n?f=!1:(f=!0,y=0,B=new Uint16Array(n*m),e=new Uint32Array(q)):d=!1;else switch(t){case "circles":r=k.EM;l={};B=[];e=[];break;case "diamonds":r=k.FM;l={};B=[];e=[];break;case "hexagons":r=k.GM;l={};B=[];e=[];break;case "triangles":r=k.IM,l={},B=[],e=[]}for(;c.Wr();)c.W();t=c.W();""!==t&&"@"===t[0]&&(t="")}for(;d&&f&&""!==t;){if("/"===t[0])c.mq();else{if('"'===t[0])if(d=!1,y<q){var x=t.substr(1);if(x.length===u&&void 0===l[x]&&(t=c.W(),"c"===t&&(t=c.W(),
'"'===t[t.length-1]))){d=t.substr(0,t.length-1);d=parseInt(d,16);l[x]=y;e[y]=d;if(d>>16!==(d>>8&255)||d>>16!==(d&255))v=!1;d=!0}}else{if(d=!1,'"'===t[t.length-1]&&t.length-2===n*u){t=t.substr(1,t.length-2);var z=0;for(d=!0;d&&z<n;)x=t[z*u],1<u&&(x+=t[z*u+1]),void 0===l[x]?d=!1:B[(y-q)*n+z]=l[x],z+=1}}else y===m+q?(f=!1,b[b.length]={Px:r,width:n,height:m,dF:q,Pl:e.slice(),BK:B.slice(),dE:v},l={},B=null,v=!0,r=k.hB):d=!1,c.AG();y+=1}for(;c.Wr();)c.W();t=c.W();""!==t&&"@"===t[0]&&(t="")}}d?y===m+q?(b[b.length]=
{Px:r,width:n,height:m,dF:q,Pl:e.slice(),BK:B.slice(),dE:v},a.Rd=b):a.Rd=null:a.Rd=null};g.prototype.bi=function(a,c){var d=a.Bd;a=a.ge;var f=0,n=0,m=0,q=0,u=!1;c.mq();c.K()&&(f=c.M(),u=!0);for(;u;){u=!1;c.K()&&(n=c.M(),c.K()&&(m=c.M(),c.K()&&(q=c.M(),u=!0)));if(u)if(c.K()&&c.NJ()){var y=c.M();var v=c.M();0<=f&&255>=f&&0<=n&&255>=n&&0<=m&&255>=m&&0<=q&&255>=q&&0<=y&&255>=y&&0<=v&&255>=v?this.$e(a,f,n,m,q,y,v):u=!1}else 0<=f&&f<d&&0<=n&&255>=n&&0<=m&&255>=m&&0<=q&&255>=q?a[f]=n<<16|m<<8|q:u=!1;u&&
(c.mq(),c.K()?f=c.M():u=!1)}};g.prototype.le=function(a,c,d,f,n,m){var q=!1,u=a.length;var y=f.length;var v=y%32;var r=1<<v,B=(y-v)/32;if(null!==m)for(y=0;!q&&y<m.length;){var b=m[y];if(b.Op===c)for(v=0,q=!0;q&&v<a.length;)0!==this.Vb(a[v],b.inputs[v])&&(q=!1),v+=1;y+=1}if(!q){null!==m&&(b={inputs:[],Op:c},b.inputs=a.slice(),m[m.length]=b);f[f.length]=c;if(B>=d.Hg){for(y=0;y<u;y+=1)for(v=0;v<d.kg;v+=1)n[y][v][n[y][v].length]=0;d.Hg+=1}for(y=0;y<u;y+=1)for(c=a[y],v=0;v<c.length;v+=1)n[y][c[v]][B]|=
r}return q};g.prototype.Al=function(a){var c=a.length,d=c-2,f=c-1,n=!1;if(1<c){for(;0<=d&&0<=this.Vb(a[d],a[d+1]);)--d;if(0<d){for(n=!0;f>=d&&0>=this.Vb(a[f],a[d]);)--f;var m=a[d];a[d]=a[f];a[f]=m;var q=(c-(d+1))/2|0;for(f=0;f<q;f+=1)m=a[c-f-1],a[c-f-1]=a[d+1+f],a[d+1+f]=m}}return n};g.prototype.Vb=function(a,c){var d=0,f=a.length;if(f===c.length){for(;d<f&&a[d]===c[d];)d+=1;return d===f?0:a[d]-c[d]}return f-c.length};g.prototype.Hl=function(a,c,d,f,n){var m,q,u,y=[],v=[],r=[],B=0;for(m=0;m<d;m+=
1)for(r[m]=[],q=0;q<n.kg;q+=1)r[m][q]=[];for(m=n.Hg=0;m<f.length;m+=1){var b=f[m].inputs;var l=f[m].Op;if(0===a)this.le(b,l,n,v,r,null);else if(a===c-1){y=b.slice(1).sort(this.Vb);for(q=0;q<y.length;q+=1)b[q+1]=y[q];do this.le(b,l,n,v,r,null);while(this.Al(b))}else{var e=this.Bb[n.Cj][a-1];var t=[];for(q=0;q<e.length;q+=1){for(u=0;u<b.length;u+=1)y[u]=b[e[q][u]];this.le(y,l,n,v,r,t)&&(B+=1)}}}n.Ig=[];for(m=0;m<d;m+=1)for(n.Ig[m]=[],q=0;q<n.kg;q+=1)n.Ig[m][q]=new Uint32Array(r[m][q].length),n.Ig[m][q].set(r[m][q]);
n.Sd=new Uint8Array(v.length);n.Sd.set(v);n.nl=B};g.prototype.Vj=function(a,c){var d=-1,f=-1,n=-1,m=0,q,u="",y={},v=0,r=0,B=[],b=null,l;var e=0;for(l=!0;l&&3>e;){var t=c.YD();switch(t.toLowerCase()){case this.kg:l=!1;":"===c.W()?c.K()?(d=c.M(),2<=d&&256>=d?l=!0:this.C=this.kg+" must be from 2 to 256"):this.C=this.kg+" must be numeric":this.C=this.kg+" missing :";break;case "neighborhood":l=!1;if(":"===c.W()){t=c.W();var x=!1;for(q=0;!x&&q<this.ja.length;)t.toLowerCase()===this.ja[q]?(f=q,m=this.ob[q],
x=!0,b=new Int32Array(m+1)):q+=1;l=x;x||(this.C="neighborhood invalid")}else this.C="neighborhood missing :";break;case "symmetries":l=!1;if(-1!==f)if(":"===c.W()){t=c.W();x=!1;for(q=0;!x&&q<this.ua[f].length;)t.toLowerCase()===this.ua[f][q]?(n=q,x=!0):q+=1;l=x;x||(this.C="symmetries invalid")}else this.C="symmetries missing :";else this.C="symmetries must follow neighborhood";break;default:l=!1}e+=1}if(-1===d||-1===f||-1===n)""===this.C&&(this.C=-1===d?"missing "+this.kg:-1===f?"missing neighborhood":
"missing symmetries"),l=!1;c.ww();t=c.W();for(""!==t&&"@"===t[0]&&(t="");l&&""!==t;){if("var"===t.toLowerCase()){l=!1;u=c.W();var z=[];if("="===c.W())for(l=!0;l&&!c.Wr();)if(c.K())q=c.M(),0<=q&&q<=d?z[z.length]=q:(l=!1,this.C="out of range value: "+u+"="+q);else{var A=c.W();if(void 0!==y[A])for(e=0;e<y[A].length;e+=1)z[z.length]=y[A][e];else l=!1,this.C="var unknown assignment: "+u+"="+A}else this.C="missing =: "+u;l&&(y[u]=z,v+=1)}else if(10>=d&&0===v&&c.Wr()){if(z=[],l=!1,t.length===m+1){e=0;for(l=
!0;l&&e<m;)A=t.charCodeAt(e),48<=A&&A<48+d?(z[z.length]=[A-48],e+=1):(this.C="expected only digits: "+t,l=!1);l&&(A=t.charCodeAt(e),48<=A&&A<48+d?(r=A-48,B[B.length]={inputs:z,Op:r}):(this.C="expected only digits: "+t,l=!1))}}else{l=!1;A=[];A[0]=t;b[0]=c.nm(t)?parseInt(t,10):-1;for(e=1;c.hL();)e<m+1?c.K()?(b[e]=c.M(),A[e]=""):(b[e]=-1,A[e]=c.W()):A[e]=c.W(),e+=1;if(A.length===m+1){t=[];for(u in y){for(e=l=0;e<A.length;e+=1)u===A[e]&&(l+=1);1<l&&(t[t.length]=u)}z=[];var C={};for(e=0;e<t.length;e+=
1)C[t[e]]=0;for(l=!0;;){for(e=0;e<m;e+=1)if(x=!1,q=b[e],-1!==q)q>=d?(this.C="state out of range: "+q,l=!1):z[e]=[q];else{var G=A[e];if(t.length)for(q=0;!x&&q<t.length;)t[q]===G?x=!0:q+=1;0<t.length&&x?z[e]=[y[G][C[G]]]:void 0!==y[G]?z[e]=y[G]:(this.C="unknown variable: "+G,l=!1)}x=!1;q=b[e];if(-1!==q)0>q||q>=d?(this.C="output state out of range: "+q,l=!1):r=q;else{G=A[e];if(0<t.length)for(q=0;!x&&q<t.length;)t[q]===G?x=!0:q+=1;0<t.length&&x?r=y[G][C[G]]:void 0!==y[G]?r=y[G]:(this.C="unknown output variable: "+
G,l=!1)}B[B.length]={inputs:z.slice(),Op:r};for(e=0;e<t.length;e+=1)if(C[t[e]]<y[t[e]].length-1){C[t[e]]+=1;break}else C[t[e]]=0;if(e>=t.length)break}}}c.ww();t=c.W();""!==t&&"@"===t[0]&&(c.AG(),t="")}l&&(null===a.v&&(a.v=new Allocator),a.kg=d,a.Cj=f,a.S=f===k.ol?!0:!1,this.Hl(n,this.ua[f].length,m,B,a),a.Bd=a.kg,this.C="",this.Aa=!0,this.lk=!1,a.Pa=!1,this.af(a,a.kg));return l};g.prototype.$e=function(a,c,d,f,n,m,q){var u=a.length,y;a[0]=0;for(y=1;y<u;y+=1){var v=2===u?0:(y-1)/(u-2);a[y]=(n*v+c*
(1-v)|0)<<16|(m*v+d*(1-v)|0)<<8|q*v+f*(1-v)|0}};g.prototype.af=function(a,c){a.ge=new Uint32Array(c);this.$e(a.ge,255,0,0,255,255,0)};g.prototype.em=function(a){return(new RegExp("neighborhood *: *"+this.ja[k.ol])).test(a.source)};g.prototype.Xj=function(a,c){var d,f=-1,n=-1,m=-1,q=null,u=0,y=null,v=0,r=null,B=0,b=null,l=0,e=0,t=0;var x=0;for(d=!0;d&&3>x;){d=c.YD();switch(d.toLowerCase()){case this.Be:d=!1;"="===c.W()?c.K()?(f=c.M(),2<=f&&256>=f?d=!0:this.C=this.Be+" must be from 2 to 256"):this.C=
this.Be+" must be numeric":this.C=this.Be+" missing =";break;case this.lg:d=!1;"="===c.W()?c.K()?(n=c.M(),4===n||8===n?d=!0:this.C=this.lg+" must be 4 or 8"):this.C=this.lg+" must be numeric":this.C=this.lg+" missing =";break;case this.Ai:d=!1;"="===c.W()?c.K()?(m=c.M(),m>=n&&1E8>=m?d=!0:this.C=this.Ai+" out of range"):this.C=this.Ai+" must be numeric":this.C=this.Ai+" missing =";break;default:d=!1}x+=1}if(-1===f||-1===n||-1===m)""===this.C&&(this.C=-1===f?"missing "+this.Be:-1===n?"missing "+this.lg:
"missing "+this.Ai),d=!1;d&&(q=new Uint32Array(m*f),y=new Uint8Array(m*f),r=new Uint32Array(m),b=new Uint32Array(m));for(c.ww();d&&c.K();){B>m?d=!1:(e=c.M(),t=0,r[B]=1===e?v:u,B+=1,b[l]=e,l+=1);for(;d&&c.K();)x=c.M(),1===e?0>x||x>=f?(this.C="bad state value in tree data: "+x,d=!1):(y[v]=x,v+=1):0>x||x>r.length?(this.C="bad node value in tree data: "+x,d=!1):b[x]!==e-1?(this.C="bad node pointer in tree data: "+e,d=!1):(q[u]=r[x],u+=1),t+=1;d&&t!==f&&(this.C="bad number of values on tree data line",
d=!1);c.ww()}d&&(u+v!==m*f?(this.C="bad count of values in tree data",d=!1):e!==n+1?(this.C="bad last node (wrong level)",d=!1):a.Bd>f&&(d=!1,this.C="illegal state in pattern"));d&&(null===a.v&&(a.v=new Allocator),a.lg=n,a.Be=f,a.Ai=m,a.pl=r[r.length-1],a.yk=q.slice(0,u),a.zk=y.slice(0,v),a.jB=this.em(c),a.S=a.jB,a.Bd=a.Be,this.C="",this.Aa=!0,this.lk=!1,a.Pa=!1,this.af(a,a.Be));return d};g.prototype.LD=function(a,c){var d=!1,f=new Script(c,!0);a.D.pw="";a.D.C="";c=f.ir("@RULE",-1);if(-1!==c&&!f.Wr()){a.iB=
f.W();var n=f.ir("@TREE",-1);-1!==n?(d=this.Xj(a,f))?a.I=a.iB:(""===a.D.C&&(a.D.C="not valid"),a.D.C="@TREE "+a.D.C):(n=f.ir("@TABLE",0),-1!==n?(d=this.Vj(a,f))?a.I=a.iB:(""===a.D.C&&(a.D.C="not valid"),a.D.C="@TABLE "+a.D.C):a.D.C="@TABLE and @TREE not found");n=f.current-1;d&&(d=f.ir("@COLORS",0),-1!==d&&(this.bi(a,f),f.current-1>n&&(n=f.current-1)),d=f.ir("@ICONS",0),-1!==d&&(this.Oi(a,f),f.current-1>n&&(n=f.current-1)));""===a.D.C&&(a.D.pw=f.VJ(c,n))}};g.prototype.create=function(a,c,d,f,n,m,
q){a=new h(a,this);this.Aa=this.lk=this.Lg=this.U=this.tv=!1;this.C="";this.index=0;this.Yk=!1;this.My=0;this.ah=!1;this.Sv=this.Rv=0;this.Ek=this.Fk=-1;this.sc=!1;if("!"===c.substr(0,1)||"O"===c.substr(0,1)||"."===c.substr(0,1)||"*"===c.substr(0,1)||"o"===c.substr(0,1))this.qh(a,c,d),this.Aa=!0;null===a.ve&&(this.Aa=!1,"#Life 1.05"===c.substr(0,10)?this.bf(a,c,!0,d):"#Life 1.06"===c.substr(0,10)?(this.ai(a,c,d),this.Aa=!0):"#"===c[0]||"x"===c[0]?(this.cf(a,c,d),null!==a.ve||a.Lg||a.Rn||(this.bf(a,
c,!1,d),this.lk=!1,a.Zg=null,a.qc=!1,a.T=!1,a.Bd=2,a.cs=0)):this.cf(a,c,d));a.Lg&&(this.C="Pattern too big (maximum 16384x16384)",this.Lg=!0,a.Rn=!1,a.width=1,a.height=1,a.ve=Array.ga(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap"));-1!==a.mc?(c=a.I.lastIndexOf(":"),a.ap=a.I.substr(c),a.I=a.I.substr(0,c)):a.ap="";null===a.ve&&""===this.C&&(this.C="Invalid pattern",a=null,this.Aa=!1);a&&a.Rn&&!a.Lg&&(a=null,this.Aa=!1);a&&(""!==a.Ac&&"\n"!==a.Ac[a.Ac.length-1]&&(a.Ac+="\n"),""!==a.pg&&"\n"!==
a.pg[a.pg.length-1]&&(a.pg+="\n"),""!==this.C&&(a.S||a.R)&&null===a.I.match(/[0-9]/)&&(a.S=!1,a.R=!1),""===this.C||this.Lg||this.U||(a.I=a.ds,-1!==a.mc?(c=a.I.lastIndexOf(":"),a.ap=a.I.substr(c),a.I=a.I.substr(0,c)):a.ap="",a.ma=!1,a.N=!1,a.Pa=!1,a.qc=!1,a.T=!1,a.yp=!1,a.S=!1,a.R=!1,a.Vd=-1,a.te=!1,a.Od=!1,a.mH=a.sa,a.sa=!1,p.wE(a)?(f=null===a.Sd?a.Be:a.kg,a.Bd>f?(this.C="Illegal state in pattern",this.U=!0):(a.Bd=f,this.C="",this.Aa=!0,this.lk=!1,a.Pa=!1)):(c=a.pg.indexOf("@RULE"),-1!==c&&(c=a.pg.substr(c),
this.LD(a,c)),-1===a.Be&&null===a.Sd&&this.Ok(a,f,n,m,q))));return a};g.prototype.UJ=function(a){var c=a.indexOf("@RULE");if(-1===c)a="";else{var d=a.indexOf("\x3c!--",c);a=-1===d?0===c?a:a.substr(c):a.substr(c,d-c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};g.prototype.Nk=function(a,c,d){if(4===c.readyState)if(200===c.status){c=a.UJ(c.responseText);var f=performance.now()-this.time;this.time=performance.now();if(""===c)d.D.C="@RULE not found",p.kw(d);else{a.LD(d,c);var n=performance.now()-
this.time;-1!==d.Be||null!==d.Sd?p.add(d,f,n,c.length,a.pw):p.kw(d)}}else p.kw(d)};g.prototype.Zj=function(a){p.kw(a)};g.prototype.Ok=function(a,c,d,f,n){var m=this,q=null,u=a.I,y="/wiki/Rule:"+u;this.time=performance.now();this.tv=!0;n?a.v=n.g.v:a.v=null;p.$H(a,c,d,f,n)||(q=new XMLHttpRequest,""!==DocConfig.bB&&(y=DocConfig.bB+u+DocConfig.mG),registerEvent(q,"load",function(){m.Nk(m,q,a)},!1),registerEvent(q,"error",function(){m.Zj(a)},!1),q.open("GET",y,!0),q.send(null))};window.PatternConstants=
k;window.PatternManager=g;window.Pattern=h;window.RuleTreeCache=p}(),function(){function w(){this.Pl=[]}w.prototype.add=function(g,h,p){this.Pl[this.Pl.length]=g<<16|h<<8|p};window.ColourManager={jk:[],Ds:[],nE:!1,qy:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,
255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,
210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,
221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,
113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,
98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Bu:[],Je:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",
127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],
crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",
143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",
248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",
173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,
255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,
204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",
152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",
250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",
64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},hO:function(){return this.Bu},uD:function(g){for(var h=0,p=!1,k=[];h<this.Ds.length&&!p;)g===this.Ds[h][0]?p=!0:h+=1;p&&(k=this.jk[this.Ds[h][1]].Pl);return k},hc:function(g){this.Ds[this.Ds.length]=g},nf:function(){var g,h=0,p;if(!this.nE){this.nE=!0;for(g=p=0;256>g;g+=1)this.Bu[g]=this.qy[p]<<16|
this.qy[p+1]<<8|this.qy[p+2],p+=3;g=new w;g.add(0,0,0);g.add(0,255,0);g.add(0,0,128);g.add(216,255,216);g.add(255,0,0);g.add(255,255,0);g.add(96,96,96);g.add(255,128,128);this.jk[h]=g;this.hc(["LifeHistory",h]);h+=1;g=new w;g.add(48,48,48);g.add(0,128,255);g.add(255,255,255);g.add(255,128,0);this.jk[h]=g;this.hc(["WireWorld",h]);h+=1;g=new w;g.add(0,0,0);g.add(255,255,255);g.add(144,128,112);g.add(144,90,45);g.add(192,192,192);g.add(255,0,0);g.add(255,128,0);g.add(255,255,0);g.add(0,255,0);g.add(0,
255,208);g.add(0,192,255);g.add(0,0,255);g.add(192,0,255);g.add(255,64,160);g.add(112,128,144);g.add(0,128,0);g.add(0,96,128);g.add(160,0,80);g.add(40,40,40);g.add(220,220,220);g.add(140,60,0);g.add(0,160,0);g.add(160,160,250);this.jk[h]=g;this.hc(["WWE",h]);this.hc(["WWE2",h]);this.hc(["WWEJ",h]);this.hc(["WWEJ2",h]);this.hc(["WWEJ3",h]);h+=1;g=new w;g.add(30,30,30);g.add(0,128,128);g.add(0,255,0);g.add(255,0,0);g.add(255,128,0);g.add(255,255,0);g.add(128,0,128);g.add(128,128,128);g.add(255,255,
255);g.add(128,128,255);this.jk[h]=g;this.hc(["Novoloop",h]);h+=1;g=new w;g.add(0,0,0);g.add(255,128,0);g.add(255,0,0);g.add(0,255,0);g.add(0,0,255);g.add(0,190,0);g.add(0,140,0);g.add(255,255,255);g.add(80,80,80);g.add(95,95,95);g.add(128,128,128);g.add(0,64,0);g.add(255,255,0);g.add(64,0,164);g.add(64,32,64);g.add(80,80,100);g.add(95,95,125);g.add(128,255,128);g.add(64,100,100);this.jk[h]=g;this.hc(["shapeloop",h]);this.hc(["shapeloop-b",h]);this.hc(["shapeloop2",h]);this.hc(["shapeloop-ltd",h]);
this.hc(["2armshapeloop-a",h]);this.hc(["2armshapeloop2-a",h]);this.hc(["shapeloop2a-bounded",h]);this.hc(["foodshapeloop",h]);this.hc(["foodshapeloop2",h]);h+=1;g=new w;g.add(0,0,0);g.add(255,255,255);g.add(255,0,0);g.add(0,128,255);g.add(170,0,0);g.add(85,0,0);this.jk[h]=g;this.hc(["b3s23mmg",h]);h+=1;g=new w;g.add(0,0,0);g.add(255,0,0);g.add(0,255,0);g.add(0,0,255);g.add(255,255,0);g.add(0,255,255);g.add(255,0,255);g.add(92,36,110);g.add(0,99,140);g.add(176,196,222);g.add(115,61,26);this.jk[h]=
g;this.hc(["_235_4_O3",h]);this.hc(["0_245_5_O4",h]);this.hc(["0_245_5_O3",h]);this.hc(["58_27_4_O3",h]);this.hc(["0_24_4H_O3",h]);this.hc(["2_235_4H_O3",h]);this.hc(["24_235_4H_O3",h]);this.hc(["3_25_4_O2",h]);this.hc(["Snake_O5",h]);this.hc(["Mites",h]);this.hc(["Mites2",h]);this.hc(["Mites3",h]);h+=1;g=new w;g.add(48,48,48);g.add(255,128,0);g.add(0,0,255);g.add(32,32,255);g.add(64,64,255);g.add(96,96,255);this.jk[h]=g;this.hc(["Alpha-1",h]);h+=1;g=new w;g.add(48,48,48);g.add(255,0,0);g.add(255,
125,0);g.add(255,150,25);g.add(255,175,50);g.add(255,200,75);g.add(255,225,100);g.add(255,250,125);g.add(251,255,0);g.add(89,89,255);g.add(106,106,255);g.add(122,122,255);g.add(139,139,255);g.add(27,176,27);g.add(36,200,36);g.add(73,255,73);g.add(106,255,106);g.add(235,36,36);g.add(255,56,56);g.add(255,73,73);g.add(255,89,89);g.add(185,56,255);g.add(191,73,255);g.add(197,89,255);g.add(203,106,255);g.add(0,255,128);g.add(255,128,64);g.add(255,255,128);g.add(33,215,215);g.add(27,176,176);g.add(24,156,
156);g.add(21,137,137);this.hc(["JvN29",h]);this.hc(["Hutton32",h]);this.hc(["Nobili32",h]);this.jk[h]=g}}}}(),function(){function w(g,h,p,k){this.j=g;this.m=h;this.A=p;this.B=k}w.prototype.set=function(g){this.j=g.j;this.m=g.m;this.A=g.A;this.B=g.B};window.BoundingBox=w}(),function(){function w(h,p){this.index=p;this.ha=h.Ko[p];this.Ka=h.vn[p];this.G=h.Tu[p];this.s=h.eu[p];this.L=new BoundingBox(0,0,0,0);this.Oa=new BoundingBox(0,0,0,0);this.da=this.mj=this.Wf=this.counter=this.cc=this.Pb=this.qa=
0;this.D=h}function g(h,p){this.v=h;this.Ue=[];this.fi=[];this.Ko=[];this.vn=[];this.Tu=[];this.eu=[];this.G=[];this.U=0;this.index=-1;this.YK=51;this.s=[];this.hD=p}w.prototype.AM=function(h,p,k){var a=p.length,c=p[0].length,d,f,n=0,m,q=k.Us;k=k.Vs;var u,y=0,v=this.G,r=0,B=v[r],b=B.length;Array.Zi(this.ha,p);for(d=0;d<a;d+=1){var l=this.ha[d];for(p=u=0;p<c;p+=1)if(m=l[p])for(f=15;0<=f;--f){if(0!==(m&1<<f)){var e=y;var t=u;var x=B[n];n+=1;h[e][t]=x&255;h[e][t+1]=x>>8&255;h[e+1][t]=x>>16&255;h[e+1][t+
1]=x>>24;e+=2;x=B[n];n+=1;h[e][t]=x&255;h[e][t+1]=x>>8&255;h[e+1][t]=x>>16&255;h[e+1][t+1]=x>>24;e+=2;x=B[n];n+=1;h[e][t]=x&255;h[e][t+1]=x>>8&255;h[e+1][t]=x>>16&255;h[e+1][t+1]=x>>24;e+=2;x=B[n];n+=1;h[e][t]=x&255;h[e][t+1]=x>>8&255;h[e+1][t]=x>>16&255;h[e+1][t+1]=x>>24;e+=2;x=B[n];n+=1;h[e][t]=x&255;h[e][t+1]=x>>8&255;h[e+1][t]=x>>16&255;h[e+1][t+1]=x>>24;e+=2;x=B[n];n+=1;h[e][t]=x&255;h[e][t+1]=x>>8&255;h[e+1][t]=x>>16&255;h[e+1][t+1]=x>>24;e+=2;x=B[n];n+=1;h[e][t]=x&255;h[e][t+1]=x>>8&255;h[e+
1][t]=x>>16&255;h[e+1][t+1]=x>>24;e+=2;x=B[n];n+=1;h[e][t]=x&255;h[e][t+1]=x>>8&255;h[e+1][t]=x>>16&255;h[e+1][t+1]=x>>24;n>=b&&(r+=1,B=v[r],n=0)}u+=q}else u+=q<<4;y+=k}};w.prototype.OM=function(h,p,k){var a=p.length,c=p[0].length,d,f=0,n;var m=0;var q=k.Us,u=k.Vs,y,v=0,r=this.G,B=0,b=r[B],l=b.length,e=r.length;var t=this.D.hD;Array.Zi(p,this.ha);for(d=0;d<a;d+=1){var x=p[d];for(k=0;k<c;k+=1)(n=x[k])&&(m+=t[n])}if(m)for(d=0;d<a;d+=1){x=p[d];for(k=y=0;k<c;k+=1)if(n=x[k])for(m=15;0<=m;--m){if(0!==(n&
1<<m)){var z=v;t=y;b[f]=h[z][t]|h[z][t+1]<<8|h[z+1][t]<<16|h[z+1][t+1]<<24;f+=1;z+=2;b[f]=h[z][t]|h[z][t+1]<<8|h[z+1][t]<<16|h[z+1][t+1]<<24;f+=1;z+=2;b[f]=h[z][t]|h[z][t+1]<<8|h[z+1][t]<<16|h[z+1][t+1]<<24;f+=1;z+=2;b[f]=h[z][t]|h[z][t+1]<<8|h[z+1][t]<<16|h[z+1][t+1]<<24;f+=1;z+=2;b[f]=h[z][t]|h[z][t+1]<<8|h[z+1][t]<<16|h[z+1][t+1]<<24;f+=1;z+=2;b[f]=h[z][t]|h[z][t+1]<<8|h[z+1][t]<<16|h[z+1][t+1]<<24;f+=1;z+=2;b[f]=h[z][t]|h[z][t+1]<<8|h[z+1][t]<<16|h[z+1][t+1]<<24;f+=1;z+=2;b[f]=h[z][t]|h[z][t+
1]<<8|h[z+1][t]<<16|h[z+1][t+1]<<24;f+=1;f>=l&&(B+=1,f=0,B>=e&&(Array.Cq(r,"Snapshot.gridBufferRow"),e+=1));b=r[B]}y+=q}else y+=q<<4;v+=u}};w.prototype.zM=function(h,p,k){var a=p.length,c=p[0].length,d,f,n,m=0,q,u=k.Us<<3,y=k.Vs,v,r=0,B=this.s,b=0,l=B[b],e=l.length;Array.Zi(this.Ka,p);for(d=0;d<a;d+=1){var t=p[d];for(k=v=0;k<c;k+=1)if(q=t[k])for(f=15;0<=f;--f){if(0!==(q&1<<f))for(n=v;n<v+u;n+=4){var x=r;var z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];
m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>
24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;
h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;x+=1;z=l[m];m+=1;h[x][n]=z&255;h[x][n+1]=z>>8&255;h[x][n+2]=z>>16&255;h[x][n+3]=z>>24;m>=e&&(b+=1,l=B[b],m=0)}v+=u}else v+=u<<4;r+=y}};w.prototype.LM=function(h,p,k){var a=p.length,c=p[0].length,d,f=0,n;var m=0;var q=k.Us<<3,u=k.Vs,y,v=0,r=this.s,B=0,b=r[B],l=b.length,e=r.length;var t=this.D.hD;Array.Zi(p,this.Ka);
for(d=0;d<a;d+=1){var x=p[d];for(k=0;k<c;k+=1)(n=x[k])&&(m+=t[n])}if(m)for(d=0;d<a;d+=1){x=p[d];for(k=y=0;k<c;k+=1)if(n=x[k])for(m=15;0<=m;--m){if(0!==(n&1<<m))for(t=y;t<y+q;t+=4){var z=v;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=
1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+
3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;z+=1;b[f]=h[z][t]|h[z][t+1]<<8|h[z][t+2]<<16|h[z][t+3]<<24;f+=1;f>=l&&(B+=1,f=0,B>=e&&(Array.Cq(r,"Snapshot.colourGridBufferRow"),e+=1),b=r[B])}y+=q}else y+=q<<4;v+=u}};g.prototype.bufferSize=function(){for(var h=0,p=0;p<this.fi.length;)h+=this.Ko[p].length*this.Ko[p][0].length*2,h+=this.vn[p].length*this.vn[p][0].length*2,h+=this.Tu[p].length*this.Tu[p][0].length*
4,h+=this.eu[p].length*this.eu[p][0].length*4,this.G[p]&&(h+=this.G[p].length*this.G[p][0].length*4),p+=1;return h};g.prototype.QN=function(){for(var h=0,p=0;p<this.fi.length;)this.fi[p]&&(h+=1),p+=1;return h};g.prototype.reset=function(){var h=0,p;this.Ue=[];for(this.index=-1;h<this.fi.length;){var k=!1;for(p=0;p<this.s.length&&!k;)h===this.s[p].index?k=!0:p+=1;k||(this.fi[h]=!1);h+=1}};g.prototype.jN=function(h){var p=null;if(0<this.Ue.length)for(p=this.Ue[this.index];p&&p.counter>h;)p=null,0<this.index&&
(this.$(this.Ue[this.index].index),this.Ue.pop(),--this.index,0<=this.index&&(p=this.Ue[this.index]));return p};g.prototype.Fs=function(h,p,k,a,c,d,f,n,m,q,u,y,v,r,B,b,l,e){var t=null,x=0,z=this.s.length,A=!1;c=null!==c;if(l){for(;x<z&&!A;)this.s[x].counter===u?A=!0:x+=1;A?t=this.s[x]:alert("reset snapshot at generation "+u+" not found!")}else if(51>this.Ue.length)t=this.ey(r,B,!1,u,c),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.$(this.Ue[0].index);for(x=0;50>x;x+=1)this.Ue[x]=
this.Ue[x+1];this.Ue.pop();this.ey(r,B,!1,u,c)}t=this.Ue[this.index]}t.da=e;t.OM(h,p,b);t.LM(k,a,b);t.L.j=d.j;t.L.A=d.A;t.L.m=d.m;t.L.B=d.B;t.Oa.j=f.j;t.Oa.A=f.A;t.Oa.m=f.m;t.Oa.B=f.B;t.qa=n;t.Pb=m;t.cc=q;t.counter=u;t.Wf=y;t.mj=v};g.prototype.$=function(h){this.fi[h]=!1};g.prototype.ua=function(h,p,k){for(var a=0,c=!1;a<this.U&&!c;)this.fi[a]?a+=1:c=!0;c?(h=a,this.fi[a]=!0):(this.Ko[a]=Array.ga(Uint16,p,h,0,this.v,"Snapshot.tileGrid"+a),this.vn[a]=Array.ga(Uint16,p,h,0,this.v,"Snapshot.colourTileGrid"+
a),this.Tu[a]=Array.ga(Uint32,1,1024,0,this.v,"Snapshot.gridBuffer"+a),this.eu[a]=Array.ga(Uint32,1,8192,0,this.v,"Snapshot.colourGridBuffer"+a),k&&(this.G[a]=Array.ga(Uint32,1,8192,0,this.v,"Snapshot.overlayGridBuffer"+a)),this.fi[a]=!0,this.U+=1,h=a);return h};g.prototype.ey=function(h,p,k,a,c){var d=0,f=this.s.length,n=!1;h=this.ua(h,p,c);if(k){for(;d<f&&!n;)this.s[d].counter===a?n=!0:d+=1;n?k=this.s[d]:(k=new w(this,h,c),this.s[this.s.length]=k)}else k=new w(this,h,c),this.Ue[this.Ue.length]=
k;return k};g.prototype.ja=function(h,p,k,a){var c=h.ha,d=h.Ka,f=h.ha.length,n=f>>1,m=h.ha[0].length>>1,q=0,u=h.index;this.Ko[u]=Array.ga(Uint16,k,p,0,this.v,"Snapshot.tileGrid"+u);this.vn[u]=Array.ga(Uint16,k,p,0,this.v,"Snapshot.colourTileGrid"+u);h.ha=this.Ko[u];h.Ka=this.vn[u];if(0<a){for(;q<f;)h.ha[q+n].set(c[q],m),h.Ka[q+n].set(d[q],m),q+=1;h.L.j+=a;h.L.A+=a;h.L.m+=a;h.L.B+=a;h.Oa.j+=a;h.Oa.A+=a;h.Oa.m+=a;h.Oa.B+=a}};g.prototype.fG=function(h,p,k){for(var a=0,c=this.s.length;a<c;)this.ja(this.s[a],
h,p,k),a+=1;a=0;for(c=this.Ue.length;a<c;)this.ja(this.Ue[a],h,p,k),a+=1;for(a=0;a<this.fi.length;)this.fi[a]||(this.Ko[a]=Array.ga(Uint16,p,h,0,this.v,"Snapshot.tileGrid"+a),this.vn[a]=Array.ga(Uint16,p,h,0,this.v,"Snapshot.colourTileGrid"+a)),a+=1};window.SnapshotManager=g;window.Snapshot=w}(),function(){function w(g,h,p){this.v=g;this.g=h;this.D=p;this.Ng=this.Xh=1;this.xo=2;this.Pb=g.P(Uint8,0,"HROT.births");this.Bw=g.P(Uint8,0,"HROT.survivals");this.St=g.P(Uint8,0,"HROT.altBirths");this.Tt=g.P(Uint8,
0,"HROT.altSurvivals");this.type=p.Pd;this.ao=Array.ga(Uint8,1,1,0,g,"HROT.neighbourhood");this.Ja=g.P(Int16,0,"HROT.neighbourList");this.Pg=Array.ga(Int32,1,1,0,g,"HROT.counts");this.$=g.P(Uint32,0,"HROT.widths");this.du=g.P(Uint8,0,"HROT.colUsed");this.Xe=g.P(Int8,0,"HROT.weightedNeighbourhood");this.nh=null;this.ua=this.G=this.U=this.ja=0;this.sc=!1;this.se="";this.ii=-1;this.R=!1}w.prototype.resize=function(g,h){this.Pg=Array.ga(Int32,h,g,0,this.v,"HROT.counts");this.du=this.v.P(Uint8,g,"HROT.colUsed")};
w.prototype.dN=function(g,h,p,k,a,c,d){var f=2*h+1,n=h*h,m=n+h,q,u,y=p.length>>1,v;this.type=g;this.Ng=h;this.Xh=a&&g!=this.D.Ul&&g!=this.D.Xo?h+h:h;this.$=this.v.P(Uint32,f,"HROT.widths");this.se=p;this.ii=k;this.R=a;if(c)for(this.Xe=this.v.P(Int8,c.length,"HROT.weightedNeighbourhood"),k=0;k<c.length;k+=1)this.Xe[k]=c[k];else this.Xe=null;if(d)for(this.nh=this.v.P(Uint8,d.length,"HROT.weightedStates"),k=0;k<d.length;k+=1)this.nh[k]=d[k];else this.nh=null;switch(g){case this.D.Pd:for(k=0;k<f;k+=1)this.$[k]=
h;break;case this.D.uf:for(k=0;k<h;k+=1)this.$[k]=k,this.$[f-k-1]=k;this.$[k]=h;break;case this.D.Qh:g=2*h;for(k=-1;k>=-h;--k)this.$[k+h]=g,--g;g=2*h;for(k=0;k<=h;k+=1)this.$[k+h]=g,--g;break;case this.D.hk:for(k=-h;k<=h;k+=1){for(g=0;(g+1)*(g+1)+k*k<=m;)g+=1;this.$[k+h]=g}break;case this.D.nk:for(k=-h;k<=h;k+=1){for(g=0;(g+1)*(g+1)+k*k<=n;)g+=1;this.$[k+h]=g}break;case this.D.Ul:this.ao=Array.ga(Uint8,f,f,0,this.v,"HROT.neighbourhood");n=new Uint16Array(f);d=u=a=k=m=c=0;for(v=this.ao[m];m<f;)for(g=
"0123456789abcdef".indexOf(p[c]),c===y&&(v[k]=1,k+=1,a+=1,u+=1),c+=1,q=3;0<=q;--q)0!==(g&1<<q)&&(v[k]=1,a+=1,u+=1),k+=1,k===f&&(n[d]=u,u=0,d+=1,k=0,m+=1,m<f&&(v=this.ao[m]));p=new Uint32Array(a);for(m=a=0;m<f;m+=1)for(v=this.ao[m],k=0;k<f;k+=1)0<v[k]&&(p[a]=m<<16|k,a+=1);for(k=f=0;k<n.length;k+=1)0<n[k]&&(f+=n[k]+2);this.Ja=this.v.P(Int16,f,"HROT.neighbourList");for(k=a=c=0;k<n.length;k+=1)if(0<n[k]){d=p[c];this.Ja[a]=h-(d>>16);this.Ja[a+1]=n[k];a+=2;for(m=0;m<n[k];m+=1)this.Ja[a+m]=h-(p[c]&65535),
c+=1;a+=n[k]}}};w.prototype.s=function(g,h){return 0>g||0>g+h||h-g>=this.U?0:0>h&&g+h<this.G?this.Pg[g+h][0]:h>=this.U&&h-g>=this.U-this.G?this.Pg[g+this.U-1-h][this.U-1]:g<this.G?this.Pg[g][h]:g-this.G+1+h<=this.ua?this.Pg[this.G-1][g-this.G+1+h]:h-(g-this.G+1)>=this.ua?this.Pg[this.G-1][h-(g-this.G+1)]:this.Pg[this.G-1][this.ua+(g+h+this.G+this.ua+1)%2]};w.prototype.ob=function(g,h,p,k){var a=this.g.ba,c=null,d=this.Xh,f=this.Ng,n;for(n=0;n<f;n+=1){c=a[h+n];var m=a[k+n+1];m.set(c.slice(g,p+1),g)}for(n=
0;n<f;n+=1)c=a[k-n],m=a[h-n-1],m.set(c.slice(g,p+1),g);if(copyWithin)for(n=h;n<=k;n+=1)c=a[n],c.copyWithin(p+1,g,g+d+1),c.copyWithin(g-d-1,p-d,p+1);else for(n=h;n<=k;n+=1)for(m=0;m<d;m+=1)c[p+m+1]=c[g+m],c[g-m-1]=c[p-m];for(n=0;n<f;n+=1)c=a[h+n],m=a[k+n+1],m.set(c.slice(g,g+d+1),p+1),m.set(c.slice(p-d,p+1),g-d-1);for(n=0;n<f;n+=1)c=a[k-n],m=a[h-n-1],m.set(c.slice(g,g+d+1),p+1),m.set(c.slice(p-d,p+1),g-d-1)};w.prototype.Wa=function(g,h,p,k){var a=this.g.ba,c=this.Xh,d=this.Ng,f;for(f=0;f<d;f+=1)a[k+
f+1].fill(0,g,p+1);for(f=0;f<d;f+=1)a[h-f-1].fill(0,g,p+1);for(f=h;f<=k;f+=1){var n=a[f];n.fill(0,p+1,p+c+2);n.fill(0,g-c-1,g)}for(f=0;f<d;f+=1)n=a[k+f+1],n.fill(0,p+1,p+c+2),n.fill(0,g-c-1,g);for(f=0;f<d;f+=1)n=a[h-f-1],n.fill(0,p+1,p+c+2),n.fill(0,g-c-1,g)};w.prototype.bb=function(g,h,p,k,a){var c,d,f=this.g.ba,n=this.g.Ca,m=this.g.width,q=0,u=this.g.height,y=0,v=m,r=q,B=u,b=y,l=this.g.L,e=this.g.Oa,t=this.Xh,x=this.Ng,z=a?this.St:this.Pb,A=a?this.Tt:this.Bw,C=this.Pg;var G=this.xo-1;var D=LifeConstants.Hb,
I=LifeConstants.Tk,F=this.g.bp;var E=this.g.i+this.g.O-1;var H=this.g.O,N=0<this.g.O?1:0;var K=c=a=0;if(1===G)for(G=h-x;G<=k+x;G+=1){var P=f[G];var J=C[G];var T=n[G>>4];var Y=d=!1;for(h=g-t;h<=p+t;h+=1){var U=P[h];var M=J[h];E=0;U<D?0<=M&&1===z[M]&&(c+=1,E=128):0<=M&&1===A[M]?E=128:K+=1;U=F[U+E];P[h]=U;U>I&&(d=!0,T[h>>8]|=1<<(~(h>>4)&15),h<m&&(m=h),h>q&&(q=h),U>=D&&(a+=1,h<v&&(v=h),h>r&&(r=h),Y=!0))}d&&(G<u&&(u=G),G>y&&(y=G));Y&&(G<B&&(B=G),G>b&&(b=G))}else for(G=h-x;G<=k+x;G+=1){P=f[G];J=C[G];T=
n[G>>4];Y=d=!1;for(h=g-t;h<=p+t;h+=1){U=P[h];M=J[h];if(U<=H)0<=M&&1===z[M]?(U=E,c+=1):U>N&&--U;else if(U===E){if(0>M||0===A[M])--U,K+=1}else U>N&&--U;P[h]=U;0<U&&(d=!0,T[h>>8]|=1<<(~(h>>4)&15),h<m&&(m=h),h>q&&(q=h),U===E&&(a+=1,h<v&&(v=h),h>r&&(r=h),Y=!0))}d&&(G<u&&(u=G),G>y&&(y=G));Y&&(G<B&&(B=G),G>b&&(b=G))}this.g.qa=a;this.g.Pb=c;this.g.cc=K;0<a?(l.j=m,l.A=q,l.m=u,l.B=y,e.j=v,e.A=r,e.m=B,e.B=b):this.g.da=0};w.prototype.Yb=function(g,h,p,k,a){var c,d=this.g.i+this.g.O,f=this.g.O,n=this.Xe,m=this.g.ba,
q=this.Pg,u=this.nh,y=u[0],v=n[0],r=n[1],B=n[2],b=n[3],l=n[4],e=n[5],t=n[6],x=n[7];n=n[8];for(g-=a;g<=h+a;g+=1){var z=q[g];var A=p-a;var C=A-1;for(c=A+1;A<=k+a;){var G=0;var D=m[g-1];var I=D[C];I>f?G+=v*u[d-I]:0<y&&(G+=v*y);I=D[A];I>f?G+=r*u[d-I]:0<y&&(G+=r*y);I=D[c];I>f?G+=B*u[d-I]:0<y&&(G+=B*y);D=m[g];I=D[C];I>f?G+=b*u[d-I]:0<y&&(G+=b*y);I=D[A];I>f?G+=l*u[d-I]:0<y&&(G+=l*y);I=D[c];I>f?G+=e*u[d-I]:0<y&&(G+=e*y);D=m[g+1];I=D[C];I>f?G+=t*u[d-I]:0<y&&(G+=t*y);I=D[A];I>f?G+=x*u[d-I]:0<y&&(G+=x*y);I=
D[c];I>f?G+=n*u[d-I]:0<y&&(G+=n*y);z[A]=G;A+=1;C+=1;c+=1}}};w.prototype.Vb=function(g,h,p,k,a){var c,d=LifeConstants.Hb,f=this.Xe,n=this.g.ba,m=this.Pg,q=f[0],u=f[1],y=f[2],v=f[3],r=f[4],B=f[5],b=f[6],l=f[7];f=f[8];for(g-=a;g<=h+a;g+=1){var e=m[g];var t=p-a;var x=t-1;for(c=t+1;t<=k+a;){var z=0;var A=n[g-1];A[x]>=d&&(z+=q);A[t]>=d&&(z+=u);A[c]>=d&&(z+=y);A=n[g];A[x]>=d&&(z+=v);A[t]>=d&&(z+=r);A[c]>=d&&(z+=B);A=n[g+1];A[x]>=d&&(z+=b);A[t]>=d&&(z+=l);A[c]>=d&&(z+=f);e[t]=z;t+=1;x+=1;c+=1}}};w.prototype.Bb=
function(g){var h,p=this.g.L.j,k=this.g.L.A,a=this.g.L.m,c=this.g.L.B,d=this.Xh,f=this.Ng;var n=g?this.St:this.Pb;var m=g?this.Tt:this.Bw;var q=d+d,u=f+f;var y=d+1;var v=f+1;var r=this.Pg,B=this.type,b=this.xo-1,l=this.g.width,e=0,t=this.g.height,x=0,z=l,A=e,C=t,G=x,D=this.g.ba,I=this.g.Ca,F=this.$;var E=this.g.Ba;var H=this.g.xa;var N=0,K=0,P=0,J=0,T=0,Y=0,U=0,M=LifeConstants.Hb,fa=LifeConstants.Tk,X=this.g.bp,ia=this.du;var na=this.Ja;-1!==this.g.ya&&(N=Math.round((this.g.width-E)/2),P=Math.round((this.g.height-
H)/2),K=N+E-1,J=P+H-1,1===n[0]&&(p=N+d,k=K-d,c=J-f,a=P+f),1===this.g.ya&&(p-N<d&&(k=K),K-k<d&&(p=N),J-c<f&&(a=P),a-P<f&&(c=J),this.ob(N,P,K,J)),0===this.g.ya&&1===b&&this.g.Ay(D,0),p-N<d&&(p=N+d),K-k<d&&(k=K-d),J-c<f&&(c=J-f),a-P<f&&(a=P+f),B===this.D.Pd?(p-=q,a-=u,k+=q,c+=u):B===this.D.uf&&6<d&&(p-=d,a-=f,k+=d,c+=f));if(B===this.D.Pd){p-=q;a-=u;k+=q;c+=u;for(H=a;H<a+u;H+=1)r[H].fill(0,p,k+1);for(H=a+u;H<=c;H+=1)r[H].fill(0,p,p+q+1);var ba=r[a+u-1];for(H=a+u;H<=c;H+=1){var W=r[H];b=D[H];E=0;for(h=
p+q;h+8<=k;)b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1,b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1;for(;h<=k;)b[h]>=M&&(E+=1),W[h]=ba[h]+E,h+=1;ba=W}p+=d;a+=f;k-=d;c-=f;-1!==this.g.ya&&(p+=q,a+=u,k-=q,c-=u);F=D[a][p];E=r[a+f][p+d];var ca=0;F<M?1===n[E]&&(Y+=1,ca=128):0===m[E]?U+=1:ca=128;F=X[F+ca];D[a][p]=F;F>fa&&(ia[p]|=
1,x=t=a,I[a>>4][p>>8]|=1<<(~(p>>4)&15),F>=M&&(T+=1,ia[p]|=2,G=C=a));u=q=!1;W=r[a+f];ba=r[a+f];b=D[a];na=I[a>>4];for(h=p+1;h<=k;h+=1)F=b[h],E=W[h+d]-ba[h-y],ca=0,F<M?1===n[E]&&(Y+=1,ca=128):0===m[E]?U+=1:ca=128,F=X[F+ca],b[h]=F,F>fa&&(ia[h]|=1,q=!0,na[h>>8]|=1<<(~(h>>4)&15),F>=M&&(T+=1,ia[h]|=2,u=!0));q&&(x=t=a);u&&(G=C=a);h=b=!1;W=p+d;for(H=a+1;H<=c;H+=1)F=D[H][p],E=r[H+f][W]-r[H-v][W],ca=0,F<M?1===n[E]&&(Y+=1,ca=128):0===m[E]?U+=1:ca=128,F=X[F+ca],D[H][p]=F,F>fa&&(H<t&&(t=H),H>x&&(x=H),b=!0,I[H>>
4][p>>8]|=1<<(~(p>>4)&15),F>=M&&(T+=1,H<C&&(C=H),H>G&&(G=H),h=!0));b&&(ia[p]|=1);h&&(ia[p]|=2);for(H=a+1;H<=c;H+=1){b=D[H];na=I[H>>4];ba=r[H+f];var da=r[H-v];W=p+1+d;var ma=p+1-y;u=q=!1;for(h=p+1;h<=k;h+=1)F=b[h],E=ba[W]+da[ma]-ba[ma]-da[W],ca=0,F<M?1===n[E]&&(ca=128,Y+=1):0===m[E]?U+=1:ca=128,F=X[F+ca],b[h]=F,F>fa&&(q=!0,na[h>>8]|=1<<(~(h>>4)&15),ia[h]|=1,F>=M&&(T+=1,u=!0,ia[h]|=2)),W+=1,ma+=1;q&&(H<t&&(t=H),H>x&&(x=H));u&&(H<C&&(C=H),H>G&&(G=H))}for(h=p;h<=k;h+=1)ia[h]&&(h<l&&(l=h),h>e&&(e=h),0!==
(ia[h]&2)&&(h<z&&(z=h),h>A&&(A=h)),ia[h]=0);this.g.qa=T;this.g.Pb=Y;this.g.cc=U;0<T?(this.g.L.j=l,this.g.L.A=e,this.g.L.m=t,this.g.L.B=x,this.g.Oa.j=z,this.g.Oa.A=A,this.g.Oa.m=C,this.g.Oa.B=G):this.g.da=0}else if(B===this.D.uf&&6<d){p-=d;k+=d;a-=f;c+=f;-1===this.g.ya&&(p-=d,k+=d,a-=f,c+=f);this.ja=c-a+1;this.U=k-p+1;this.G=this.ja+(this.U-1)/2|0;this.ua=this.U/2|0;for(y=0;y<this.G;y+=1)for(W=r[y],b=D[y+a],H=y-1,E=H-1,v=0;v<=this.U;v+=1)W[v]=this.s(H,v-1)+this.s(H,v+1)-this.s(E,v),y<this.ja&&b[v+
p]>=M&&(W[v]+=1);for(y=f;y<=this.ja-f;y+=1){H=y-1;ba=y+f;r=ba-1;h=y-f-1;W=h-1;ia=y+a;b=D[ia];na=I[ia>>4];u=q=!1;for(v=d;v<=this.U-d;v+=1)E=v+d,F=v-d,E=this.s(ba,v)-this.s(H,E+1)-this.s(H,F-1)+this.s(W,v)+this.s(r,v)-this.s(H,E)-this.s(H,F)+this.s(h,v),da=v+p,F=b[da],ca=0,F<M?1===n[E]&&(ca=128,Y+=1):0===m[E]?U+=1:ca=128,F=X[F+ca],b[da]=F,F>fa&&(da<l&&(l=da),da>e&&(e=da),q=!0,na[da>>8]|=1<<(~(da>>4)&15),F>=M&&(T+=1,u=!0,da<z&&(z=da),da>A&&(A=da)));q&&(ia<t&&(t=ia),ia>x&&(x=ia));u&&(ia<C&&(C=ia),ia>
G&&(G=ia))}this.g.qa=T;this.g.Pb=Y;this.g.cc=U;0<T?(this.g.L.j=l,this.g.L.A=e,this.g.L.m=t,this.g.L.B=x,this.g.Oa.j=z,this.g.Oa.A=A,this.g.Oa.m=C,this.g.Oa.B=G):this.g.da=0}else switch(B){case this.D.uh:for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){E=0;for(v=-f;0>v;v+=1)b=D[H+v],b[h]>=M&&(E+=1),b[h+v]>=M&&(E+=1);b=D[H];for(y=-d;y<=d;y+=1)b[h+y]>=M&&(E+=1);for(v=1;v<=d;v+=1)b=D[H+v],b[h]>=M&&(E+=1),b[h+v]>=M&&(E+=1);W[h]=E;h+=1}break;case this.D.Rh:for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){E=
0;for(v=-f;0>v;v+=1)b=D[H+v],b[h]>=M&&(E+=1);b=D[H];for(y=-d;0>=y;y+=1)b[h+y]>=M&&(E+=1);for(v=1;v<=d;v+=1)D[H+v][h+v]>=M&&(E+=1);W[h]=E;h+=1}break;case this.D.Xo:if(null===this.nh)if(1!==d||1!==f||this.R)for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){this.R&&0!==(h+H&1)?(m=-(d+d+1),n=this.Xe.length+m,m+=m):m=n=0;E=0;for(v=-f;v<=f;v+=1){b=D[H+v];for(y=-d;y<=d;y+=1)b[h+y]>=M&&(E+=this.Xe[n]),n+=1;n+=m}W[h]=E;h+=1}else this.Vb(a,c,p,k,d);else for(e=this.nh[0],l=this.nh[1],H=a-f;H<=c+f;H+=1)for(W=r[H],
h=p-d;h<=k+d;){this.R&&0!==(h+H&1)?(m=-(d+d+1),n=this.Xe.length+m,m+=m):m=n=0;E=0;for(v=-f;v<=f;v+=1){b=D[H+v];for(y=-d;y<=d;y+=1)E=b[h+y]>=M?E+this.Xe[n]*l:E+this.Xe[n]*e,n+=1;n+=m}W[h]=E;h+=1}break;case this.D.Ul:for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){for(v=E=0;v<na.length;){y=na[v];this.R&&0===(h+H&1)&&(y=-y);v+=1;b=D[H+y];n=na[v];for(m=v+=1;m<v+n;m+=1)b[h+na[m]]>=M&&(E+=1);v+=n}W[h]=E;h+=1}break;case this.D.kj:for(H=a-f;H<=c+f;H+=1){W=r[H];h=p-d;m=n=E=0;for(v=-f;v<=f;v+=1)if(b=D[H+v],
1===v)for(y=-d;y<=d;y+=1)b[h+y]>=M&&(n+=1);else if(-1===v)for(y=-d;y<=d;y+=1)b[h+y]>=M&&(m+=1);else b[h-1]>=M&&(E+=1),b[h+1]>=M&&(E+=1);D[H][h]>=M&&(E+=1);W[h]=E+n+m;for(h+=1;h<=k+d;){E=0;for(v=-f;v<=f;v+=1)b=D[H+v],1===v?(b[h-d-1]>=M&&--n,b[h+d]>=M&&(n+=1)):-1===v?(b[h-d-1]>=M&&--m,b[h+d]>=M&&(m+=1)):(b[h-1]>=M&&(E+=1),b[h+1]>=M&&(E+=1));D[H][h]>=M&&(E+=1);W[h]=E+n+m;h+=1}}break;case this.D.Xi:for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){E=0;n=1;for(v=-f;v<=f;v+=1){b=D[H+v];for(y=-d+n;y<=d-n;y+=
2)b[h+y]>=M&&(E+=1);n=1-n}D[H][h]>=M&&(E+=1);W[h]=E;h+=1}break;case this.D.ri:for(H=a-f;H<=c+f;H+=1){W=r[H];h=p-d;E=0;for(v=-f;0>v;v+=1)for(b=D[H+v],y=-d;y<=d+v;y+=1)b[h+y]>=M&&(E+=1);for(v=0;v<=f;v+=1)for(b=D[H+v],y=-d+v;y<=d;y+=1)b[h+y]>=M&&(E+=1);W[h]=E;for(h+=1;h<=k+d;){for(v=-f;0>v;v+=1)b=D[H+v],b[h-d-1]>=M&&--E,b[h+d+v]>=M&&(E+=1);for(v=0;v<=f;v+=1)b=D[H+v],b[h-d+v-1]>=M&&--E,b[h+d]>=M&&(E+=1);W[h]=E;h+=1}}break;case this.D.Dj:for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){E=0;for(v=1;v<=f;v+=
1)b=D[H+v],b[h-v]>=M&&(E+=1),b[h+v]>=M&&(E+=1),b=D[H-v],b[h-v]>=M&&(E+=1),b[h+v]>=M&&(E+=1);b=D[H];b[h]>=M&&(E+=1);W[h]=E;h+=1}break;case this.D.Ij:for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){E=0;for(v=1;v<=f;v+=1)b=D[H+v],b[h-v]>=M&&(E+=1),b[h+v]>=M&&(E+=1),b[h]>=M&&(E+=1),b=D[H-v],b[h-v]>=M&&(E+=1),b[h+v]>=M&&(E+=1),b[h]>=M&&(E+=1);b=D[H];for(y=-d;y<=d;y+=1)b[h+y]>=M&&(E+=1);W[h]=E;h+=1}break;case this.D.$i:for(H=a-f;H<=c+f;H+=1){W=r[H];h=p-d;n=E=0;for(v=1;v<=f;v+=1)b=D[H+v],b[h]>=M&&(E+=1),
b=D[H-v],b[h]>=M&&(E+=1);b=D[H];for(y=-d;y<=d;y+=1)b[h+y]>=M&&(n+=1);W[h]=E+n;for(h+=1;h<=k+d;){E=0;for(v=1;v<=f;v+=1)D[H+v][h]>=M&&(E+=1),D[H-v][h]>=M&&(E+=1);b=D[H];b[h-d-1]>=M&&--n;b[h+d]>=M&&(n+=1);W[h]=E+n;h+=1}}break;case this.D.Qh:for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){E=0;for(v=-f;v<=f;v+=1)for(n=0===(h+H&1)?F[v+f]:F[f-v],b=D[H+v],y=-n;y<=n;y+=1)b[h+y]>=M&&(E+=1);W[h]=E;h+=1}break;case this.D.li:for(H=a-f;H<=c+f;H+=1)for(W=r[H],h=p-d;h<=k+d;){E=0;for(v=-f;0>v;v+=1){n=m=v+f+1;b=D[H+
v];for(y=-d;0>=y;y+=1)b[h+y]>=M&&(E+=n),n+=m;n-=m+m;for(y=1;y<=d;y+=1)b[h+y]>=M&&(E+=n),n-=m;n=m=v+f+1;b=D[H-v];for(y=-d;0>=y;y+=1)b[h+y]>=M&&(E+=n),n+=m;n-=m+m;for(y=1;y<=d;y+=1)b[h+y]>=M&&(E+=n),n-=m}n=m=d+1;b=D[H];for(y=-d;0>=y;y+=1)b[h+y]>=M&&(E+=n),n+=m;n-=m+m;for(y=1;y<=d;y+=1)b[h+y]>=M&&(E+=n),n-=m;W[h]=E;h+=1}break;default:for(H=a-f;H<=c+f;H+=1){W=r[H];h=p-d;E=0;for(v=-f;v<=f;v+=1)for(n=F[v+f],b=D[H+v],y=-n;y<=n;y+=1)b[h+y]>=M&&(E+=1);W[h]=E;for(h+=1;h<=k+d;){for(v=-f;v<=f;v+=1)n=F[v+f],b=
D[H+v],b[h-n-1]>=M&&--E,b[h+n]>=M&&(E+=1);W[h]=E;h+=1}}}-1!==this.g.ya&&(p<N+d&&(p=N+d),k>K-d&&(k=K-d),a<P+f&&(a=P+f),c>J-f&&(c=J-f));B===this.D.Pd||B===this.D.uf&&6<d||this.bb(p,a,k,c,g);1===this.g.ya&&this.Wa(N,P,K,J)};w.prototype.Gb=function(g){var h,p,k=this.g.L.j,a=this.g.L.A,c=this.g.L.m,d=this.g.L.B,f=this.Xh,n=this.Ng;var m=g?this.St:this.Pb;var q=g?this.Tt:this.Bw;var u=f+f,y=n+n;var v=f+1;var r=n+1;var B=this.Pg,b=this.type,l=this.g.width,e=0,t=this.g.height,x=0,z=l,A=e,C=t,G=x,D=this.g.ba,
I=this.g.Ca;var F=this.$;var E=this.g.Ba;var H=this.g.xa;var N=0,K=0,P=0,J=0,T=0,Y=0,U=0;var M=this.Ja;var fa=this.g.i+this.g.O-1;var X=this.g.O;var ia=0<this.g.O?1:0;-1!==this.g.ya&&(N=Math.round((this.g.width-E)/2),P=Math.round((this.g.height-H)/2),K=N+E-1,J=P+H-1,1===m[0]&&(k=N+f,a=K-f,d=J-n,c=P+n),1===this.g.ya&&(k-N<f&&(a=K),K-a<f&&(k=N),J-d<n&&(c=P),c-P<n&&(d=J),this.ob(N,P,K,J)),k-N<f&&(k=N+f),K-a<f&&(a=K-f),J-d<n&&(d=J-n),c-P<n&&(c=P+n),b===this.D.Pd?(k-=u,c-=y,a+=u,d+=y):b===this.D.uf&&6<
f&&(k-=f,c-=n,a+=f,d+=n));if(b===this.D.Pd){k-=u;c-=y;a+=u;d+=y;for(p=c;p<c+y;p+=1)B[p].fill(0,k,a+1);for(p=c+y;p<=d;p+=1)B[p].fill(0,k,k+u);for(p=c+y;p<=d;p+=1){var na=B[p-1];var ba=B[p];E=D[p];H=0;for(h=k+u;h<=a;h+=1)E[h]===fa&&(H+=1),ba[h]=na[h]+H}k+=f;c+=n;a-=f;d-=n;-1!==this.g.ya&&(k+=u,c+=y,a-=u,d-=y);M=D[c][k];H=B[c+n][k+f];M<=X?1===m[H]?(M=fa,Y+=1):M>ia&&--M:M===fa?0===q[H]&&(--M,U+=1):M>ia&&--M;D[c][k]=M;0<M&&(e=l=k,x=t=c,I[c>>4][k>>8]|=1<<(~(k>>4)&15),M===fa&&(T+=1,A=z=k,G=C=c));y=u=!1;
ba=B[c+n];na=B[c+n];E=D[c];F=I[c>>4];for(h=k+1;h<=a;h+=1)M=E[h],H=ba[h+f]-na[h-v],M<=X?1===m[H]?(M=fa,Y+=1):M>ia&&--M:M===fa?0===q[H]&&(--M,U+=1):M>ia&&--M,E[h]=M,0<M&&(h<l&&(l=h),h>e&&(e=h),u=!0,F[h>>8]|=1<<(~(h>>4)&15),M===fa&&(T+=1,h<z&&(z=h),h>A&&(A=h),y=!0));u&&(x=t=c);y&&(G=C=c);h=E=!1;ba=k+f;for(p=c+1;p<=d;p+=1)M=D[p][k],H=B[p+n][ba]-B[p-r][ba],M<=X?1===m[H]?(M=fa,Y+=1):M>ia&&--M:M===fa?0===q[H]&&(--M,U+=1):M>ia&&--M,D[p][k]=M,0<M&&(p<t&&(t=p),p>x&&(x=p),E=!0,I[p>>4][k>>8]|=1<<(~(k>>4)&15),
M===fa&&(T+=1,p<C&&(C=p),p>G&&(G=p),h=!0));E&&(k<l&&(l=k),k>e&&(e=k));h&&(k<z&&(z=k),k>A&&(A=k));for(p=c+1;p<=d;p+=1){E=D[p];F=I[p>>4];na=B[p+n];var W=B[p-r];y=u=!1;ba=k+1+f;var ca=k+1-v;for(h=k+1;h<=a;h+=1)M=E[h],H=na[ba]+W[ca]-na[ca]-W[ba],M<=X?1===m[H]?(M=fa,Y+=1):M>ia&&--M:M===fa?0===q[H]&&(--M,U+=1):M>ia&&--M,E[h]=M,0<M&&(F[h>>8]|=1<<(~(h>>4)&15),h<l&&(l=h),h>e&&(e=h),u=!0,M===fa&&(T+=1,y=!0,h<z&&(z=h),h>A&&(A=h))),ba+=1,ca+=1;u&&(p<t&&(t=p),p>x&&(x=p));y&&(p<C&&(C=p),p>G&&(G=p))}this.g.qa=T;
this.g.Pb=Y;this.g.cc=U;0<T?(this.g.L.j=l,this.g.L.A=e,this.g.L.m=t,this.g.L.B=x,this.g.Oa.j=z,this.g.Oa.A=A,this.g.Oa.m=C,this.g.Oa.B=G):this.g.da=0}else if(b===this.D.uf&&6<f){k-=f;a+=f;c-=n;d+=n;-1===this.g.ya&&(k-=f,a+=f,c-=n,d+=n);this.ja=d-c+1;this.U=a-k+1;this.G=this.ja+(this.U-1)/2|0;this.ua=this.U/2|0;for(v=0;v<this.G;v+=1)for(ba=B[v],E=D[v+c],p=v-1,H=p-1,r=0;r<=this.U;r+=1)ba[r]=this.s(p,r-1)+this.s(p,r+1)-this.s(H,r),v<this.ja&&E[r+k]===fa&&(ba[r]+=1);for(v=n;v<=this.ja-n;v+=1){p=v-1;W=
v+n;B=W-1;h=v-n-1;ba=h-1;na=v+c;E=D[na];F=I[na>>4];y=u=!1;for(r=f;r<=this.U-f;r+=1)H=r+f,M=r-f,H=this.s(W,r)-this.s(p,H+1)-this.s(p,M-1)+this.s(ba,r)+this.s(B,r)-this.s(p,H)-this.s(p,M)+this.s(h,r),ca=r+k,M=E[ca],M<=X?1===m[H]?(M=fa,Y+=1):M>ia&&--M:M===fa?0===q[H]&&(--M,U+=1):M>ia&&--M,E[ca]=M,0<M&&(F[ca>>8]|=1<<(~(ca>>4)&15),ca<l&&(l=ca),ca>e&&(e=ca),u=!0,M===fa&&(T+=1,y=!0,ca<z&&(z=ca),ca>A&&(A=ca)));u&&(na<t&&(t=na),na>x&&(x=na));y&&(na<C&&(C=na),na>G&&(G=na))}this.g.qa=T;this.g.Pb=Y;this.g.cc=
U;0<T?(this.g.L.j=l,this.g.L.A=e,this.g.L.m=t,this.g.L.B=x,this.g.Oa.j=z,this.g.Oa.A=A,this.g.Oa.m=C,this.g.Oa.B=G):this.g.da=0}else switch(b){case this.D.uh:for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){H=0;for(r=-n;0>r;r+=1)E=D[p+r],E[h]===fa&&(H+=1),E[h+r]===fa&&(H+=1);E=D[p];for(v=-f;v<=f;v+=1)E[h+v]===fa&&(H+=1);for(r=1;r<=n;r+=1)E=D[p+r],E[h]===fa&&(H+=1),E[h+r]===fa&&(H+=1);ba[h]=H;h+=1}break;case this.D.Rh:for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){H=0;for(r=-n;0>r;r+=1)E=D[p+r],
E[h]===fa&&(H+=1);E=D[p];for(v=-f;0>=v;v+=1)E[h+v]===fa&&(H+=1);for(r=1;r<=n;r+=1)D[p+r][h+r]===fa&&(H+=1);ba[h]=H;h+=1}break;case this.D.Xo:if(null===this.nh)for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){this.R&&0!==(h+p&1)?(q=-(f+f+1),m=this.Xe.length+q,q+=q):q=m=0;H=0;for(r=-n;r<=n;r+=1){E=D[p+r];for(v=-f;v<=f;v+=1)E[h+v]===fa&&(H+=this.Xe[m]),m+=1;m+=q}ba[h]=H;h+=1}else if(1!==f||1!==n||this.R)for(l=this.nh[0],p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){this.R&&0!==(h+p&1)?(q=-(f+f+1),m=this.Xe.length+
q,q+=q):q=m=0;H=0;for(r=-n;r<=n;r+=1){E=D[p+r];for(v=-f;v<=f;v+=1)M=E[h+v],M>X?H+=this.Xe[m]*this.nh[fa+1-M]:0<l&&(H+=l*this.Xe[m]),m+=1;m+=q}ba[h]=H;h+=1}else this.Yb(c,d,k,a,f);break;case this.D.Ul:for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){for(r=H=0;r<M.length;){v=M[r];this.R&&0===(h+p&1)&&(v=-v);r+=1;E=D[p+v];m=M[r];for(q=r+=1;q<r+m;q+=1)E[h+M[q]]===fa&&(H+=1);r+=m}ba[h]=H;h+=1}break;case this.D.kj:for(p=c-n;p<=d+n;p+=1){ba=B[p];h=k-f;X=H=0;for(r=-n;r<=n;r+=1)if(E=D[p+r],1===r||-1===r)for(v=
-f;v<=f;v+=1)E[h+v]===fa&&(X+=1);else E[h-1]===fa&&(H+=1),E[h+1]===fa&&(H+=1);D[p][h]===fa&&(H+=1);ba[h]=H+X;for(h+=1;h<=a+f;){H=0;for(r=-n;r<=n;r+=1)E=D[p+r],1===r||-1===r?(E[h-f-1]===fa&&--X,E[h+f]===fa&&(X+=1)):(E[h-1]===fa&&(H+=1),E[h+1]===fa&&(H+=1));D[p][h]===fa&&(H+=1);ba[h]=H+X;h+=1}}break;case this.D.Xi:for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){H=0;X=1;for(r=-n;r<=n;r+=1){E=D[p+r];for(v=-f+X;v<=f-X;v+=2)E[h+v]===fa&&(H+=1);X=1-X}D[p][h]===fa&&(H+=1);ba[h]=H;h+=1}break;case this.D.ri:for(p=
c-n;p<=d+n;p+=1){ba=B[p];h=k-f;H=0;for(r=-n;0>r;r+=1)for(E=D[p+r],v=-f;v<=f+r;v+=1)E[h+v]===fa&&(H+=1);for(r=0;r<=n;r+=1)for(E=D[p+r],v=-f+r;v<=f;v+=1)E[h+v]===fa&&(H+=1);ba[h]=H;for(h+=1;h<=a+f;){for(r=-n;0>r;r+=1)E=D[p+r],E[h-f-1]===fa&&--H,E[h+f+r]===fa&&(H+=1);for(r=0;r<=n;r+=1)E=D[p+r],E[h-f+r-1]===fa&&--H,E[h+f]===fa&&(H+=1);ba[h]=H;h+=1}}break;case this.D.Dj:for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){H=0;for(r=1;r<=n;r+=1)E=D[p+r],E[h-r]===fa&&(H+=1),E[h+r]===fa&&(H+=1),E=D[p-r],E[h-
r]===fa&&(H+=1),E[h+r]===fa&&(H+=1);E=D[p];E[h]===fa&&(H+=1);ba[h]=H;h+=1}break;case this.D.Ij:for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){H=0;for(r=1;r<=n;r+=1)E=D[p+r],E[h-r]===fa&&(H+=1),E[h+r]===fa&&(H+=1),E[h]===fa&&(H+=1),E=D[p-r],E[h-r]===fa&&(H+=1),E[h+r]===fa&&(H+=1),E[h]===fa&&(H+=1);E=D[p];for(v=-f;v<=f;v+=1)E[h+v]===fa&&(H+=1);ba[h]=H;h+=1}break;case this.D.$i:for(p=c-n;p<=d+n;p+=1){ba=B[p];h=k-f;X=H=0;for(r=1;r<=n;r+=1)E=D[p+r],E[h]===fa&&(H+=1),E=D[p-r],E[h]===fa&&(H+=1);E=D[p];
for(v=-f;v<=f;v+=1)E[h+v]===fa&&(X+=1);ba[h]=H+X;for(h+=1;h<=a+f;){H=0;for(r=1;r<=n;r+=1)D[p+r][h]===fa&&(H+=1),D[p-r][h]===fa&&(H+=1);E=D[p];E[h-f-1]===fa&&--X;E[h+f]===fa&&(X+=1);ba[h]=H+X;h+=1}}break;case this.D.Qh:for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){H=0;for(r=-n;r<=n;r+=1)for(X=0===(h+p&1)?F[r+n]:F[n-r],E=D[p+r],v=-X;v<=X;v+=1)E[h+v]===fa&&(H+=1);ba[h]=H;h+=1}break;case this.D.li:for(p=c-n;p<=d+n;p+=1)for(ba=B[p],h=k-f;h<=a+f;){H=0;for(r=-n;0>r;r+=1){X=m=r+n+1;E=D[p+r];for(v=-f;0>=
v;v+=1)E[h+v]===fa&&(H+=X),X+=m;X-=m+m;for(v=1;v<=f;v+=1)E[h+v]===fa&&(H+=X),X-=m;X=m=r+n+1;E=D[p-r];for(v=-f;0>=v;v+=1)E[h+v]===fa&&(H+=X),X+=m;X-=m+m;for(v=1;v<=f;v+=1)E[h+v]===fa&&(H+=X),X-=m}X=m=f+1;E=D[p];for(v=-f;0>=v;v+=1)E[h+v]===fa&&(H+=X),X+=m;X-=m+m;for(v=1;v<=f;v+=1)E[h+v]===fa&&(H+=X),X-=m;ba[h]=H;h+=1}break;default:for(p=c-n;p<=d+n;p+=1){ba=B[p];h=k-f;H=0;for(r=-n;r<=n;r+=1)for(X=F[r+n],E=D[p+r],v=-X;v<=X;v+=1)E[h+v]===fa&&(H+=1);ba[h]=H;for(h+=1;h<=a+f;){for(r=-n;r<=n;r+=1)X=F[r+n],
E=D[p+r],E[h-X-1]===fa&&--H,E[h+X]===fa&&(H+=1);ba[h]=H;h+=1}}}-1!==this.g.ya&&(k<N+f&&(k=N+f),a>K-f&&(a=K-f),c<P+n&&(c=P+n),d>J-n&&(d=J-n));b===this.D.Pd||b===this.D.uf&&6<f||this.bb(k,c,a,d,g);1===this.g.ya&&this.Wa(N,P,K,J)};w.prototype.mL=function(g){var h=!1;this.sc&&1===(g&1)&&(h=!0);2===this.xo?this.Bb(h):this.Gb(h)};window.HROT=w}(),function(){function w(a,c,d,f,n,m,q,u){this.name=a;this.$k=!1;this.Mn=10;this.Dh=this.Ch=0;this.fb=f;this.vb=d;this.kb=c;this.qg=n;this.Zb=m;this.Ic=q;this.Ki=
u;this.$l=!1;-1===this.Zb.aa.red&&(this.$l=!0);128<=(this.fb.red+this.fb.green+this.fb.blue)/3?(this.Ch=ViewConstants.gE,this.Dh=ViewConstants.fE):(this.Ch=ViewConstants.Vu,this.Dh=ViewConstants.Uu)}function g(a,c,d){this.red=a;this.green=c;this.blue=d}function h(a,c){this.Z=a;this.aa=c}function p(a,c,d,f,n,m){this.D=m;this.v=new Allocator;this.ph=[];this.Qd=!1;this.Vj=!0;this.bh=!1;this.Lt=this.gt=this.lt=this.kt=this.Zj=this.Si=this.Ri=this.sd=null;this.Tb=new Random;this.Tb.nf(Date.now().toString());
this.fa=!1;this.lg=8;this.Be=2;this.Ai=0;this.pl=-1;this.ge=this.zk=this.yk=null;this.Ig=[];this.Sd=null;this.nl=this.Cj=this.Hg=0;this.Jf=this.Vb=this.Uj=this.Qj=this.Oi=this.mi=this.Ff=this.Rd=null;this.Wa=this.gg=0;this.eg=this.Rk=null;this.bi=!0;this.Mi=new BoundingBox(0,0,0,0);this.Xj=this.If=-1;this.Vw=this.Tx=0;this.Ux=!1;this.Dl=!0;this.Yi=this.fh=this.sc=this.cd=this.bd=!1;this.$r=0;this.am=[];this.cm=[];this.em=[];this.hm=[];this.Al=[];this.Cl=[];this.Hl=[];this.Ll=[];this.Yn=[];this.$n=
[];this.io=[];this.oo=[];this.lm=[];this.om=[];this.pm=[];this.Wn=[];this.Oh=[];this.pg=this.Ac="";this.Gb=255;this.bc=null;this.Tf=this.v.P(Uint8,65536,"Life.bitCounts16");this.px();this.xt=this.v.P(Uint8,65536,"Life.firstBit16");this.rx();this.Th=this.Lh=this.pc=null;this.Xb=this.$b=this.rd=this.ai=0;this.xc=1;this.da=0;this.xa=this.Ba=this.ya=-1;this.sn=this.rn=0;this.Ox=this.bu=!1;this.Cs=ViewConstants.MD;this.af=[];this.bf=[];this.af[0]=this.v.P(Int32,k.hw,"Life.boundaryX0");this.bf[0]=this.v.P(Int32,
k.hw,"Life.boundaryY0");this.Rj=0;this.Il=4294967295;this.Jl=4286611584;this.rB="rgb(0,255,0)";this.bA="rgb(255,0,0)";this.Pt="rgb(255,255,0)";this.N=this.ma=this.Pa=!1;this.Vd=-1;this.R=!1;this.Ud=this.D.gn;this.S=!1;this.yg=this.D.tp;this.vc=!0;this.te=this.Jv=!1;this.i=-1;this.T=this.Ga=!1;this.Ti=this.O=0;this.dj=this.sa=!1;this.Kg=new SnapshotManager(this.v,this.Tf);this.bo=k.Ls;this.ud=this.jc=this.tl=!1;this.Nd=this.Kf=this.Oa=this.L=null;this.title="LifeViewer";this.width=f;this.height=n;
this.Us=2;this.Vs=16;this.ta=this.width>>4;this.va=this.height>>4;this.xH=this.Kg.ey((this.ta-1>>4)+1,this.va,!0,0,!1);this.J=c;this.H=d;this.cc=this.Pb=this.qa=0;this.Hb=k.Hb;this.df=k.df;this.Le=k.Le;this.Tk=k.Tk;this.rv=this.fb=0;this.V=1;this.Bf=-1;this.un=1;this.Ol=30;this.angle=this.counter=this.mj=this.Wf=0;this.zoom=6;this.wa=this.Da=0;this.ue=.1;this.qb=0;this.na=1;this.re=this.qe=0;this.s=.1;this.fe=littleEndian;this.nb=[];this.hg=this.Ye=this.le=this.$f=this.He=this.Gd=this.Yb=this.qh=
this.Ef=this.cf=this.Gg=this.hf=this.$e=this.Wc=null;this.Re=-1;this.Xc=this.ce=this.Ok=null;this.context=a;this.Jb=this.Fb=0;this.ha=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.tileGrid");this.oa=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.nextTileGrid");this.jd=Array.ga(Uint8,this.height,(this.width-1>>3)+1,0,this.v,"Life.grid");this.Dg=Array.ga(Uint8,this.height,(this.width-1>>3)+1,0,this.v,"Life.nextGrid");this.eb=Array.Kc(Uint16,this.jd,"Life.grid16");this.Sb=Array.Kc(Uint16,
this.Dg,"Life.nextGrid16");this.Mk=this.v.P(Uint32,this.J,"Life.blankPixelRow");this.gf=this.v.P(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Iq=this.v.P(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.td=this.v.P(Uint16,this.ta>>4,"Life.blankTileRow");this.Oc=this.v.P(Uint8,this.width,"Life.blankColourRow");this.ba=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.colourGrid");this.Ma=null;this.Ec=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.smallColourGrid");this.ik=
Array.Kc(Uint16,this.ba,"Life.colourGrid16");this.be=Array.Kc(Uint32,this.ba,"Life.colourGrid32");this.jl=this.jo=this.De=this.ec=null;this.Ka=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.colourTileGrid");this.Ca=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.colourTileHistoryGrid");this.Of=this.Jj=this.Fi=this.Ve=null;this.Sa=this.v.P(Uint8,256,"Life.redChannel");this.Ra=this.v.P(Uint8,256,"Life.greenChannel");this.Qa=this.v.P(Uint8,256,"Life.blueChannel");this.ze=this.v.P(Uint32,
256,"Life.pixelColours");this.oe=null;this.Gt=0;this.ne=this.Jc=this.Gf=this.me=this.Ni=this.Wh=this.dg=this.Uh=null;this.bp=this.v.P(Uint16,2*(this.df+1)<<8,"Life.colourLookup");this.ot=this.v.P(Uint8,2048,"Life.colourReset");this.Md=ViewConstants.Vu;this.cg=-1;this.Zf=ViewConstants.Uu;this.ag=-1;this.Hf=10;this.al=!0;this.gJ=10;this.ja=this.v.P(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.bb=this.v.P(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ka=8192;this.qK=[0,0,48];this.pK=
[255,255,255];this.oK=[255,255,255];this.rK=[0,255,0];this.sK=[255,0,0];this.hj=[0,0,48];this.gj=[255,255,255];this.fj=[255,255,255];this.ij=[0,255,0];this.jj=[255,0,0];this.Ia=new HROT(this.v,this,m);this.coords=this.v.P(Float32,1,"Life.coords");this.Ja=this.v.P(Uint32,1,"Life.cellColours");this.ob=0}var k={Mz:0,Oz:1,Nz:2,gL:3,dm:5E4,Ml:0,Af:1,jf:2,dL:0,Jz:0,Iz:1,YE:2,ZE:3,$E:4,Kz:5,Lz:6,eL:6,XK:20,fL:"RotCCW RotCW FlipX FlipY FlipXY RotCWFlipX RotCWFlipY".split(" "),el:1048576,lD:"Buffer Full",
fu:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],aF:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 1;off trail 1;on trail;off trail 2;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
ep:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64],[0,0,0],[255,0,0],[0,255,0],[128,128,0]],cK:[[1,1,1],[1,0,0],[0,1,0]],dK:[[0,1,0],[1,1,0],[1,0,1]],eK:[[1,1,0],[1,0,1],[1,0,0]],fK:[[0,1,1],[1,1,0],[0,0,1]],ZJ:[[1,1,1],[0,0,1],[0,1,0]],$J:[[0,1,0],[0,1,1],[1,0,1]],aK:[[0,1,1],[1,0,1],[0,0,1]],bK:[[1,1,0],[0,1,1],[1,0,0]],kK:[[0,1,0],[1,0,0],[1,1,1]],lK:[[1,0,
1],[1,1,0],[0,1,0]],mK:[[1,0,0],[1,0,1],[1,1,0]],nK:[[0,0,1],[1,1,0],[0,1,1]],gK:[[0,1,0],[0,0,1],[1,1,1]],hK:[[1,0,1],[0,1,1],[0,1,0]],iK:[[0,0,1],[1,0,1],[0,1,1]],jK:[[1,0,0],[0,1,1],[1,1,0]],Bc:4096,hi:16,hw:4096,vK:512,Yu:262144,gm:65536,Nn:65536,iE:8192,hE:131072,Ls:64,ME:262144,wj:12,Hb:64,df:127,Le:63,Tk:1,Kb:1,ib:2,tb:4,Ib:8,Ub:16,sb:32,Qb:64,Rb:128};w.prototype.set=function(a){this.$k=a.$k;this.Mn=a.Mn;this.Ch=a.Ch;this.Dh=a.Dh;this.fb=a.fb;this.vb=a.vb;this.kb=a.kb;this.qg=a.qg;this.Zb=
a.iO;this.Ic=a.Ic;this.Ki=a.Ki;this.Zb=a.Zb;this.$l=a.$l};w.prototype.Ao=function(a,c,d){this.$k=!0;this.Mn=a;this.Ch=c.red<<16|c.green<<8|c.blue;this.Dh=d.red<<16|d.green<<8|d.blue};w.prototype.TM=function(a,c){this.Ch=-1!==a?a:128<=(this.fb.red+this.fb.green+this.fb.blue)/3?ViewConstants.gE:ViewConstants.Vu;this.Dh=-1!==c?c:128<=(this.fb.red+this.fb.green+this.fb.blue)/3?ViewConstants.fE:ViewConstants.Uu};w.prototype.uK=function(a){var c=!0;a||this.vb.Z.kz(this.vb.aa)&&this.kb.Z.kz(this.kb.aa)&&
this.kb.Z.kz(this.fb)&&(c=!1);return c};g.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};g.prototype.kz=function(a){var c=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(c=!0);return c};h.prototype.set=function(a){this.Z.set(a.Z);this.aa.set(a.aa)};p.prototype.hz=function(){var a=ViewConstants.Ya,c=this.J+a+a<<1;a=this.H+a+a<<1;this.bh?(null===this.sd&&(window.OffscreenCanvas?this.sd=new OffscreenCanvas(c,a):this.sd=document.createElement("canvas")),
this.sd.width=c,this.sd.height=a,this.Ri=this.sd.getContext("2d",{alpha:!1}),this.Si=this.Ri.getImageData(0,0,this.sd.width,this.sd.height),this.Zj=new Uint32Array(this.Si.data.buffer)):this.Zj=this.Si=this.Ri=null};p.prototype.mE=function(){var a,c,d,f=this.J,n=20*this.H,m=-n,q=this.Tb;this.kt=new Uint16Array(k.dm);this.lt=new Float32Array(k.dm);this.gt=new Float32Array(k.dm);this.Lt=new Uint32Array(k.dm);var u=this.kt;var y=this.lt;var v=this.gt;for(a=0;a<k.dm;a+=1){u[a]=q.random()*f|0;for(c=d=
0;10>c;c+=1)d+=q.random()*n;y[a]=-d/10;y[a]>m&&(m=y[a]);v[a]=q.random()/5+.8;if(a<k.dm-4&&.2>q.random()){c=u[a];d=y[a];var r=v[a];a+=1;u[a]=c;y[a]=d-2;v[a]=r;a+=1;u[a]=c;y[a]=d+2;v[a]=r;1<c&&(a+=1,u[a]=c-2,y[a]=d,v[a]=r);c<f-2&&(a+=1,u[a]=c+2,y[a]=d,v[a]=r)}}for(a=0;a<k.dm;a+=1)y[a]-=m};p.prototype.$d=function(){var a,c=0,d=this.J,f=this.H,n=this.ze[0],m=this.ce,q=this.Tb,u=this.kt,y=this.lt,v=this.gt,r=this.Lt;for(a=0;a<k.dm;a+=1){var B=u[a];var b=y[a];var l=v[a];var e=B;var t=b;if(0<=b&&b<f-1)if((b|
0)===(b+l|0))t=b+l,m[(t|0)*d+e]=-1;else{if(m[(b+l|0)*d+B]===n)t=b+l;else{var x=q.random();if(.05>x){var z=1;.025>x&&(z=-1);0<=B+z&&B+z<d&&m[(b+l|0)*d+B+z]===n&&m[(b|0)*d+B+z]===n&&(e=B+z,t=b+l)}}m[(t|0)*d+e]=-1}else 0>b&&(t=b+l);t>=f-1&&(r[c]=a,c+=1);u[a]=e;y[a]=t}if(5<c)for(a=0;a<c;a+=1).25>q.random()&&(x=r[a],t=-(q.random()*f),e=q.random()*d|0,u[x]=e,y[x]=t,l=v[x],a<c-4&&.2>q.random()&&(a+=1,x=r[a],u[x]=e,y[x]=t-2,v[x]=l,a+=1,x=r[a],u[x]=e,y[x]=t+2,v[x]=l,1<e&&(a+=1,x=r[a],u[x]=e-2,y[x]=t,v[x]=
l),e<d-2&&(a+=1,x=r[a],u[x]=e+2,y[x]=t,v[x]=l)))};p.prototype.QL=function(a){this.Rd=a};p.prototype.kv=function(a){this.Wa=0;a?null===this.Ff&&(this.Ff=this.v.P(Int32,k.el,"Life.hashList"),this.mi=this.v.P(Uint32,k.el,"Life.genList"),this.Oi=this.v.P(Uint32,k.el,"Life.popList"),this.Qj=this.v.P(Uint32,k.el,"Life.bornList"),this.Uj=this.v.P(Uint32,k.el,"Life.diedList"),this.Vb=this.v.P(Uint32,2*k.el,"Life.boxList"),this.Jf=this.v.P(Int32,k.el,"Life.nextList"),this.Rk=Array.ga(Uint8,this.height,this.width,
k.Ml,this.v,"Life.countList"),2<this.i&&(this.eg=Array.ga(Uint8,this.height,this.width,0,this.v,"Life.initList")),this.bi=!0,this.Mi.j=this.width,this.Mi.m=this.height,this.Mi.A=0,this.Mi.B=0,this.gg=this.Xj=this.If=-1,this.Jf.fill(-1)):(this.eg=this.Rk=this.Jf=this.Vb=this.Uj=this.Qj=this.Oi=this.mi=this.Ff=null,this.gg=this.Xj=this.If=-1)};p.prototype.EH=function(a,c,d){c="Spaceship ("+(c+","+d)+")c";1<a&&(c+="/"+a);return c};p.prototype.ix=function(a,c){var d=31415962,f=a.j,n=a.m,m=a.A-f+1;a=a.B-
n+1;var q=m-1,u=a-1,y=a,v=2>=this.i&&!this.fa,r,B,b=0,l=0,e=0,t=0,x=this.ba,z=k.Hb;(this.N||this.fa||this.T)&&0!==(this.counter&1)&&(x=this.Ma);if(c===k.Jz||c===k.Iz||c===k.Kz||c===k.Lz){var A=m;m=y;y=A}for(B=0;B<y;B+=1)for(r=0;r<m;r+=1){switch(c){case k.Jz:b=e;l=u-t;break;case k.$E:b=q-r;l=u-B;break;case k.Iz:b=q-e;l=t;break;case k.YE:b=q-r;l=B;break;case k.ZE:b=r;l=u-B;break;case k.Kz:b=e;l=t;break;case k.Lz:b=q-e,l=u-t}if(v)x[l+n][b+f]>=z&&(d=1000003*d^B,d=1000003*d^r);else if(A=x[l+n][b+f],A>
this.O){A-=this.O;if(this.N)switch(c){case k.Jz:A=A<<1&15|(A&8)>>3;break;case k.$E:A=A&12|A&3;break;case k.Iz:A=A>>1&15|(A&1)<<3;break;case k.YE:A=A&5|(A&2)<<2|(A&8)>>2;break;case k.ZE:A=A&10|(A&1)<<2|(A&4)>>2;break;case k.Kz:A=(A&8)>>3|(A&4)>>1|(A&2)<<1|(A&1)<<3;break;case k.Lz:A=(A&4)<<1|(A&8)>>1|(A&1)<<1|(A&2)>>1}d=1000003*d^B;d=1000003*d^r;d=1000003*d^A}t+=1;t===a&&(t=0,e+=1)}return d|0};p.prototype.Uw=function(a,c){for(var d,f=k.dL,n=-1,m;f<=k.eL&&-1===n;){m=this.ix(a,f);if(c)for(d=this.gg;-1!==
d&&-1===n;)m===this.Ff[d]&&this.mi[d]!==this.counter?(n=d,c&&(this.Xj=f)):d=this.Jf[d];else m===this.Vw&&(n=1);f+=1}return n};p.prototype.hx=function(a,c){var d=31415962,f=a.j,n=a.m,m=a.A,q=a.B,u,y=2>=this.i&&!this.fa,v=this.ba,r=this.Rk,B=this.eg,b=k.Hb,l=this.Mi;(this.N||this.fa||this.T)&&0!==(this.counter&1)&&(v=this.Ma);f<l.j&&(l.j=f);n<l.m&&(l.m=n);m>l.A&&(l.A=m);q>l.B&&(l.B=q);for(u=n;u<=q;u+=1){var e=u-n;var t=v[u];if(y)for(a=f;a<=m;a+=1)t[a]>=b&&(d=1000003*d^e,d=1000003*d^a-f);else for(a=
f;a<=m;a+=1){var x=t[a];x>this.O&&(x-=this.O,d=1000003*d^e,d=1000003*d^a-f,d=1000003*d^x)}}if(!c){for(u=l.m;u<=l.B;u+=1)if(t=v[u],c=r[u],y)if(this.bi)for(a=l.j;a<=l.A;a+=1)t[a]>=b&&(c[a]=k.Af);else for(a=l.j;a<=l.A;a+=1)t[a]>=b?c[a]===k.Ml&&(c[a]=k.jf):c[a]===k.Af&&(c[a]=k.jf);else if(this.N)if(this.bi)for(a=l.j;a<=l.A;a+=1)x=t[a],x>this.O?x-=this.O:x=0,f=0,0!==(x&1)&&(f=k.Af),n=0,0!==(x&2)&&(n=k.Af),m=0,0!==(x&4)&&(m=k.Af),q=0,0!==(x&8)&&(q=k.Af),c[a]=f|n<<2|m<<4|q<<6;else for(a=l.j;a<=l.A;a+=1)q=
c[a],x=t[a],x>this.O?x-=this.O:x=0,f=q&3,0!==(x&1)?f===k.Ml&&(f=k.jf):f===k.Af&&(f=k.jf),n=q>>2&3,0!==(x&2)?n===k.Ml&&(n=k.jf):n===k.Af&&(n=k.jf),m=q>>4&3,0!==(x&4)?m===k.Ml&&(m=k.jf):m===k.Af&&(m=k.jf),q=q>>6&3,0!==(x&8)?q===k.Ml&&(q=k.jf):q===k.Af&&(q=k.jf),c[a]=f|n<<2|m<<4|q<<6;else for(x=B[u],a=l.j;a<=l.A;a+=1)this.bi?(x[a]=t[a],t[a]>this.O&&(c[a]=k.Af)):t[a]>this.O?c[a]===k.Ml?c[a]=k.jf:t[a]!==x[a]&&(c[a]=k.jf):c[a]===k.Af&&(c[a]=k.jf);this.bi=!1}return d|0};p.prototype.ci=function(a,c){for(var d;0!==
c;)d=c,c=a%c,a=d;return a};p.prototype.ex=function(a,c){var d="Oblique";if(a>c){var f=a;a=c;c=f}f=this.ci(a,c);switch(a/f*10+c/f){case 12:d+=" Knightwise";break;case 13:d+=" Camelwise";break;case 14:d+=" Giraffewise";break;case 15:d+=" Ibiswise";break;case 16:d+=" Flamingowise";break;case 23:d+=" Zebrawise";break;case 34:d+=" Antelopewise"}return d};p.prototype.ox=function(a,c,d,f,n,m,q,u){var y="",v=String(this.counter-d),r="",B="",b=this.qa,l=b,e=16384,t=0,x=16384,z=0,A=this.Wa,C=a,G=16384,D=0,
I=0,F,E=F="",H=this.Rk,N=0,K=0,P="",J=this.If,T="",Y="";0<d&&(v+=" and "+this.counter);f=Math.abs(f);n=Math.abs(n);if(0<f||0<n){var U="Spaceship";0===f||0===n?B="0":(f>n?(B=f,r=n):(B=n,r=f),y=this.ci(B,r),B=String(B/y),1!==r/y&&(B+="/"+String(r/y)));if(f===n||0===f||0===n)if(r=f===n&&0!==f?"Diagonal":"Orthogonal",0===f&&(f=n),1<f)if(1===d)y=f+"c";else{y=this.ci(f,d);var M=f/y;var fa=d/y;1!==y?(y=1===M?"c":M+"c",1<fa&&(y+="/"+fa),y+=" | "+f+"c/"+d):y=f+"c/"+d}else y="c",1<d&&(y+="/"+d);else y=this.ci(f,
this.ci(n,d)),M=f/y,r=n/y,fa=d/y,1!==y?(y=M>r?"("+M+","+r+")c":"("+r+","+M+")c",1<fa&&(y+="/"+fa),y=f>n?y+(" | ("+f+","+n+")c"):y+(" | ("+n+","+f+")c")):y=f>n?"("+f+","+n+")c":"("+n+","+f+")c",1<d&&(y+="/"+d),r=this.ex(f,n)}else U=1===d||this.sc&&2===d?"Still Life":"Oscillator";for(n=0;a<A;)f=this.Oi[a],n+=f,f<b&&(b=f),f>l&&(l=f),a+=1;b=b===l?String(b):String(b)+" | "+String(l)+" | "+String((n/(A-C)).toFixed(1));a=C;if("Spaceship"===U)for(;a<A;)f=this.Vb[a<<1],l=f>>16,n=f&65535,l>m&&(m=l),n>q&&(q=
n),a+=1;else{for(;a<A;)f=this.Vb[a<<1],l=f>>16,n=f&65535,f=this.Vb[(a<<1)+1],m=f>>16,q=f&65535,m<e&&(e=m),q<x&&(x=q),m+l-1>t&&(t=m+l-1),q+n-1>z&&(z=q+n-1),a+=1;m=t-e+1;q=z-x+1}m=String(m+" x "+q+" = "+m*q);if(0<d){F=0;for(a=C;a<A;)I=this.Qj[a]+this.Uj[a],I<G&&(G=I),I>D&&(D=I),F+=I,a+=1;G===D?(I=G,F=String(I.toFixed(1))):(I=F/(A-C),F=String(G.toFixed(1)+" | "+D.toFixed(1)+" | "+I.toFixed(1)))}if("Oscillator"===U&&!u){for(C=x;C<=z;C+=1)if(a=H[C],this.N)for(A=e;A<=t;A+=1)x=a[A],(x&3)===k.jf?N+=1:(x&
3)===k.Af&&(K+=1),x>>=2,(x&3)===k.jf?N+=1:(x&3)===k.Af&&(K+=1),x>>=2,(x&3)===k.jf?N+=1:(x&3)===k.Af&&(K+=1),x>>=2,(x&3)===k.jf?N+=1:(x&3)===k.Af&&(K+=1);else for(A=e;A<=t;A+=1)a[A]===k.jf?N+=1:a[A]===k.Af&&(K+=1);E=String((N/(N+K)).toFixed(2))}"Oscillator"!==U||u||(Y=String((I/(N+K)).toFixed(2)+" | "+(I/N).toFixed(2)));u||(P=String(N+" | "+K+" | "+(N+K)));u||this.S||this.R||(T=0>=J?String(d):0===d%J?String(J)+" ("+k.fL[this.Xj]+")":String(d));return[c,U,r,y,m,v,b,B,d,F,E,T,P,Y]};p.prototype.uL=function(a){var c=
this.sa?this.Oa:this.L,d=c.j,f=c.m,n=c.A-d+1,m=c.B-f+1,q=n<<16|m,u=d<<16|f,y=!1,v,r=0,B=0;var b=[];if((this.ma||this.sc)&&0!==(this.counter&1))return b;if(this.Wa<k.el)if(0===this.qa)b=["Empty Pattern","Empty"];else{var l=this.hx(c,a);var e=!1;var t=this.gg;for(v=-1;-1!==t&&!e;){var x=this.Ff[t];l>x?(v=t,t=this.Jf[t]):l<this.Ff[t]?e=!0:l===this.Ff[t]&&(x=t<<1,this.qa===this.Oi[t]&&q===this.Vb[x]?(b=this.counter-this.mi[t],this.Vb[x+1]===u?1===b||(this.sc||this.ma)&&2===b?(x="Still Life",b=1):x="Oscillator period "+
b:(r=d-(this.Vb[x+1]>>16),B=f-(this.Vb[x+1]&65535),x=this.EH(b,r,B)),y=e=!0,b=this.ox(t,x,b,r,B,n,m,a)):(v=t,t=this.Jf[t]))}y||(this.Ff[this.Wa]=l,this.mi[this.Wa]=this.counter,this.Oi[this.Wa]=this.qa,this.Qj[this.Wa]=this.Pb,this.Uj[this.Wa]=this.cc,this.Vb[this.Wa<<1]=q,this.Vb[(this.Wa<<1)+1]=d<<16|f,this.Jf[this.Wa]=-1,-1===this.gg?this.gg=0:-1===v?this.gg=this.Wa:this.Jf[v]=this.Wa,-1!==this.If||a||this.S||this.R?-1===this.If||this.Ux||this.counter!==this.Tx||(a=this.Uw(c,!1),-1!==a?this.Ux=
!0:this.If=-2):(a=this.Uw(c,!0),-1!==a&&(this.If=this.counter-this.mi[a],this.Tx=this.counter+this.If,this.Vw=l)),this.Wa+=1,this.Wa===k.el&&(this.Wa=0,b=[k.lD]))}return b};p.prototype.bx=function(a,c,d,f,n,m,q){var u=this.J/2,y=this.H/2,v=0,r=this.width/2-.25,B=this.height/2,b=this.coords,l=this.Ja,e=this.height/2-this.wa-this.Xb+.5,t=this.width/2-this.Da-this.$b+.5,x=this.zoom*this.xc;if(a>d){var z=d;d=a;a=z}c>f&&(z=f,f=c,c=z);a+=n;d+=n;c+=m;f+=m;l.length!==k.Bc&&(this.coords=this.v.P(Float32,12*
k.Bc,"Life.coords"),this.Ja=this.v.P(Uint32,k.Bc,"Life.cellColours"),b=this.coords,l=this.Ja);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(m=n=0;c<=f;c+=1)if(z=(c-B+e)*x+y,z>=-x&&z<this.H+x){var A=c-B;var C=t-r;for(z=a;z<=d;z+=1){if(0<q[v]){var G=(z+C)*x+u;if(G>=-x&&G<this.J+2*x){l[n]=(0<<k.hi)+m;G=z-r;var D=z+c&1;b[m]=G-1;b[m+1]=A+D;b[m+2]=G+1;b[m+3]=A+D;b[m+4]=G;b[m+5]=A+1-D;m+=6;n+=1;n===k.Bc&&(this.ob=n,this.ke(!0,!1,!0),m=n=0)}}v+=1}}else v+=d-a+1;
this.ob=n;0<n&&this.ke(!0,!1,!0)};p.prototype.wt=function(a,c,d,f,n,m){var q=this.J/2,u=this.H/2,y=this.width/2-.25,v=this.height/2,r=this.coords,B=this.Ja,b=this.height/2-this.wa-this.Xb+.5,l=this.width/2-this.Da-this.$b+.5,e=this.zoom*this.xc;if(a>d){var t=d;d=a;a=t}c>f&&(t=f,f=c,c=t);a+=n;d+=n;c+=m;f+=m;B.length!==k.Bc&&(this.coords=this.v.P(Float32,12*k.Bc,"Life.coords"),this.Ja=this.v.P(Uint32,k.Bc,"Life.cellColours"),r=this.coords,B=this.Ja);this.context.lineWidth=1.6;this.context.lineCap="butt";
this.context.lineJoin="bevel";for(m=n=0;c<=f;c+=1)if(t=(c-v+b)*e+u,t>=-e&&t<this.H+e){var x=c-v;var z=l-y;for(t=a;t<=d;t+=1){var A=(t+z)*e+q;if(A>=-e&&A<this.J+2*e){B[n]=(0<<k.hi)+m;A=t-y;var C=t+c&1;r[m]=A-1;r[m+1]=x+C;r[m+2]=A+1;r[m+3]=x+C;r[m+4]=A;r[m+5]=x+1-C;m+=6;n+=1;n===k.Bc&&(this.ob=n,this.ke(!0,!1,!0),m=n=0)}}}this.ob=n;0<n&&this.ke(!0,!1,!0)};p.prototype.xJ=function(){var a=this.ba,c=this.ec,d=null,f=this.Nd,n=this.J/2,m=this.H/2,q,u,y=this.width/2-.25,v=this.height/2,r=ViewConstants.Xa[3]+
128,B=ViewConstants.Xa[4]+128,b=ViewConstants.Xa[5]+128,l=ViewConstants.Xa[6]+128,e=this.Hb,t=this.coords,x=this.Ja,z=f.j,A=f.A;var C=f.m;var G=f.B,D=this.height/2-this.wa-this.Xb+.5,I=this.width/2-this.Da-this.$b+.5,F=this.zoom*this.xc,E=!this.jc&&!this.ud;(this.T||this.fa)&&0!==(this.counter&1)&&(a=this.Ma);x.length!==k.Bc&&(this.coords=this.v.P(Float32,12*k.Bc,"Life.coords"),this.Ja=this.v.P(Uint32,k.Bc,"Life.cellColours"),t=this.coords,x=this.Ja);-1!==this.ya&&(0!==this.Ba?(z=Math.round((this.width-
this.Ba)/2)-1,A=z+this.Ba-1+2):(z=0,A=this.width-1),0!==this.xa?(C=Math.round((this.height-this.xa)/2)-1,G=C+this.xa-1+2):(C=0,G=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(u=f=0;C<=G;C+=1){var H=(C-v+D)*F+m;if(H>=-F&&H<this.H+F){H=a[C];c&&(d=c[C]);var N=C-v;var K=I-y;for(q=z;q<=A;q+=1){var P=(q+K)*F+n;if(P>=-F&&P<this.J+2*F){P=H[q];if(d){var J=d[q];if(J===B||J===l)P=P>e?r:J;else if(J===r||J===b)P=P<e?B:J}0<P&&(x[f]=(P<<k.hi)+u,P=q-y,J=
q+C&1,t[u]=P-1,t[u+1]=N+J,t[u+2]=P+1,t[u+3]=N+J,t[u+4]=P,t[u+5]=N+1-J,u+=6,f+=1);f===k.Bc&&(this.ob=f,this.ke(!0,E,!1),this.ud&&!this.jc&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Qa[0]+","+this.Ra[0]+")",this.ke(!1,!1,!1)),u=f=0)}}}}this.ob=f;0<f&&(this.ke(!0,E,!1),this.ud&&!this.jc&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Qa[0]+","+this.Ra[0]+")",this.ke(!1,!1,!1)),u=0);if(this.jc){this.context.strokeStyle="rgb("+(this.Md>>16)+","+(this.Md>>8&255)+","+(this.Md&255)+")";this.context.lineWidth=
1;G=m/F-D+v|0;f=0;for(C=-m/F-D+v|0;C<=G;C+=1)if(H=(C-v+D)*F+m,H>=-F&&H<this.H+F)for(N=C-v,K=I-y,z=-n/F-K-F|0,A=n/F-K+F|0,q=z;q<=A;q+=1)P=(q+K)*F+n,P>=-F&&P<this.J+F&&(P=q-y,J=q+C&1,t[u]=P-1,t[u+1]=N+J,t[u+2]=P+1,t[u+3]=N+J,t[u+4]=P,t[u+5]=N+1-J,u+=6,f+=1),f===k.Bc&&(this.ob=f,this.ke(!1,!1,!1),u=f=0);this.ob=f;0<f&&this.ke(!1,!1,!1)}};p.prototype.ke=function(a,c,d){var f,n=this.context,m=this.width/2-this.Da-this.$b,q=this.height/2-this.wa-this.Xb,u=this.zoom*this.xc,y=this.zoom*this.xc*ViewConstants.he,
v=this.J/2,r=this.H/2,B=0,b=0,l=-1,e=this.coords,t=this.ob,x=this.Ja,z=(1<<k.hi)-1;if(a&&!d&&x.sort){b=(k.Bc<<k.hi)+256;for(f=t;f<k.Bc;f+=1)x[f]=b;x.sort()}n.beginPath();a||(l=b=B=0);for(f=0;f<t;f+=1){a&&(b=x[f],B=b&z,b>>=k.hi);var A=e[B];var C=e[B+1];B+=2;var G=(C+q)*y+r;var D=(A+m)*u+v;var I=(e[B+1]-C)*y;var F=(e[B]-A)*u;B+=2;b!==l&&(l=b,0<f&&(a?(c&&n.stroke(),n.fill()):n.stroke(),n.beginPath()),a&&!d&&(n.fillStyle=this.Oh[b],c&&(n.strokeStyle=this.Oh[b])));n.moveTo(D|0,G|0);n.lineTo(F+D|0,I+G|
0);n.lineTo(F+D|0,G|0);I=(e[B+1]-C)*y;F=(e[B]-A)*u;n.lineTo(F+D|0,I+G|0);B+=2}a?(c&&n.stroke(),n.fill()):n.stroke()};p.prototype.ax=function(a,c,d,f,n,m,q){var u=0,y=this.width/2-.25,v=this.height/2,r=Math.PI/3,B=.5/Math.cos(r/2)*1.16,b=ViewConstants.he/4/Math.cos(r/2)*1.16,l=[],e=[],t=this.coords,x=this.Ja,z=this.J/2,A=this.H/2,C=this.width/2-this.Da-this.$b,G=this.height/2-this.wa-this.Xb,D=this.na;C=C+G/2+-(this.height>>2)+.5;G+=.5;if(a>d){var I=d;d=a;a=I}c>f&&(I=f,f=c,c=I);a+=n;d+=n;c+=m;f+=m;
x.length!==k.Bc&&(this.coords=this.v.P(Float32,12*k.Bc,"Life.coords"),this.Ja=this.v.P(Uint32,k.Bc,"Life.cellColours"),t=this.coords,x=this.Ja);m=r/2;for(n=0;5>=n;n+=1)l[n]=Math.cos(m)*b,e[n]=Math.sin(m)*B,l[n]+=e[n]/2,m+=r;r=l[0];B=e[0];b=l[1];I=e[1];var F=l[2];var E=e[2];var H=l[3];var N=e[3];var K=l[4];var P=e[4];l=l[5];e=e[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(m=n=0;c<=f;c+=1){var J=c-v;var T=(J+G)*D+A;if(T>=-D&&T<this.H+D)for(T=a;T<=d;T+=1){if(0<
q[u]){var Y=T-y;var U=(Y+C-(J+G)/2)*D+z;U>=-D&&U<this.J+D&&(x[n]=(0<<k.hi)+m,t[m]=r+Y,t[m+1]=B+J,t[m+2]=b+Y,t[m+3]=I+J,t[m+4]=F+Y,t[m+5]=E+J,t[m+6]=H+Y,t[m+7]=N+J,t[m+8]=K+Y,t[m+9]=P+J,t[m+10]=l+Y,t[m+11]=e+J,m+=12,n+=1,n===k.Bc&&(this.ob=n,this.Zd(!0,!1,!1,!0),m=n=0))}u+=1}else u+=d-a+1}this.ob=n;0<n&&this.Zd(!0,!1,!1,!0)};p.prototype.vt=function(a,c,d,f,n,m){var q=this.width/2-.25,u=this.height/2,y=Math.PI/3,v=.5/Math.cos(y/2)*1.16,r=ViewConstants.he/4/Math.cos(y/2)*1.16,B=[],b=[],l=this.coords,
e=this.Ja,t=this.J/2,x=this.H/2,z=this.width/2-this.Da-this.$b,A=this.height/2-this.wa-this.Xb,C=this.na;z=z+A/2+-(this.height>>2)+.5;A+=.5;if(a>d){var G=d;d=a;a=G}c>f&&(G=f,f=c,c=G);a+=n;d+=n;c+=m;f+=m;e.length!==k.Bc&&(this.coords=this.v.P(Float32,12*k.Bc,"Life.coords"),this.Ja=this.v.P(Uint32,k.Bc,"Life.cellColours"),l=this.coords,e=this.Ja);m=y/2;for(n=0;5>=n;n+=1)B[n]=Math.cos(m)*r,b[n]=Math.sin(m)*v,B[n]+=b[n]/2,m+=y;y=B[0];v=b[0];r=B[1];G=b[1];var D=B[2];var I=b[2];var F=B[3];var E=b[3];var H=
B[4];var N=b[4];B=B[5];b=b[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(m=n=0;c<=f;c+=1){var K=c-u;var P=(K+A)*C+x;if(P>=-C&&P<this.H+C)for(P=a;P<=d;P+=1){var J=P-q;var T=(J+z-(K+A)/2)*C+t;T>=-C&&T<this.J+C&&(e[n]=(0<<k.hi)+m,l[m]=y+J,l[m+1]=v+K,l[m+2]=r+J,l[m+3]=G+K,l[m+4]=D+J,l[m+5]=I+K,l[m+6]=F+J,l[m+7]=E+K,l[m+8]=H+J,l[m+9]=N+K,l[m+10]=B+J,l[m+11]=b+K,m+=12,n+=1,n===k.Bc&&(this.ob=n,this.Zd(!0,!1,!1,!0),m=n=0))}}this.ob=n;0<n&&this.Zd(!0,!1,!1,!0)};
p.prototype.tJ=function(){var a=this.ba,c=this.ec,d=null,f=this.Nd,n=this.J/2,m=this.H/2,q,u=this.width/2-.25,y=this.height/2,v=Math.PI/3,r=.5/Math.cos(v/2)*1.16,B=ViewConstants.he/4/Math.cos(v/2)*1.16,b=[],l=[],e=ViewConstants.Xa[3]+128,t=ViewConstants.Xa[4]+128,x=ViewConstants.Xa[5]+128,z=ViewConstants.Xa[6]+128,A=this.Hb,C=this.coords,G=this.Ja,D=f.j,I=f.A;var F=f.m;var E=f.B,H=this.height/2-this.wa-this.Xb+.5,N=this.width/2-this.Da-this.$b+.5-(this.height>>2)+H/2,K=this.zoom*this.xc,P=!this.jc&&
!this.ud;(this.T||this.fa)&&0!==(this.counter&1)&&(a=this.Ma);G.length!==k.Bc&&(this.coords=this.v.P(Float32,12*k.Bc,"Life.coords"),this.Ja=this.v.P(Uint32,k.Bc,"Life.cellColours"),C=this.coords,G=this.Ja);-1!==this.ya&&(0!==this.Ba?(D=Math.round((this.width-this.Ba)/2)-1,I=D+this.Ba-1+2):(D=0,I=this.width-1),0!==this.xa?(F=Math.round((this.height-this.xa)/2)-1,E=F+this.xa-1+2):(F=0,E=this.height-1));var J=v/2;for(f=0;5>=f;f+=1)b[f]=Math.cos(J)*B,l[f]=Math.sin(J)*r,b[f]+=l[f]/2,J+=v;v=b[0];r=l[0];
B=b[1];var T=l[1];var Y=b[2];var U=l[2];var M=b[3];var fa=l[3];var X=b[4];var ia=l[4];b=b[5];l=l[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(J=f=0;F<=E;F+=1){var na=(F+H-y)*K+m;if(na>=-K&&na<this.H+K){na=a[F];c&&(d=c[F]);var ba=F-y;var W=N-u-(ba+H)/2;for(q=D;q<=I;q+=1){var ca=(q+W)*K+n;if(ca>=-K&&ca<this.J+K){ca=na[q];if(d){var da=d[q];if(da===t||da===z)ca=ca>A?e:da;else if(da===e||da===x)ca=ca<A?t:da}0<ca&&(G[f]=(ca<<k.hi)+J,ca=q-u,C[J]=v+ca,C[J+1]=
r+ba,C[J+2]=B+ca,C[J+3]=T+ba,C[J+4]=Y+ca,C[J+5]=U+ba,C[J+6]=M+ca,C[J+7]=fa+ba,C[J+8]=X+ca,C[J+9]=ia+ba,C[J+10]=b+ca,C[J+11]=l+ba,J+=12,f+=1);f===k.Bc&&(this.ob=f,this.Zd(!0,P,!1,!1),this.ud&&!this.jc&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Qa[0]+","+this.Ra[0]+")",this.Zd(!1,!1,!1,!1)),J=f=0)}}}}this.ob=f;0<f&&(this.Zd(!0,P,!1,!1),this.ud&&!this.jc&&(this.context.strokeStyle="rgb("+this.Sa[0]+","+this.Qa[0]+","+this.Ra[0]+")",this.Zd(!1,!1,!1,!1)),J=0);if(this.jc){this.context.strokeStyle=
"rgb("+(this.Md>>16)+","+(this.Md>>8&255)+","+(this.Md&255)+")";this.context.lineWidth=1;f=0;E=m/K-H+y|0;for(F=-m/K-H+y|0;F<=E;F+=1)if(na=(F+H-y)*K+m,na>=-K&&na<this.H+K)for(ba=F-y,W=N-u-(ba+H)/2,D=-n/K-W-K|0,I=n/K-W+K|0,q=D;q<=I;q+=1)ca=(q+W)*K+n,ca>=-K&&ca<this.J+K&&(ca=q-u,C[J]=v+ca,C[J+1]=r+ba,C[J+2]=B+ca,C[J+3]=T+ba,C[J+4]=Y+ca,C[J+5]=U+ba,C[J+6]=M+ca,C[J+7]=fa+ba,J+=8,f+=1),f===k.Bc&&(this.ob=f,this.Zd(!1,!1,!0,!1),J=f=0);this.ob=f;0<f&&this.Zd(!1,!1,!0,!1)}};p.prototype.Zd=function(a,c,d,f){var n=
this.context,m=this.width/2-this.Da-this.$b,q=this.height/2-this.wa-this.Xb,u=this.zoom*this.xc,y=this.J/2,v=this.H/2,r=0,B=0,b=12,l=0,e=-1,t=this.coords,x=this.ob,z=this.Ja,A=(1<<k.hi)-1;m=m+q/2+-(this.height>>2)+.5;q+=.5;a&&!f&&z.sort&&(l=(k.Bc<<k.hi)+256,z.fill(l,x),z.sort());n.beginPath();a||(B=b=d?8:12,e=l=r=0);for(d=0;d<x;d+=1){a&&(l=z[d],r=l&A,B=r+b,l>>=k.hi);var C=t[r];var G=t[r+1];var D=G+q;var I=C+m-D/2;r+=2;D=D*u+v;I=I*u+y;var F=(t[r+1]-G)*u;var E=(t[r]-C)*u-F/2;r+=2;l!==e&&(e=l,0<d&&(a?
(c&&n.stroke(),n.fill()):n.stroke(),n.beginPath()),a&&!f&&(n.fillStyle=this.Oh[l],c&&(n.strokeStyle=this.Oh[l])));n.moveTo(I,D);for(n.lineTo(E+I,F+D);r<B;)F=(t[r+1]-G)*u,E=(t[r]-C)*u-F/2,r+=2,n.lineTo(E+I,F+D);B+=b}a?(c&&n.stroke(),n.fill()):n.stroke()};p.prototype.Wt=function(a,c,d,f,n,m,q){var u="",y=c.Ga?c.Nd:c.L,v=y.j,r=y.A,B=y.B,b=y.m,l=r-v+1,e=B-b+1;y=0;var t=[],x=this.ba,z=null;var A=(c.width>>1)-(a.hb>>1);var C=(c.height>>1)-(a.lb>>1),G=a.Eb;2>f&&(f=2);2>n&&(n=2);f===n&&this.Ga&&(n=f=7);a.xb&&
(v=G.j+A,b=G.m+C,r=G.A+A,B=G.B+C,v>r&&(A=v,v=r,r=A),b>B&&(A=b,b=B,B=A),l=r-v+1,e=B-b+1);c.R&&(0<v&&0!==(v&1)&&(--v,l+=1),0<b&&0!==(b&1)&&(--b,e+=1));c.ma&&(0<v&&0===(v&1)&&(--v,l+=1),0<b&&0===(b&1)&&(--b,e+=1));if(0===m.length)for(A=0;A<f;A+=1)m[A]=A;if(2>=n)t[0]="b",t[1]="o";else for(t[0]=".",A=0;A<n-1;A+=1)t[A+1]=24<=A?String.fromCharCode(112+(A/24|0)-1)+String.fromCharCode(65+A%24):String.fromCharCode(65+A);d&&(u+=c.Ac);0===this.qa&&(e=l=0,B=b-1);A=q&&""!==a.pd?a.pd:a.zb;"B3/S23History"===A&&(A=
"LifeHistory");u=u+("x = "+l+", y = "+e+", rule = "+A)+a.Gm;u+="\n";for(a=u.length;b<=B;){A=v;2>=f&&!this.fa?(z=x[b],l=z[A],n=l<=this.Le||l===this.Gb?0:1):n=c.getState(A,b,!1);q=1;for(A+=1;A<=r+1;)A>r?l=-1:2>=f&&!this.fa?(l=z[A],l=l<=this.Le||l===this.Gb?0:1):l=c.getState(A,b,!1),l!==n?((-1!==l||0!==n)&&0<y&&(1<y&&(u+=y),u+="$",69<=u.length-a&&(u+="\n",a=u.length),y=0),0<n?(1<q&&(u+=q),u+=t[m[n]]):A<=r&&(1<q&&(u+=q),u+=t[m[n]]),69<=u.length-a&&(u+="\n",a=u.length),q=1,n=l):q+=1,A+=1;y+=1;b+=1}u+=
"!\n";d&&(u+=c.pg);return u};p.prototype.yH=function(a,c,d,f){var n=this.eb,m=this.ha,q=this.ba,u=this.Ka,y=this.Ca,v=this.L,r=this.Nd;var B=!0;var b=this.R?1:0,l=this.R?14:15;if(a!==(a&this.Fb)||c!==(c&this.Jb)){for(B=!1;this.width<this.ka&&(a!==(a&this.Fb)||c!==(c&this.Jb));)this.pr(),a+=this.width>>2,c+=this.height>>2;a===(a&this.Fb)&&c===(c&this.Jb)&&(B=!0,n=this.eb,m=this.ha,q=this.ba,u=this.Ka,y=this.Ca)}if(B){0!==(this.counter&1)&&(n=this.Sb,m=this.oa);B=1<<(~a&15);var e=1<<(~(a>>4)&15);1===
(d&1)?(this.da=1,0===(n[c][a>>4]&B)&&(this.qa+=1),q[c][a]=this.Qd?(a+c&127)+64:this.Hb,u[c>>4][a>>8]|=e,y[c>>4][a>>8]|=e,n[c][a>>4]|=B,m[c>>4][a>>8]|=e,f=a&15,0<a&&f<=b?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),0<c&&0===(c&15)?(--c,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=b?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),c+=1):c<this.height-1&&15===(c&15)&&
(c+=1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=b?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),--c)):(0!==(n[c][a>>4]&B)&&--this.qa,q[c][a]=f?this.fb:this.Le,u[c>>4][a>>8]|=e,y[c>>4][a>>8]|=e,n[c][a>>4]&=~B);0<d&&(a<v.j&&(v.j=a),a>v.A&&(v.A=a),c<v.m&&(v.m=c),c>v.B&&(v.B=c),a<r.j&&(r.j=a),a>r.A&&(r.A=a),c<r.m&&(r.m=c),c>r.B&&(r.B=c),a===v.j||a===v.A||c===v.B||c===v.m)&&(this.fh=!0)}return 0};p.prototype.zH=function(a,c,d,f){var n=
this.eb,m=this.ha,q=this.ba,u=this.Ka,y=this.Ca,v=this.ec,r=this.L,B=this.Nd;var b=!0;var l=0,e=this.R?1:0,t=this.R?14:15;if(a!==(a&this.Fb)||c!==(c&this.Jb)){for(b=!1;this.width<this.ka&&(a!==(a&this.Fb)||c!==(c&this.Jb));)this.pr(),a+=this.width>>2,c+=this.height>>2;a===(a&this.Fb)&&c===(c&this.Jb)&&(b=!0,n=this.eb,m=this.ha,q=this.ba,u=this.Ka,y=this.Ca,v=this.ec)}if(b){0!==(this.counter&1)&&(n=this.Sb,m=this.oa);b=1<<(~a&15);var x=1<<(~(a>>4)&15);1===(d&1)?(this.da=1,0===(n[c][a>>4]&b)&&(this.qa+=
1),q[c][a]=this.Hb,u[c>>4][a>>8]|=x,y[c>>4][a>>8]|=x,n[c][a>>4]|=b,m[c>>4][a>>8]|=x,f=a&15,0<a&&f<=e?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=t&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),0<c&&0===(c&15)?(--c,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=e?(a-=f+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=t&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=e?(a-=f+1,m[c>>4][a>>
8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=t&&(a+=16-f,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),--c)):(0!==(n[c][a>>4]&b)&&--this.qa,q[c][a]=f?this.fb:this.Le,u[c>>4][a>>8]|=x,y[c>>4][a>>8]|=x,n[c][a>>4]&=~b);if(v){m=v[c][a];0<m&&(m=ViewConstants.Xa.indexOf(m-128));if(6===d&&6!==m||6!==d&&6===m)l=1;2===d&&(q[c][a]=k.Tk);v[c][a]=0===d?0:ViewConstants.Xa[d]+128}0<d&&(a<r.j&&(r.j=a),a>r.A&&(r.A=a),c<r.m&&(r.m=c),c>r.B&&(r.B=c),a<B.j&&(B.j=a),a>B.A&&(B.A=a),c<B.m&&(B.m=c),c>B.B&&(B.B=c),a===r.j||a===
r.A||c===r.B||c===r.m)&&(this.fh=!0)}return l};p.prototype.Kt=function(a,c,d,f){var n=this.eb,m=this.ha,q=this.ba,u=this.Ka,y=this.Ca,v=this.ec,r=this.L,B=this.Oa,b=this.Nd,l=0,e=this.ma?-1:0;var t=Math.round((this.width-this.Ba)/2)+e;var x=Math.round((this.height-this.xa)/2)+e,z=t+this.Ba-1,A=x+this.xa-1,C=!0;e=0;var G=this.R?1:0,D=this.R?14:15;(this.N||this.fa||this.T)&&0!==(this.counter&1)&&(q=this.Ma);-1!==this.ya&&(0===this.Ba&&(t=0,z=this.width-1),0===this.xa&&(x=0,A=this.height-1));if(a!==
(a&this.Fb)||c!==(c&this.Jb)){for(C=!1;this.width<this.ka&&(a!==(a&this.Fb)||c!==(c&this.Jb));)this.pr(),a+=this.width>>2,c+=this.height>>2;a===(a&this.Fb)&&c===(c&this.Jb)&&(C=!0,n=this.eb,m=this.ha,q=this.ba,u=this.Ka,y=this.Ca,v=this.ec)}if(C&&(-1===this.ya||a>=t&&a<=z&&c>=x&&c<=A)){if(this.N||this.fa)n=q[c][a],q[c][a]=f&&0===d?0:this.O+d,y[c>>4][a>>8]=65535,this.fa&&(0!==(this.counter&1)&&(m=this.oa),l=1<<(~(a>>4)&15)),0===d?n>this.O&&(this.N?this.qa-=this.Tf[n-this.O]:--this.qa):(this.da=1,this.N?
(n<=this.O||(this.qa-=this.Tf[n-this.O]),this.qa+=this.Tf[d]):(m[c>>4][a>>8]|=l,0===n&&(this.qa+=1),u=a&15,0<a&&u<=G?(a-=u+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=D&&(a+=16-u,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),0<c&&0===(c&15)?(--c,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=G?(a-=u+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=D&&(a+=16-u,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=G?(a-=
u+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=D&&(a+=16-u,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),--c)));else if(0!==(this.counter&1)&&(n=this.Sb,m=this.oa),t=1<<(~a&15),l=1<<(~(a>>4)&15),this.sa)n=q[c][a],2===this.i?(m=this.Hb,1===d&&(d=this.Hb,this.da=1)):(m=this.i-1+this.O,0<d&&(d=this.O+d,this.da=1)),q[c][a]=d,u[c>>4][a>>8]|=l,y[c>>4][a>>8]|=l,n!==m&&d===m?this.qa+=1:n===m&&d!==m&&--this.qa;else{(x=2>=this.i||this.T?1===(d&1):d===this.i-1)?(this.da=1,0===(n[c][a>>4]&t)&&(this.qa+=
1),q[c][a]=this.Hb,u[c>>4][a>>8]|=l,y[c>>4][a>>8]|=l,n[c][a>>4]|=t,m[c>>4][a>>8]|=l,u=a&15,0<a&&u<=G?(a-=u+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=D&&(a+=16-u,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),0<c&&0===(c&15)?(--c,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=G?(a-=u+1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=D&&(a+=16-u,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,m[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&u<=G?(a-=u+1,m[c>>4][a>>
8]|=1<<(~(a>>4)&15),a+=u+1):a<this.width-1&&u>=D&&(a+=16-u,m[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-u),--c)):(0!==(n[c][a>>4]&t)&&--this.qa,q[c][a]=f?this.fb:this.Le,u[c>>4][a>>8]|=l,y[c>>4][a>>8]|=l,n[c][a>>4]&=~t);if(this.Ga&&v){n=v[c][a];0<n&&(n=ViewConstants.Xa.indexOf(n-128));if(6===d&&6!==n||6!==d&&6===n)e=1;2===d?q[c][a]=k.Tk:v[c][a]=0===d?0:ViewConstants.Xa[d]+128}2<this.i&&(0<d&&(d=this.O+d),q[c][a]=d)}if(0<d)a<r.j&&(r.j=a),a>r.A&&(r.A=a),c<r.m&&(r.m=c),c>r.B&&(r.B=c),a<b.j&&(b.j=a),a>b.A&&(b.A=
a),c<b.m&&(b.m=c),c>b.B&&(b.B=c),this.sa&&d===this.i-1+this.O&&(a<B.j&&(B.j=a),a>B.A&&(B.A=a),c<B.m&&(B.m=c),c>B.B&&(B.B=c));else if(a===r.j||a===r.A||c===r.B||c===r.m)this.fh=!0}return e};p.prototype.getState=function(a,c,d){switch(this.Mt){case k.Mz:return this.yt(a,c,d);case k.Oz:return this.yt(a,c,!0);case k.Nz:return this.jx(a,c,d);default:return this.nx(a,c,d)}};p.prototype.Fj=function(a,c,d,f){switch(this.Mt){case k.Mz:return this.yH(a,c,d,f);case k.Oz:return this.Kt(a,c,d,f);case k.Nz:return this.zH(a,
c,d,f);default:return this.Kt(a,c,d,f)}};p.prototype.gN=function(){this.Mt=-1!==this.i||-1!==this.ya||this.Pa?this.fa&&2===this.i?k.Oz:k.gL:this.Ga?k.Nz:k.Mz};p.prototype.bI=function(a){var c=1<<k.wj;a?(this.pc=Array.ga(Uint32,1,c,0,this.v,"Life.popGraphData"),this.Lh=Array.ga(Uint32,1,c,0,this.v,"Life.birthGraphData"),this.Th=Array.ga(Uint32,1,c,0,this.v,"Life.deathGraphData"),this.ai=c):(this.pc=Array.ga(Uint32,0,0,0,this.v,"Life.popGraphData"),this.Lh=Array.ga(Uint32,0,0,0,this.v,"Life.birthGraphData"),
this.Th=Array.ga(Uint32,0,0,0,this.v,"Life.deathGraphData"),this.ai=0)};p.prototype.yt=function(a,c,d){var f=0;a===(a&this.Fb)&&c===(c&this.Jb)&&(a=this.ba[c][a],d?f=a:f=a<=this.Le?0:1);return f};p.prototype.jx=function(a,c,d){var f=0,n=ViewConstants.Xa[3]+128,m=ViewConstants.Xa[4]+128,q=ViewConstants.Xa[5]+128,u=ViewConstants.Xa[6]+128;a===(a&this.Fb)&&c===(c&this.Jb)&&(f=this.ba[c][a],d||(this.ec?(a=this.ec[c][a],a===m||a===u?(f>=this.Hb&&(a=n),f=ViewConstants.Xa.indexOf(a-128)):a===n||a===q?(f<
this.Hb&&(a=m),f=ViewConstants.Xa.indexOf(a-128)):f=f===this.fb?0:f<=this.Le?2:1):f=f<=this.Le?0:1));return f};p.prototype.nx=function(a,c,d){var f=0,n=ViewConstants.Xa[3]+128,m=ViewConstants.Xa[4]+128,q=ViewConstants.Xa[5]+128,u=ViewConstants.Xa[6]+128,y=this.ma?-1:0,v=Math.round((this.width-this.Ba)/2)+y;y=Math.round((this.height-this.xa)/2)+y;var r=v+this.Ba-1,B=y+this.xa-1,b=this.ba;(this.N||this.fa||this.T)&&0!==(this.counter&1)&&(b=this.Ma);a===(a&this.Fb)&&c===(c&this.Jb)&&(f=b[c][a],d||2<
this.i?2<this.i&&0<f&&!this.Pa&&(f<=this.O?f=0:(-1!==this.ya&&(0===this.Ba&&(v=0,r=this.width-1),0===this.xa&&(y=0,B=this.height-1)),f=-1===this.ya||f!==this.Gb||a>=v&&a<=r&&c>=y&&c<=B?this.N||this.fa||this.T?f-this.O:this.i+this.O-f:0)):this.ec?-1===this.ya||f!==this.Gb||a>=v&&a<=r&&c>=y&&c<=B?(a=this.ec[c][a],a===m||a===u?(f>=this.Hb&&(a=n),f=ViewConstants.Xa.indexOf(a-128)):a===n||a===q?(f<this.Hb&&(a=m),f=ViewConstants.Xa.indexOf(a-128)):f=f===this.fb?0:f<=this.Le?2:1):f=0:f=f<=this.Le||f===this.Gb?
0:1);return f};p.prototype.Jo=function(a){var c,d,f,n=a.length,m=a[0].length,q=this.Tf,u=0;for(c=0;c<n;c+=1){var y=a[c];for(d=0;d<m;d+=1)(f=y[d])&&(u+=q[f])}return u};p.prototype.Sj=function(a,c){var d=a.Xf,f=d.length,n=!1;if(this.ma||this.N)for(this.bd=this.cd=!1,a=0;!n&&a<f;){var m=d[a];m.Bh<c?("reverse playback"===m.action&&(this.bd=!this.bd),a+=1):m.Bh>c?n=!0:"reverse playback"===m.action?n=this.cd=!0:a+=1}};p.prototype.Es=function(a,c,d,f){var n=this.Kg.Ue.length,m=null;a<this.counter&&(m=this.Kg.jN(a),
n!==this.Kg.Ue.length&&(this.bo-=k.Ls*(n-this.Kg.Ue.length)));m&&(this.Ft(m),f.rj());for(;this.counter<a-1;)this.da?(this.Sj(f,this.counter),this.qf(!1,!0,d,f.dc),0===this.da&&2<this.i||this.Ke(),0===this.da&&2>=this.i&&(this.da=1,this.Sj(f,this.counter),this.qf(!1,!1,d,f.dc),this.da=0,--this.counter)):(this.counter+=1,this.Ke()),f.rj();this.counter<a?(this.da?(this.Sj(f,this.counter),this.qf(c,!0,d,f.dc),0===this.da&&2<this.i||this.Ke(),0===this.da&&2>=this.i&&(this.da=1,this.Sj(f,this.counter),
this.qf(!1,!1,d,f.dc),this.da=0,--this.counter)):(this.counter+=1,this.Ke()),f.rj()):-1===this.i&&this.Ke();f.mk&&(this.da=1)};p.prototype.Ft=function(a){var c=this.ba;this.counter=a.counter;this.Wf=a.Wf;this.mj=a.mj;if(0!==(this.counter&1)){var d=this.Dg;var f=this.jd;var n=this.oa;var m=this.ha}else d=this.jd,f=this.Dg,n=this.ha,m=this.oa;d.jb.fill(0);f.jb.fill(0);this.ba.jb.fill(0);(this.N||this.fa||this.T)&&this.Ma.jb.fill(0);this.Ec.jb.fill(0);Array.Zi(this.Ca,this.Ka);a.AM(d,n,this);a.zM(c,
this.Ca,this);(this.N||this.fa||this.T)&&Array.Zi(c,this.Ma);Array.Zi(n,m);Array.Zi(d,f);this.L.j=a.L.j;this.L.m=a.L.m;this.L.A=a.L.A;this.L.B=a.L.B;this.Oa.j=a.Oa.j;this.Oa.m=a.Oa.m;this.Oa.A=a.Oa.A;this.Oa.B=a.Oa.B;this.qa=a.qa;this.Pb=a.Pb;this.cc=a.cc;this.da=a.da};p.prototype.Fs=function(){if(0!==(this.counter&1)){var a=this.Dg;var c=this.oa}else a=this.jd,c=this.ha;this.It(!1,a,c)};p.prototype.nw=function(a){this.Ft(this.xH);this.Kg.reset();this.bo=k.Ls;a||this.Fs()};p.prototype.It=function(a,
c,d){var f=this.ba;(this.N||this.fa||this.T)&&0!==(this.counter&1)&&(f=this.Ma);this.Kg.Fs(c,d,f,this.Ca,this.ec,this.L,this.Oa,this.qa,this.Pb,this.cc,this.counter,this.Wf,this.mj,(this.ta-1>>4)+1,this.va,this,a,this.da)};p.prototype.NM=function(a){this.Kg.reset();this.It(!0,this.jd,this.ha);a||this.Fs()};p.prototype.sM=function(a,c){var d=this.ec,f=this.Ve;this.width=a;this.height=c;this.sa&&this.Ia.resize(this.width,this.height);this.jd=Array.ga(Uint8,this.height,(this.width-1>>3)+1,0,this.v,"Life.grid");
this.Dg=Array.ga(Uint8,this.height,(this.width-1>>3)+1,0,this.v,"Life.nextGrid");this.eb=Array.Kc(Uint16,this.jd,"Life.grid16");this.Sb=Array.Kc(Uint16,this.Dg,"Life.nextGrid16");f&&(this.Ve=Array.ga(Uint16,this.height,(this.width-1>>4)+1,0,this.v,"Life.state6Mask"),this.Jj=Array.ga(Uint16,this.height,(this.width-1>>4)+1,0,this.v,"Life.state6Alive"),this.Fi=Array.ga(Uint16,this.height,(this.width-1>>4)+1,0,this.v,"Life.state6Cells"));this.ta=this.width>>4;this.va=this.height>>4;f&&(this.Of=Array.ga(Uint16,
this.va,(this.ta-1>>4)+1,0,this.v,"Life.state6TileGrid"));this.ha=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.tileGrid");this.oa=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.nextTileGrid");this.Ka=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.colourTileGrid");this.Ca=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.colourTileHistoryGrid");this.gf=this.v.P(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Iq=this.v.P(Uint16,(this.width-1>>4)+1,"Life.blankRow16");
this.td=this.v.P(Uint16,this.ta>>4,"Life.blankTileRow");this.Oc=this.v.P(Uint8,this.width,"Life.blankColourRow");this.ja=this.v.P(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.bb=this.v.P(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ba=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.colourGrid");this.N||this.fa||this.T?(this.Ma=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.nextColourGrid"),this.Zh=Array.Kc(Uint16,this.Ma,"Life.nextColourGrid16"),this.ua=
Array.Kc(Uint32,this.Ma,"Life.nextColourGrid32")):this.ua=this.Zh=this.Ma=null;this.Ec=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.smallColourGrid");this.ik=Array.Kc(Uint16,this.ba,"Life.colourGrid16");this.be=Array.Kc(Uint32,this.ba,"Life.colourGrid32");d&&(this.ec=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.overlayGrid"),this.De=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.smallOverlayGrid"),this.jo=Array.Kc(Uint16,this.ec,"Life.overlayGrid16"),this.jl=
Array.Kc(Uint32,this.ec,"Life.overlayGrid32"));this.Fb=this.width-1;this.Jb=this.height-1;this.Kg.fG((this.ta-1>>4)+1,this.va,0)};p.prototype.cI=function(){this.height=this.width=1024;this.jd=Array.ga(Uint8,this.height,(this.width-1>>3)+1,0,this.v,"Life.grid");this.Dg=Array.ga(Uint8,this.height,(this.width-1>>3)+1,0,this.v,"Life.nextGrid");this.eb=Array.Kc(Uint16,this.jd,"Life.grid16");this.Sb=Array.Kc(Uint16,this.Dg,"Life.nextGrid16");this.ta=this.width>>4;this.va=this.height>>4;this.Of&&this.HD();
this.ha=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.tileGrid");this.oa=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.nextTileGrid");this.Ka=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.colourTileGrid");this.Ca=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.colourTileHistoryGrid");this.gf=this.v.P(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Iq=this.v.P(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.td=this.v.P(Uint16,this.ta>>4,"Life.blankTileRow");
this.Oc=this.v.P(Uint8,this.width,"Life.blankColourRow");this.ja=this.v.P(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.bb=this.v.P(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.ba=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.colourGrid");this.ik=Array.Kc(Uint16,this.ba,"Life.colourGrid16");this.be=Array.Kc(Uint32,this.ba,"Life.colourGrid32");this.N||this.fa||this.T?(this.Ma=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.nextColourGrid"),this.Zh=Array.Kc(Uint16,
this.Ma,"Life.nextColourGrid16"),this.ua=Array.Kc(Uint32,this.Ma,"Life.nextColourGrid32")):this.ua=this.Zh=this.Ma=null;this.Ec=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.smallColourGrid");this.ec&&this.BD();this.Fb=this.width-1;this.Jb=this.height-1};p.prototype.pr=function(){var a=this.jd,c=this.Dg,d=this.ba,f=this.Ma,n=this.Ec,m=this.ec,q=this.De,u=this.Ve,y=this.Jj,v=this.Fi,r=this.Rk,B=this.eg,b=this.Of,l=this.ha,e=this.oa,t=this.Ka,x=this.Ca,z=this.height,A=this.va,C=this.width>>
1,G=this.height>>1,D;if(this.width<this.ka){this.width*=2;this.height*=2;this.sa&&this.Ia.resize(this.width,this.height);this.jd=Array.ga(Uint8,this.height,(this.width-1>>3)+1,0,this.v,"Life.grid");this.Dg=Array.ga(Uint8,this.height,(this.width-1>>3)+1,0,this.v,"Life.nextGrid");this.eb=Array.Kc(Uint16,this.jd,"Life.grid16");this.Sb=Array.Kc(Uint16,this.Dg,"Life.nextGrid16");u&&(this.Ve=Array.ga(Uint16,this.height,(this.width-1>>4)+1,0,this.v,"Life.state6Mask"),this.Jj=Array.ga(Uint16,this.height,
(this.width-1>>4)+1,0,this.v,"Life.state6Alive"),this.Fi=Array.ga(Uint16,this.height,(this.width-1>>4)+1,0,this.v,"Life.state6Cells"));this.ta=this.width>>4;this.va=this.height>>4;u&&(this.Of=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.state6TileGrid"));this.ha=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.tileGrid");this.oa=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.nextTileGrid");this.Ka=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.colourTileGrid");
this.Ca=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.colourTileHistoryGrid");this.gf=this.v.P(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.Iq=this.v.P(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.td=this.v.P(Uint16,this.ta>>4,"Life.blankTileRow");this.Oc=this.v.P(Uint8,this.width,"Life.blankColourRow");this.ja=this.v.P(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.bb=this.v.P(Uint16,(this.width-1>>4)+1,"Life.rowOccupied16");r&&(this.Rk=Array.ga(Uint8,this.height,this.width,
k.Ml,this.v,"Life.countList"));B&&(this.eg=Array.ga(Uint8,this.height,this.width,0,this.v,"Life.initList"));this.ba=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.colourGrid");this.Ec=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.smallColourGrid");this.ik=Array.Kc(Uint16,this.ba,"Life.colourGrid16");this.be=Array.Kc(Uint32,this.ba,"Life.colourGrid32");this.N||this.fa||this.T?(this.Ma=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.nextColourGrid"),this.Zh=Array.Kc(Uint16,
this.Ma,"Life.nextColourGrid16"),this.ua=Array.Kc(Uint32,this.Ma,"Life.nextColourGrid32")):this.ua=this.Zh=this.Ma=null;m&&(this.ec=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.overlayGrid"),this.De=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.smallOverlayGrid"),this.jo=Array.Kc(Uint16,this.ec,"Life.overlayGrid16"),this.jl=Array.Kc(Uint32,this.ec,"Life.overlayGrid32"));this.Fb=this.width-1;this.Jb=this.height-1;for(D=0;D<z;D+=1)this.jd[D+G].set(a[D],C>>3),this.Dg[D+G].set(c[D],
C>>3),this.ba[D+G].set(d[D],C),this.Ec[D+G].set(n[D],C),(this.N||this.fa||this.T)&&this.Ma[D+G].set(f[D],C),this.Rk&&this.Rk[D+G].set(r[D],C),this.eg&&this.eg[D+G].set(B[D],C),m&&q&&(this.ec[D+G].set(m[D],C),this.De[D+G].set(q[D],C)),u&&y&&v&&(this.Ve[D+G].set(u[D],C>>4),this.Jj[D+G].set(y[D],C>>4),this.Fi[D+G].set(v[D],C>>4));G=A>>1;for(D=0;D<A;D+=1)b&&this.Of[D+G].set(b[D],this.Of[D].length>>2),this.ha[D+G].set(l[D],this.ha[D].length>>2),this.oa[D+G].set(e[D],this.oa[D].length>>2),this.Ka[D+G].set(t[D],
this.Ka[D].length>>2),this.Ca[D+G].set(x[D],this.Ca[D].length>>2);C=this.width>>2;G=this.height>>2;this.Kg.fG((this.ta-1>>4)+1,this.va,C);this.Da+=C;this.wa+=G;this.S&&(this.Da-=G/2|0);this.L.j+=C;this.L.A+=C;this.L.B+=G;this.L.m+=G;this.Oa.j+=C;this.Oa.A+=C;this.Oa.B+=G;this.Oa.m+=G;this.Kf.j+=C;this.Kf.A+=C;this.Kf.B+=G;this.Kf.m+=G;this.Nd.j+=C;this.Nd.A+=C;this.Nd.B+=G;this.Nd.m+=G;if(0<this.Wa)for(D=0;D<this.Wa;D+=1)c=this.Vb[(D<<1)+1],a=(c>>16)+C,c=(c&65535)+G,this.Vb[(D<<1)+1]=a<<16|c}};p.prototype.vI=
function(a,c){var d=this.width,f=this.height,n=!1;d<this.ka&&this.da&&(a.j<=c||a.m<=c||a.A>=d-c||a.B>=f-c)&&(this.pr(),n=!0);return n};p.prototype.rx=function(){var a,c=this.xt;for(a=0;65536>a;a+=1){var d=a;var f=0;65535<d&&(d>>=16,f+=16);255<d&&(d>>=8,f+=8);15<d&&(d>>=4,f+=4);3<d&&(d>>=2,f+=2);f+=d>>1;c[a]=f}};p.prototype.px=function(){var a,c,d=this.Tf;for(a=0;65536>a;a+=1){var f=a;for(c=0;f;c+=1)f&=f-1;d[a]=c}};p.prototype.qx=function(){var a,c,d=this.ot,f=this.Hb;for(a=0;256>a;a+=1)for(c=0;8>
c;c+=1)d[(a<<3)+c]=a&1<<7-c?f:0};p.prototype.uM=function(a,c){var d,f=0,n=this.Tf;var m=this.L;var q=m.j,u=m.A,y=m.B;m=m.m;if(this.sa||this.N||this.fa)for(;m<=y;m+=1){var v=c[m];for(d=q;d<=u;d+=1)a=v[d],0<a&&(f=this.N?f+n[a-this.O]:f+1)}else for(q>>=4,u>>=4;m<=y;m+=1)for(v=a[m],d=q;d<=u;d+=1)c=n[v[d]],f+=c;this.qa=f;this.cc=this.Pb=0};p.prototype.eG=function(a,c){var d=this.context;var f=this.fe?4278190080:255;this.J=a;this.H=c;this.Ok=this.ce=this.Xc=null;this.Xc=d.createImageData(d.canvas.width,
d.canvas.height);this.Xc.data.buffer?this.ce=new Uint32Array(this.Xc.data.buffer):(this.ce=new Uint32Array(this.Xc.data.length>>2),this.Ok=new Uint8Array(this.ce.buffer));this.Mk=this.v.P(Uint32,a,"Life.blankPixelRow");for(c=0;c<a;c+=1)this.Mk[c]=f;this.py(f);this.hz()};p.prototype.QI=function(a,c,d){var f,n,m=this.ba,q=a.width,u=a.height,y=this.Fb,v=this.Jb,r=this.Tk,B=ViewConstants.Xa[2];for(n=0;n<u;n+=1){var b=a.Zg[n];var l=m[n+d&v];for(f=0;f<q;f+=1)b[f]===B&&(l[f+c&y]=r)}};p.prototype.PJ=function(){this.jl=
this.jo=this.De=this.ec=null};p.prototype.BD=function(){this.ec=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.overlayGrid");this.De=Array.ga(Uint8,this.height,this.width,this.fb,this.v,"Life.smallOverlayGrid");Array.Fz(this.De,1,"Life.smallOverlayGrid4");Array.Fz(this.De,3,"Life.smallOverlayGrid8");Array.Fz(this.De,7,"Life.smallOverlayGrid16");this.jo=Array.Kc(Uint16,this.ec,"Life.overlayGrid16");this.jl=Array.Kc(Uint32,this.ec,"Life.overlayGrid32")};p.prototype.QJ=function(){this.Of=
this.Fi=this.Jj=this.Ve=null};p.prototype.HD=function(){this.Ve=Array.ga(Uint16,this.height,(this.width-1>>4)+1,0,this.v,"Life.state6Mask");this.Jj=Array.ga(Uint16,this.height,(this.width-1>>4)+1,0,this.v,"Life.state6Alive");this.Fi=Array.ga(Uint16,this.height,(this.width-1>>4)+1,0,this.v,"Life.state6Cells");this.Of=Array.ga(Uint16,this.va,(this.ta-1>>4)+1,0,this.v,"Life.state6TileGrid")};p.prototype.po=function(){var a,c,d=this.Fb,f=this.Jb,n=this.Of,m=this.T?6:ViewConstants.Xa[6]+128,q=this.T?this.ba:
this.ec;this.Ve.jb.fill(0);this.Fi.jb.fill(0);this.Jj.jb.fill(0);this.Of.jb.fill(0);for(c=1;c<this.height-1;c+=1){var u=q[c];var y=this.Ve[c-1&f];var v=this.Ve[c&f];var r=this.Ve[c+1&f];var B=this.Fi[c&f];var b=n[(c-1&f)>>4];var l=n[(c&f)>>4];var e=n[(c+1&f)>>4];for(a=1;a<=this.width-1;a+=1)if(u[a]===m){var t=a&d;B[t>>4]|=1<<(~t&15);y[t>>4]|=1<<(~t&15);v[t>>4]|=1<<(~t&15);r[t>>4]|=1<<(~t&15);b[t>>8]|=1<<(~(t>>4)&15);l[t>>8]|=1<<(~(t>>4)&15);e[t>>8]|=1<<(~(t>>4)&15);t=a-1&d;y[t>>4]|=1<<(~t&15);v[t>>
4]|=1<<(~t&15);r[t>>4]|=1<<(~t&15);b[t>>8]|=1<<(~(t>>4)&15);l[t>>8]|=1<<(~(t>>4)&15);e[t>>8]|=1<<(~(t>>4)&15);t=a+1&d;y[t>>4]|=1<<(~t&15);v[t>>4]|=1<<(~t&15);r[t>>4]|=1<<(~t&15);b[t>>8]|=1<<(~(t>>4)&15);l[t>>8]|=1<<(~(t>>4)&15);e[t>>8]|=1<<(~(t>>4)&15)}}};p.prototype.ML=function(a,c,d){var f,n,m=a.width,q=a.height,u=this.Fb,y=this.Jb,v=this.Of;for(n=0;n<q;n+=1){var r=a.Zg[n];var B=this.Ve[n-1+d&y];var b=this.Ve[n+d&y];var l=this.Ve[n+1+d&y];var e=this.Fi[n+d&y];var t=v[(n-1+d&y)>>4];var x=v[(n+d&
y)>>4];var z=v[(n+1+d&y)>>4];for(f=0;f<m;f+=1)if(6===r[f]){var A=f+c&u;e[A>>4]|=1<<(~A&15);B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);t[A>>8]|=1<<(~(A>>4)&15);x[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=f-1+c&u;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);t[A>>8]|=1<<(~(A>>4)&15);x[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<(~(A>>4)&15);A=f+1+c&u;B[A>>4]|=1<<(~A&15);b[A>>4]|=1<<(~A&15);l[A>>4]|=1<<(~A&15);t[A>>8]|=1<<(~(A>>4)&15);x[A>>8]|=1<<(~(A>>4)&15);z[A>>8]|=1<<
(~(A>>4)&15)}}};p.prototype.lw=function(a){this.Qd?this.wH(a):this.vH(a)};p.prototype.wH=function(a){var c,d=this.ba;var f=this.L;var n=f.j>>4,m=f.A>>4,q=f.B;for(c=f.m;c<=q;c+=1){var u=a[c];var y=d[c];var v=n<<4;for(f=n;f<=m;f+=1){var r=u[f]>>8;y[v]=r&128?(c+v&127)+64:0;v+=1;y[v]=r&64?(c+v&127)+64:0;v+=1;y[v]=r&32?(c+v&127)+64:0;v+=1;y[v]=r&16?(c+v&127)+64:0;v+=1;y[v]=r&8?(c+v&127)+64:0;v+=1;y[v]=r&4?(c+v&127)+64:0;v+=1;y[v]=r&2?(c+v&127)+64:0;v+=1;y[v]=r&1?(c+v&127)+64:0;v+=1;r=u[f]&255;y[v]=r&128?
(c+v&127)+64:0;v+=1;y[v]=r&64?(c+v&127)+64:0;v+=1;y[v]=r&32?(c+v&127)+64:0;v+=1;y[v]=r&16?(c+v&127)+64:0;v+=1;y[v]=r&8?(c+v&127)+64:0;v+=1;y[v]=r&4?(c+v&127)+64:0;v+=1;y[v]=r&2?(c+v&127)+64:0;v+=1;y[v]=r&1?(c+v&127)+64:0;v+=1}}};p.prototype.vH=function(a){var c,d=this.ba,f=this.ot;var n=this.L;var m=n.j>>4,q=n.A>>4,u=n.B;n=n.m;if(!this.N&&!this.fa)for(c=n;c<=u;c+=1){var y=a[c];var v=d[c];var r=m<<4;for(n=m;n<=q;n+=1){var B=y[n]>>8<<3;v[r]=f[B];r+=1;v[r]=f[B+1];r+=1;v[r]=f[B+2];r+=1;v[r]=f[B+3];r+=
1;v[r]=f[B+4];r+=1;v[r]=f[B+5];r+=1;v[r]=f[B+6];r+=1;v[r]=f[B+7];r+=1;B=(y[n]&255)<<3;v[r]=f[B];r+=1;v[r]=f[B+1];r+=1;v[r]=f[B+2];r+=1;v[r]=f[B+3];r+=1;v[r]=f[B+4];r+=1;v[r]=f[B+5];r+=1;v[r]=f[B+6];r+=1;v[r]=f[B+7];r+=1}}};p.prototype.Bb=function(a){var c=[],d,f;for(f=0;7>f;f+=1){var n=[];for(d=0;7>d;d+=1)n[d]=0;c[f]=n}for(f=0;3>f;f+=1)for(d=0;3>d;d+=1)c[f+2][d+2]=a[f][d];return c};p.prototype.Hz=function(){this.am=this.Bb(k.cK);this.cm=this.Bb(k.dK);this.em=this.Bb(k.eK);this.hm=this.Bb(k.fK);this.Al=
this.Bb(k.ZJ);this.Cl=this.Bb(k.$J);this.Hl=this.Bb(k.aK);this.Ll=this.Bb(k.bK);this.Yn=this.Bb(k.kK);this.$n=this.Bb(k.lK);this.io=this.Bb(k.mK);this.oo=this.Bb(k.nK);this.lm=this.Bb(k.gK);this.om=this.Bb(k.hK);this.pm=this.Bb(k.iK);this.Wn=this.Bb(k.jK)};p.prototype.CK=function(a,c,d){var f=this.fb,n=this.gf,m=this.Oc,q=this.Mk,u=this.td;var y=this.fe?4278190080:255;this.dj=!1;this.Fb=this.width-1;this.Jb=this.height-1;this.L=new BoundingBox(0,0,this.width-1,this.height-1);this.Oa=new BoundingBox(0,
0,this.width-1,this.height-1);this.Kf=new BoundingBox(0,0,this.width-1,this.height-1);this.Nd=new BoundingBox(0,0,this.width-1,this.height-1);new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.qx();this.eG(c,d);n.fill(0);m.fill(f);u.fill(0);q.fill(y);this.Hz()};p.prototype.VI=function(){var a=0;this.nb[a]=new w("Mono",new h(new g(0,0,0),new g(0,0,0)),new h(new g(255,255,255),new g(255,255,255)),new g(0,0,0),new g(255,255,255),new h(new g(0,0,0),new g(-1,-1,-1)),new h(new g(0,0,0),
new g(0,0,0)),new g(0,0,0));a+=1;this.nb[a]=new w("Blues",new h(new g(0,0,47),new g(0,0,255)),new h(new g(0,255,255),new g(255,255,255)),new g(0,0,0),new g(0,255,255),new h(new g(0,0,255),new g(-1,-1,-1)),new h(new g(0,0,47),new g(0,0,128)),new g(0,0,0));a+=1;this.nb[a]=new w("Fire",new h(new g(32,0,0),new g(160,0,0)),new h(new g(255,144,0),new g(255,255,0)),new g(0,0,0),new g(255,144,0),new h(new g(240,0,0),new g(-1,-1,-1)),new h(new g(32,0,0),new g(160,0,0)),new g(0,0,0));a+=1;this.nb[a]=new w("Poison",
new h(new g(0,24,0),new g(0,128,0)),new h(new g(0,255,255),new g(255,255,255)),new g(0,0,0),new g(0,255,255),new h(new g(0,192,0),new g(-1,-1,-1)),new h(new g(0,24,0),new g(0,128,0)),new g(0,0,0));a+=1;this.nb[a]=new w("Yellow",new h(new g(0,47,0),new g(128,0,128)),new h(new g(255,255,0),new g(255,255,255)),new g(0,32,128),new g(255,255,0),new h(new g(192,64,64),new g(-1,-1,-1)),new h(new g(0,47,0),new g(128,0,128)),new g(0,32,128));a+=1;this.nb[a]=new w("Gray",new h(new g(16,16,16),new g(104,104,
104)),new h(new g(176,176,176),new g(240,240,240)),new g(0,0,0),new g(240,240,240),new h(new g(160,160,160),new g(-1,-1,-1)),new h(new g(16,16,16),new g(104,104,104)),new g(0,0,0));a+=1;this.nb[a]=new w("Inverse",new h(new g(255,255,255),new g(255,255,255)),new h(new g(0,0,0),new g(0,0,0)),new g(255,255,255),new g(0,0,0),new h(new g(255,255,255),new g(-1,-1,-1)),new h(new g(255,255,255),new g(255,255,255)),new g(255,255,255));a+=1;this.nb[a]=new w("Day",new h(new g(240,240,240),new g(0,255,255)),
new h(new g(0,0,255),new g(0,0,0)),new g(255,255,255),new g(0,0,255),new h(new g(0,255,255),new g(-1,-1,-1)),new h(new g(240,240,240),new g(0,192,192)),new g(255,255,255));a+=1;this.nb[a]=new w("Occupied",new h(new g(240,240,240),new g(240,240,240)),new h(new g(240,240,240),new g(240,240,240)),new g(0,0,0),new g(240,240,240),new h(new g(240,240,240),new g(240,240,240)),new h(new g(240,240,240),new g(240,240,240)),new g(0,0,0));a+=1;this.nb[a]=new w("Red",new h(new g(160,0,0),new g(160,0,0)),new h(new g(240,
240,240),new g(240,240,240)),new g(0,0,0),new g(255,255,255),new h(new g(160,160,160),new g(160,160,160)),new h(new g(160,0,0),new g(160,0,0)),new g(0,0,0));a+=1;this.nb[a]=new w("LifeHistory",new h(new g(0,0,96),new g(0,0,160)),new h(new g(0,240,0),new g(16,255,16)),new g(0,0,0),new g(16,255,16),new h(new g(0,128,160),new g(-1,-1,-1)),new h(new g(0,0,96),new g(0,0,160)),new g(0,0,0));a+=1;this.nb[a]=new w("Generations",new h(new g(64,0,0),new g(255,0,0)),new h(new g(255,255,0),new g(255,255,255)),
new g(0,0,0),new g(255,255,0),new h(new g(255,0,0),new g(-1,-1,-1)),new h(new g(64,0,0),new g(128,0,0)),new g(0,0,0));a+=1;this.nb[a]=new w("Golly",new h(new g(48,48,48),new g(48,48,48)),new h(new g(255,255,255),new g(255,255,255)),new g(48,48,48),new g(255,255,0),new h(new g(255,0,0),new g(-1,-1,-1)),new h(new g(48,48,48),new g(48,48,48)),new g(48,48,48));this.nb[a].Ao(10,new g(80,80,80),new g(112,112,112));a+=1;this.nb[a]=new w("MCell",new h(new g(0,0,0),new g(0,0,0)),new h(new g(255,255,0),new g(255,
255,0)),new g(0,0,0),new g(255,255,0),new h(new g(0,255,0),new g(255,255,0)),new h(new g(0,0,0),new g(0,0,0)),new g(0,0,0));this.nb[a].Ao(5,new g(64,0,0),new g(99,3,1));a+=1;this.nb[a]=new w("Catagolue",new h(new g(160,221,204),new g(160,221,204)),new h(new g(0,0,0),new g(0,0,0)),new g(192,255,238),new g(0,0,0),new h(new g(96,192,139),new g(2,129,2)),new h(new g(160,221,204),new g(160,221,204)),new g(192,255,238));this.nb[a].Ao(0,new g(160,221,204),new g(160,221,204));a+=1;this.nb[a]=new w("Caterer",
new h(new g(54,57,62),new g(54,57,62)),new h(new g(255,255,255),new g(255,255,255)),new g(54,57,62),new g(255,170,0),new h(new g(255,85,0),new g(-1,-1,-1)),new h(new g(54,57,62),new g(54,57,62)),new g(54,57,62));this.nb[a].Ao(0,new g(0,0,0),new g(0,0,0));a+=1;this.nb[a]=new w("Life32",new h(new g(255,255,255),new g(255,255,255)),new h(new g(0,0,128),new g(0,0,128)),new g(255,255,255),new g(0,0,128),new h(new g(0,0,64),new g(-1,-1,-1)),new h(new g(255,255,255),new g(255,255,255)),new g(255,255,255));
this.nb[a].Ao(5,new g(192,192,192),new g(128,128,128));a+=1;this.nb[a]=new w("Margolus",new h(new g(0,0,47),new g(0,0,128)),new h(new g(255,255,0),new g(255,255,255)),new g(0,0,0),new g(255,255,0),new h(new g(64,64,128),new g(-1,-1,-1)),new h(new g(0,0,47),new g(0,0,128)),new g(0,0,0));this.nb[a].Ao(2,new g(32,32,255),new g(64,64,128));a+=1;this.nb[a]=new w("PCA",new h(new g(24,24,24),new g(64,64,64)),new h(new g(176,176,176),new g(240,240,240)),new g(0,0,0),new g(240,240,240),new h(new g(160,160,
160),new g(-1,-1,-1)),new h(new g(24,24,24),new g(64,64,64)),new g(0,0,0));a+=1;this.nb[a]=new w("Book",new h(new g(255,220,192),new g(192,220,255)),new h(new g(0,0,0),new g(0,0,0)),new g(255,255,255),new g(0,0,0),new h(new g(24,24,24),new g(128,128,128)),new h(new g(255,220,192),new g(192,220,255)),new g(255,255,255));this.nb[a].Ao(0,new g(192,192,192),new g(209,209,209));this.nb[a+1]=new w(Keywords.uq,new h(new g(0,0,0),new g(0,0,0)),new h(new g(0,0,0),new g(0,0,0)),new g(0,0,0),new g(0,0,0),new h(new g(0,
0,0),new g(0,0,0)),new h(new g(0,0,0),new g(0,0,0)),new g(0,0,0));this.Re=this.nb.length-1;this.$e=new h(new g(0,0,0),new g(0,0,0));this.Wc=new h(new g(0,0,0),new g(0,0,0));this.hf=new g(0,0,0);this.Gg=new g(0,0,0);this.cf=new h(new g(0,0,0),new g(0,0,0));this.Ef=new h(new g(0,0,0),new g(0,0,0));this.qh=new g(0,0,0);this.Gd=new h(new g(0,0,0),new g(0,0,0));this.Yb=new h(new g(0,0,0),new g(0,0,0));this.He=new g(0,0,0);this.$f=new g(0,0,0);this.le=new h(new g(0,0,0),new g(0,0,0));this.Ye=new h(new g(0,
0,0),new g(0,0,0));this.hg=new g(0,0,0)};p.prototype.bN=function(a,c,d){var f=this.nb[a],n=this.tl;this.Bf=a;this.$e.set(this.Gd);this.Wc.set(this.Yb);this.hf.set(this.He);this.Gg.set(this.$f);this.Ef.set(this.Ye);this.cf.set(this.le);this.qh.set(this.hg);this.Gd.set(f.vb);this.Yb.set(f.kb);this.He.set(f.fb);this.$f.set(f.qg);this.Ye.set(f.Ic);this.le.set(f.Zb);this.hg.set(f.Ki);this.un=c;this.tl=f.uK(this.Ga);n&&!this.tl&&!this.sa&&2>=this.i&&this.Qx();this.Md=f.Ch;this.Zf=f.Dh;a!==this.Re&&this.ma?
this.Hf=2:this.Hf=f.Mn;this.fe?(this.cg=-16777216|(this.Md&255)<<16|(this.Md>>8&255)<<8|this.Md>>16,this.ag=-16777216|(this.Zf&255)<<16|(this.Zf>>8&255)<<8|this.Zf>>16):(this.cg=this.Md>>16<<24|(this.Md>>8&255)<<16|(this.Md&255)<<8|255,this.ag=this.Zf>>16<<24|(this.Zf>>8&255)<<16|(this.Zf&255)<<8|255);d.rD()};p.prototype.dy=function(){this.Qd?this.aA():this.CA()};p.prototype.aA=function(){var a=this.bp,c;for(c=0;512>c;c+=1){var d=c&128;var f=c&256;var n=c&127;var m=0;0!==d&&(m=(n+1&127)+64<<8);0!==
f&&(m|=(n&127)+64);a[c]=m}};p.prototype.CA=function(){var a=this.bp,c=this.df,d=this.Hb,f=this.Tk,n=this.Le,m,q=new Uint8Array(256);q[0]=0;q[c+1]=d;for(m=1;m<c+1;m+=1)q[m]=Math.min(Math.max(m-1,f),n),q[m+c+1]=Math.max(Math.min(m+1,c),d);if(0===this.O)for(m=d;m<=c;m+=1)q[m]=0;else this.O<n&&(q[n-this.O]=1);for(m=0;65536>m;m+=1)a[m]=q[m>>8]<<8|q[m&255]};p.prototype.WL=function(){var a;for(a=0;a<this.nb.length;a+=1){var c=this.nb[a];if(c.$l)if(2>=this.i)c.Zb.aa.set(c.qg);else{var d=1/(this.i-2);c.Zb.aa.red=
c.Zb.Z.red*d+c.qg.red*(1-d)|0;c.Zb.aa.green=c.Zb.Z.green*d+c.qg.green*(1-d)|0;c.Zb.aa.blue=c.Zb.Z.blue*d+c.qg.blue*(1-d)|0}}};p.prototype.zD=function(){var a;var c=(this.un-1)/this.Ol;if(!this.Pa)if(this.T)for(a=0;a<k.fu.length;a+=1){if(this.Sa[a+this.O]=k.fu[a][0],this.Ra[a+this.O]=k.fu[a][1],this.Qa[a+this.O]=k.fu[a][2],this.bc&&this.bc.length>=a){var d=this.bc[a];-1!==d&&(this.Sa[a+this.O]=d>>16,this.Ra[a+this.O]=d>>8&255,this.Qa[a+this.O]=d&255)}}else if(2<this.i||this.fa){a=0;this.fa?(this.Sa[a]=
this.ge[a]>>16,this.Ra[a]=this.ge[a]>>8&255,this.Qa[a]=this.ge[a]&255):(this.Sa[a]=this.qh.red*c+this.hg.red*(1-c),this.Ra[a]=this.qh.green*c+this.hg.green*(1-c),this.Qa[a]=this.qh.blue*c+this.hg.blue*(1-c));for(a=1;a<this.i-1;a+=1){d=3>=this.i?0:(a-1)/(this.i-3);if(this.N&&18<=this.Bf)this.Sa[a+this.O]=k.ep[a][0],this.Ra[a+this.O]=k.ep[a][1],this.Qa[a+this.O]=k.ep[a][2];else if(this.fa)this.Sa[a]=this.ge[a]>>16,this.Ra[a]=this.ge[a]>>8&255,this.Qa[a]=this.ge[a]&255;else{var f=this.cf.aa.red*d+this.cf.Z.red*
(1-d);var n=this.le.aa.red*d+this.le.Z.red*(1-d);this.Sa[a+this.O]=f*c+n*(1-c);f=this.cf.aa.green*d+this.cf.Z.green*(1-d);n=this.le.aa.green*d+this.le.Z.green*(1-d);this.Ra[a+this.O]=f*c+n*(1-c);f=this.cf.aa.blue*d+this.cf.Z.blue*(1-d);n=this.le.aa.blue*d+this.le.Z.blue*(1-d);this.Qa[a+this.O]=f*c+n*(1-c)}this.bc&&this.bc.length>=a&&(d=this.sa||this.N||this.fa?this.bc[a]:this.bc[this.i-a],-1!==d&&(this.Sa[a+this.O]=d>>16,this.Ra[a+this.O]=d>>8&255,this.Qa[a+this.O]=d&255))}a=this.i-1;this.N&&18<=
this.Bf?(this.Sa[a+this.O]=k.ep[a][0],this.Ra[a+this.O]=k.ep[a][1],this.Qa[a+this.O]=k.ep[a][2]):this.fa?(this.Sa[a]=this.ge[a]>>16,this.Ra[a]=this.ge[a]>>8&255,this.Qa[a]=this.ge[a]&255):(this.Sa[a+this.O]=this.Gg.red*c+this.$f.red*(1-c),this.Ra[a+this.O]=this.Gg.green*c+this.$f.green*(1-c),this.Qa[a+this.O]=this.Gg.blue*c+this.$f.blue*(1-c));this.bc&&this.bc.length>=a&&(d=this.sa||this.N||this.fa?this.bc[a]:this.bc[this.i-a],-1!==d&&(this.Sa[a+this.O]=d>>16,this.Ra[a+this.O]=d>>8&255,this.Qa[a+
this.O]=d&255));for(a=0;a<this.O;a+=1)d=1<this.O?1-a/(this.O-1):1,f=this.Ef.Z.red*d+this.Ef.aa.red*(1-d),n=this.Ye.Z.red*d+this.Ye.aa.red*(1-d),this.Sa[a+1]=f*c+n*(1-c),f=this.Ef.Z.green*d+this.Ef.aa.green*(1-d),n=this.Ye.Z.green*d+this.Ye.aa.green*(1-d),this.Ra[a+1]=f*c+n*(1-c),f=this.Ef.Z.blue*d+this.Ef.aa.blue*(1-d),n=this.Ye.Z.blue*d+this.Ye.aa.blue*(1-d),this.Qa[a+1]=f*c+n*(1-c);this.bc&&0<this.bc.length&&(d=this.bc[0],-1!==d&&(this.Sa[0]=d>>16,this.Ra[0]=d>>8&255,this.Qa[0]=d&255))}else{a=0;
this.Sa[a]=this.hf.red*c+this.He.red*(1-c);this.Ra[a]=this.hf.green*c+this.He.green*(1-c);this.Qa[a]=this.hf.blue*c+this.He.blue*(1-c);if(0===this.O)for(a=1;a<=this.Le;a+=1)this.Sa[a]=this.hf.red*c+this.He.red*(1-c),this.Ra[a]=this.hf.green*c+this.He.green*(1-c),this.Qa[a]=this.hf.blue*c+this.He.blue*(1-c);else{var m=this.Le-this.O+1;for(a=1;a<m;a+=1)this.Sa[a]=this.Wc.Z.red*c+this.Yb.Z.red*(1-c),this.Ra[a]=this.Wc.Z.green*c+this.Yb.Z.green*(1-c),this.Qa[a]=this.Wc.Z.blue*c+this.Yb.Z.blue*(1-c);for(a=
m;a<=this.Le;a+=1)d=this.Le===m?1:1-(a-m)/(this.Le-m),f=this.Wc.Z.red*d+this.Wc.aa.red*(1-d),n=this.Yb.Z.red*d+this.Yb.aa.red*(1-d),this.Sa[a]=f*c+n*(1-c),f=this.Wc.Z.green*d+this.Wc.aa.green*(1-d),n=this.Yb.Z.green*d+this.Yb.aa.green*(1-d),this.Ra[a]=f*c+n*(1-c),f=this.Wc.Z.blue*d+this.Wc.aa.blue*(1-d),n=this.Yb.Z.blue*d+this.Yb.aa.blue*(1-d),this.Qa[a]=f*c+n*(1-c)}for(a=this.Hb;a<=this.df;a+=1)d=0===this.Ti?1:a<this.Hb+this.Ti?1-(a-this.Hb)/this.Ti:0,f=this.$e.Z.red*d+this.$e.aa.red*(1-d),n=this.Gd.Z.red*
d+this.Gd.aa.red*(1-d),this.Sa[a]=f*c+n*(1-c),f=this.$e.Z.green*d+this.$e.aa.green*(1-d),n=this.Gd.Z.green*d+this.Gd.aa.green*(1-d),this.Ra[a]=f*c+n*(1-c),f=this.$e.Z.blue*d+this.$e.aa.blue*(1-d),n=this.Gd.Z.blue*d+this.Gd.aa.blue*(1-d),this.Qa[a]=f*c+n*(1-c)}};p.prototype.AD=function(a,c){var d=this.Sa,f=this.Ra,n=this.Qa,m;for(m=0;m<a.length;m+=1){var q=c&&-1!==c[m]?c[m]:a[m];d[m]=q>>16;f[m]=q>>8&255;n[m]=q&255}this.un=0};p.prototype.WI=function(a,c){var d=this.Sa,f=this.Ra,n=this.Qa,m=ViewConstants.Xa,
q;for(q=0;q<a.length;q+=1)c&&-1!==c[q]?(d[128+m[q]]=c[q]>>16,f[128+m[q]]=c[q]>>8&255,n[128+m[q]]=c[q]&255):(d[128+m[q]]=a[q]>>16,f[128+m[q]]=a[q]>>8&255,n[128+m[q]]=a[q]&255)};p.prototype.Kd=function(a){this.Qd?this.KB(a):this.nB(a)};p.prototype.KB=function(a){var c=this.ze,d,f=255,n=15,m=15,q=0,u=0,y=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],v=this.Sa,r=this.Ra,B=this.Qa,b=this.Oh,l=this.S&&this.vc||this.R&&this.vc,e=this.Md,t=this.Zf;for(d=1;240>=d;d+=1)c[d]=this.fe?-16777216|m*a<<16|
n*a<<8|f*a:f*a<<24|n*a<<16|m*a<<8|255,f+=6*y[u][0],n+=6*y[u][1],m+=6*y[u][2],q+=1,40===q&&(q=0,u+=1);for(d=0;128>d;d+=1)q=240*(d+1)/128|0,c[d]=c[q];for(d=127;0<=d;--d)c[d+64]=c[d],l&&(this.fe?(f=c[d]&255,n=c[d]>>8&255,m=c[d]>>16&255):(f=c[d]>>24,n=c[d]>>16&255,m=c[d]>>8&255),b[d+64]="#"+(16777216+((f<<16)+(n<<8)+m)).toString(16).substr(1));c[0]=this.fe?-16777216|B[0]*a<<16|r[0]*a<<8|v[0]*a:v[0]*a<<24|r[0]*a<<16|B[0]*a<<8|255;this.fe?(this.cg=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.ag=-16777216|
(t&255)<<16|(t>>8&255)<<8|t>>16):(this.cg=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255,this.ag=t>>16<<24|(t>>8&255)<<16|(t&255)<<8|255);-1!==this.ya&&(d=this.Gb,c[d]=this.fe?-16777216|B[d]*a<<16|r[d]*a<<8|v[d]*a:v[d]*a<<24|r[d]*a<<16|B[d]*a<<8|255)};p.prototype.nB=function(a){var c=this.Sa,d=this.Ra,f=this.Qa,n=this.ze,m=this.Md,q=this.Zf,u=this.Oh,y=this.S&&this.vc||this.R&&this.vc,v;if(2<this.i)if(this.T)if(this.fe)for(v=0;v<=this.i+this.O;v+=1)n[v]=-16777216|f[v]*a<<16|d[v]*a<<8|c[v]*a;else for(v=0;v<=
this.i+this.O;v+=1)n[v]=c[v]*a<<24|d[v]*a<<16|f[v]*a<<8|255;else if(this.fe)for(v=0;v<=this.i+this.O;v+=1)n[v]=-16777216|f[v]*a<<16|d[v]*a<<8|c[v]*a,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1));else for(v=0;v<=this.i+this.O;v+=1)n[v]=c[v]*a<<24|d[v]*a<<16|f[v]*a<<8|255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1));else if(this.fe){for(v=0;v<this.Hb;v+=1)n[v]=-16777216|f[v]<<16|d[v]<<8|c[v],y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1));
for(v=this.Hb;v<=this.df;v+=1)n[v]=-16777216|f[v]*a<<16|d[v]*a<<8|c[v]*a,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1));for(v=this.df+1;256>v;v+=1)n[v]=-16777216|f[v]*a<<16|d[v]*a<<8|c[v]*a,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1))}else{for(v=0;v<this.Hb;v+=1)n[v]=c[v]<<24|d[v]<<16|f[v]<<8|255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1));for(v=this.Hb;v<=this.df;v+=1)n[v]=c[v]*a<<24|d[v]*a<<16|f[v]*a<<8|
255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1));for(v=this.df+1;256>v;v+=1)n[v]=c[v]*a<<24|d[v]*a<<16|f[v]*a<<8|255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1))}this.fe?(this.cg=-16777216|(m&255)<<16|(m>>8&255)<<8|m>>16,this.ag=-16777216|(q&255)<<16|(q>>8&255)<<8|q>>16):(this.cg=m>>16<<24|(m>>8&255)<<16|(m&255)<<8|255,this.ag=q>>16<<24|(q>>8&255)<<16|(q&255)<<8|255);-1!==this.ya&&(v=this.Gb,n[v]=this.fe?-16777216|f[v]*a<<16|d[v]*a<<8|
c[v]*a:c[v]*a<<24|d[v]*a<<16|f[v]*a<<8|255,y&&(u[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+f[v])).toString(16).substr(1)))};p.prototype.RM=function(){var a=this.Sa,c=this.Ra,d=this.Qa;this.Gb=-1!==this.ya&&256===this.i+this.O?2:255;-1!==this.ya&&256>this.i+this.O&&(this.fe?(a[this.Gb]=this.Jl&255,c[this.Gb]=this.Jl>>8&255,d[this.Gb]=this.Jl>>16&255):(a[this.Gb]=this.Jl>>24,c[this.Gb]=this.Jl>>16&255,d[this.Gb]=this.Jl>>8&255))};p.prototype.Lq=function(a){var c=this.Dg,d=this.ba,f=this.Ma,n=this.Ec,m=
this.ec,q=this.De,u=this.ha,y=this.Ka,v=this.Ca,r=this.oa,B=this.fb;this.jd.jb.fill(0);c.jb.fill(0);a||(d.jb.fill(B),f&&f.jb.fill(B),n.jb.fill(B),m&&(m.jb.fill(B),q.jb.fill(B)));u.jb.fill(0);r.jb.fill(0);a||(y.jb.fill(0),v.jb.fill(0))};p.prototype.Nk=function(a,c){var d=k.iE,f;for(f=0;f<d;f+=1)a[f]=c[f]};p.prototype.Tj=function(a,c){var d=k.Yu,f;for(f=0;f<d;f+=1){var n=c[f>>9&448|f>>6&56|f>>3&7]<<3;n|=c[f>>8&448|f>>5&56|f>>2&7]<<2;n|=c[f>>7&448|f>>4&56|f>>1&7]<<1;n|=c[f>>6&448|f>>3&56|f&7];a[f]=n}};
p.prototype.Sh=function(a,c,d){if(d){var f=new Uint8Array(16);for(d=0;16>d;d+=1){var n=c[d];f[n]=d}for(d=0;d<k.Nn;d+=1)n=(f[d>>12]&1)<<2,n|=(f[d>>8&15]&2)<<2,n|=(f[d>>4&15]&4)>>2,n|=(f[d&15]&8)>>2,a[d]=n}else for(d=0;d<k.Nn;d+=1)n=(d>>12&1)<<2,n|=(d>>8&2)<<2,n|=(d>>4&4)>>2,n|=(d&8)>>2,a[d]=c[n]};p.prototype.Cf=function(a,c){var d,f,n,m;for(d=0;d<k.gm;d+=1){var q=d>>8;var u=d&255;var y=192;var v=6;for(f=m=n=0;4>f;f+=1){var r=0===v?(u&y)<<2|q&y:(u&y)>>v-2|(q&y)>>v;r=(r&8)>>1|(r&4)<<1|(r&2)>>1|(r&1)<<
1;r=c[r];r=(r&8)>>1|(r&4)<<1|(r&2)>>1|(r&1)<<1;n<<=2;m<<=2;n|=r>>2&3;m|=r&3;y>>=2;v-=2}a[d]=m<<8|n}};p.prototype.xd=function(a,c){var d,f=0,n=!0,m=new Uint8Array(16);for(d=0;n&&16>d;){var q=1<<a[d];0!==(f&q)?n=!1:(f|=q,d+=1)}if(n){for(d=0;16>d;d+=1)f=a[d],m[f]=d;c&&a.set(m)}return n};p.prototype.tt=function(a,c){var d;for(d=0;16>d;d+=1)c[d]=a[15-d];for(d=0;16>d;d+=1)a[d]=15-a[d]};p.prototype.tC=function(){var a=this.Be,c,d,f,n,m,q=this.pl,u=this.yk,y=this.zk;for(c=0;1<<c<a;)c+=1;var v=(this.lg+1)*
c;if(v<=k.XK){this.oe=this.v.P(Uint8,1<<v,"Life.ruleTreeLookup");v=this.Gt=c;var r=v+c;var B=r+c;var b=B+c;if(4===this.lg)for(c=0;c<a;c+=1)for(f=0;f<a;f+=1)for(m=0;m<a;m+=1)for(n=0;n<a;n+=1)for(d=0;d<a;d+=1){var l=c<<v|f<<r|m<<B|n<<b|d;this.oe[l]=y[u[u[u[u[q+c]+n]+f]+d]+m]}else this.oe=null}else this.oe=null};p.prototype.GN=function(a){var c=this.R?this.D.kB:this.D.Bj,d=this.R?this.D.gB:this.D.fB,f=this.D.sc,n=this.R?k.iE:k.vK,m=!1,q,u=null,y=c.length;this.sc=f;if(this.fa)this.oe=null,this.tC();else{if(this.sc){if(this.ma||
this.N)y=16;var v=0;for(q=!0;v<y&&q;)c[v]!==d[v]?q=!1:v+=1;q&&(this.sc=!1,v=a.zb.indexOf("|"),-1!==v&&(a.zb=a.zb.substr(0,v)),v=a.pd.indexOf("|"),-1!==v&&(a.pd=a.pd.substr(0,v)));if(this.sc&&(this.ma||this.N))for(v=0;v<y;v+=1)a=c[v],c[v]=d[v],d[v]=a}this.ne=this.Jc=this.Gf=this.me=this.Ni=this.Wh=this.dg=this.Uh=null;if(this.N)this.me=this.v.P(Uint16,k.Nn,"Life.PCALookup1"),f?(this.Gf=this.v.P(Uint16,k.Nn,"Life.PCALookup2"),this.Sh(this.Gf,c,!1),this.Sh(this.me,d,!1),this.xd(c,!1)&&this.xd(d,!1)&&
(this.Jc=this.v.P(Uint16,k.Nn,"Life.PCAReverseLookup1"),this.ne=this.v.P(Uint16,k.Nn,"Life.PCAReverseLookup2"),this.xd(d,!1),this.Sh(this.Jc,d,!0),this.xd(c,!1),this.Sh(this.ne,c,!0))):(this.Sh(this.me,c,!1),this.xd(c,!1)&&(this.Jc=this.v.P(Uint16,k.Nn,"Life.PCAsReverseLookup1"),this.Sh(this.Jc,c,!0)));else if(this.ma){this.me=this.v.P(Uint16,k.gm,"Life.margolusLookup1");if(15===c[0]&&0===c[15]){f=this.sc=!0;u=new Uint8Array(16);for(v=0;16>v;v+=1)u[v]=c[v];this.tt(c,d)}f?(this.Gf=this.v.P(Uint16,
k.gm,"Life.margolusLookup2"),this.Cf(this.Gf,c),this.Cf(this.me,d),u&&this.xd(u,!0)?(this.Jc=this.v.P(Uint16,k.gm,"Life.margolusReverseLookup1"),this.ne=this.v.P(Uint16,k.gm,"Life.margolusReverseLookup2"),this.tt(u,d),this.Cf(this.Jc,d),this.Cf(this.ne,u)):this.xd(c,!1)&&this.xd(d,!1)&&(this.Jc=this.v.P(Uint16,k.gm,"Life.margolusReverseLookup1"),this.ne=this.v.P(Uint16,k.gm,"Life.margolusReverseLookup2"),this.xd(c,!0),this.Cf(this.Jc,c),this.xd(d,!0),this.Cf(this.ne,d))):(this.Cf(this.me,c),this.xd(c,
!0)&&(this.Jc=this.v.P(Uint16,k.gm,"Life.margolusReverseLookup1"),this.Cf(this.Jc,c)))}else if(this.R)this.Wh=this.v.P(Uint8,k.hE,"Life.indexLookupTri1"),f?(this.Ni=this.v.P(Uint8,k.hE,"Life.indexLookupTri2"),this.Nk(this.Ni,c),this.Nk(this.Wh,d)):this.Nk(this.Wh,c);else{this.Uh=this.v.P(Uint8,k.Yu,"Life.indexLookup63");if(-1===this.Vd&&c[0]){if(!c[n-1]){for(v=0;v<n/2;v+=1)a=c[v],c[v]=c[n-v-1],c[n-v-1]=a;m=!0;this.dg=this.v.P(Uint8,k.Yu,"Life.indexLookup632");this.Tj(this.dg,c)}for(v=0;v<n/2;v+=1)a=
c[v],c[v]=1-c[n-v-1],c[n-v-1]=1-a}this.sc?(this.dg=this.v.P(Uint8,k.Yu,"Life.indexLookup632"),this.Tj(this.dg,c),this.Tj(this.Uh,d)):(this.Tj(this.Uh,c),m&&(this.sc=!0))}}};p.prototype.G=function(a){var c=0;0!==(a&32768)?c=0:0!==(a&16384)?c=1:0!==(a&8192)?c=2:0!==(a&4096)?c=3:0!==(a&2048)?c=4:0!==(a&1024)?c=5:0!==(a&512)?c=6:0!==(a&256)?c=7:0!==(a&128)?c=8:0!==(a&64)?c=9:0!==(a&32)?c=10:0!==(a&16)?c=11:0!==(a&8)?c=12:0!==(a&4)?c=13:0!==(a&2)?c=14:0!==(a&1)&&(c=15);return c};p.prototype.U=function(a){var c=
0;0!==(a&1)?c=15:0!==(a&2)?c=14:0!==(a&4)?c=13:0!==(a&8)?c=12:0!==(a&16)?c=11:0!==(a&32)?c=10:0!==(a&64)?c=9:0!==(a&128)?c=8:0!==(a&256)?c=7:0!==(a&512)?c=6:0!==(a&1024)?c=5:0!==(a&2048)?c=4:0!==(a&4096)?c=3:0!==(a&8192)?c=2:0!==(a&16384)&&(c=1);return c};p.prototype.ZA=function(a){var c=this.ec,d=this.ha,f=this.width,n=this.height,m,q=this.L.B,u=this.L.m,y=this.L.j,v=this.L.A,r,B;for(r=0;r<n;r+=1){var b=c[r];var l=d[r>>4];for(B=m=0;B<f;B+=1)0!==b[B]&&(l[B>>8]|=1<<(~(B>>4)&15),m|=b[B],B<y&&(y=B),
B>v&&(v=B));m&&(r<u&&(u=r),r>q&&(q=r))}a||(this.L.B=q,this.L.m=u,this.L.j=y,this.L.A=v)};p.prototype.BH=function(){var a,c,d,f=this.eb,n=this.oa,m=this.ha,q,u=this.va,y=this.ta>>4,v=this.td;var r=0;var B=r+16;m.jb.fill(0);for(c=0;c<u;c+=1){var b=0;var l=n[c];var e=m[c];var t=0<c?m[c-1]:v;var x=c<u-1?m[c+1]:v;l[0]&=32767;l[y-1]&=65534;for(d=0;d<y;d+=1)if(q=l[d]){var z=e[d];var A=t[d];var C=x[d];for(a=15;0<=a;--a){if(0!==(q&1<<a)){var G=!1;var D=0;var I=r;var F=f[I];if(F=F[b])G=!0,0!==(F&32768)&&(D|=
k.Kb,D|=k.Qb),0!==(F&1)&&(D|=k.ib,D|=k.Rb),D|=k.Ib;for(I+=1;I<B-1;){F=f[I];if(F=F[b])G=!0,0!==(F&32768)&&(D|=k.Kb),0!==(F&1)&&(D|=k.ib);I+=1}F=f[I];if(F=F[b])G=!0,0!==(F&32768)&&(D|=k.Kb,D|=k.Ub),0!==(F&1)&&(D|=k.ib,D|=k.sb),D|=k.tb;G&&(z|=1<<a,D&&(0!==(D&k.Kb)&&(15>a?z|=1<<a+1:0<d&&(e[d-1]|=1)),0!==(D&k.ib)&&(0<a?z|=1<<a-1:d<y-1&&(e[d+1]|=32768)),0!==(D&k.Ib)&&(A|=1<<a),0!==(D&k.tb)&&(C|=1<<a),0!==(D&k.Qb)&&(15>a?A|=1<<a+1:0<d&&(t[d-1]|=1)),0!==(D&k.Rb)&&(0<a?A|=1<<a-1:d<y-1&&(t[d+1]|=32768)),0!==
(D&k.Ub)&&(15>a?C|=1<<a+1:0<d&&(x[d-1]|=1)),0!==(D&k.sb)&&(0<a?C|=1<<a-1:d<y-1&&(x[d+1]|=32768))))}b+=1}e[d]|=z;0<c&&(t[d]|=A);c<u-1&&(x[d]|=C)}else b+=16;r+=16;B+=16}v.fill(0)};p.prototype.CH=function(){var a,c,d,f=this.eb,n=this.oa,m=this.ba,q=this.ha,u,y=this.va,v=this.ta>>4,r=this.td;var B=0;var b=B+16;q.jb.fill(0);for(c=0;c<y;c+=1){var l=0;var e=n[c];var t=q[c];var x=0<c?q[c-1]:r;var z=c<y-1?q[c+1]:r;e[0]&=32767;e[v-1]&=65534;for(d=0;d<v;d+=1)if(u=e[d]){var A=t[d];var C=x[d];var G=z[d];for(a=
15;0<=a;--a){if(0!==(u&1<<a)){var D=!1;var I=0;var F=B;var E=f[F];var H=m[F];E=E[l];var N=l<<4;0<H[N]&&(E|=32768);N+=1;0<H[N]&&(E|=16384);N+=1;0<H[N]&&(E|=8192);N+=1;0<H[N]&&(E|=4096);N+=1;0<H[N]&&(E|=2048);N+=1;0<H[N]&&(E|=1024);N+=1;0<H[N]&&(E|=512);N+=1;0<H[N]&&(E|=256);N+=1;0<H[N]&&(E|=128);N+=1;0<H[N]&&(E|=64);N+=1;0<H[N]&&(E|=32);N+=1;0<H[N]&&(E|=16);N+=1;0<H[N]&&(E|=8);N+=1;0<H[N]&&(E|=4);N+=1;0<H[N]&&(E|=2);N+=1;0<H[N]&&(E|=1);E&&(D=!0,0!==(E&32768)&&(I|=k.Kb,I|=k.Qb),0!==(E&1)&&(I|=k.ib,
I|=k.Rb),I|=k.Ib);for(F+=1;F<b-1;)E=f[F],H=m[F],E=E[l],N=l<<4,0<H[N]&&(E|=32768),N+=1,0<H[N]&&(E|=16384),N+=1,0<H[N]&&(E|=8192),N+=1,0<H[N]&&(E|=4096),N+=1,0<H[N]&&(E|=2048),N+=1,0<H[N]&&(E|=1024),N+=1,0<H[N]&&(E|=512),N+=1,0<H[N]&&(E|=256),N+=1,0<H[N]&&(E|=128),N+=1,0<H[N]&&(E|=64),N+=1,0<H[N]&&(E|=32),N+=1,0<H[N]&&(E|=16),N+=1,0<H[N]&&(E|=8),N+=1,0<H[N]&&(E|=4),N+=1,0<H[N]&&(E|=2),N+=1,0<H[N]&&(E|=1),E&&(D=!0,0!==(E&32768)&&(I|=k.Kb),0!==(E&1)&&(I|=k.ib)),F+=1;E=f[F];H=m[F];E=E[l];N=l<<4;0<H[N]&&
(E|=32768);N+=1;0<H[N]&&(E|=16384);N+=1;0<H[N]&&(E|=8192);N+=1;0<H[N]&&(E|=4096);N+=1;0<H[N]&&(E|=2048);N+=1;0<H[N]&&(E|=1024);N+=1;0<H[N]&&(E|=512);N+=1;0<H[N]&&(E|=256);N+=1;0<H[N]&&(E|=128);N+=1;0<H[N]&&(E|=64);N+=1;0<H[N]&&(E|=32);N+=1;0<H[N]&&(E|=16);N+=1;0<H[N]&&(E|=8);N+=1;0<H[N]&&(E|=4);N+=1;0<H[N]&&(E|=2);N+=1;0<H[N]&&(E|=1);E&&(D=!0,0!==(E&32768)&&(I|=k.Kb,I|=k.Ub),0!==(E&1)&&(I|=k.ib,I|=k.sb),I|=k.tb);D&&(A|=1<<a,I&&(0!==(I&k.Kb)&&(15>a?A|=1<<a+1:0<d&&(t[d-1]|=1)),0!==(I&k.ib)&&(0<a?A|=
1<<a-1:d<v-1&&(t[d+1]|=32768)),0!==(I&k.Ib)&&(C|=1<<a),0!==(I&k.tb)&&(G|=1<<a),0!==(I&k.Qb)&&(15>a?C|=1<<a+1:0<d&&(x[d-1]|=1)),0!==(I&k.Rb)&&(0<a?C|=1<<a-1:d<v-1&&(x[d+1]|=32768)),0!==(I&k.Ub)&&(15>a?G|=1<<a+1:0<d&&(z[d-1]|=1)),0!==(I&k.sb)&&(0<a?G|=1<<a-1:d<v-1&&(z[d+1]|=32768))))}l+=1}t[d]|=A;0<c&&(x[d]|=C);c<y-1&&(z[d]|=G)}else l+=16;B+=16;b+=16}r.fill(0)};p.prototype.Ah=function(){var a,c,d=this.width>>4,f=this.height,n=this.width,m=this.ec;var q=this.ba;var u=this.L,y=this.Oa,v=this.Kf,r=this.height,
B=-1,b=this.width,l=-1,e=this.height,t=-1,x=this.width,z=-1,A,C=this.ja;if(this.fh){this.fh=!1;(this.N||this.fa||this.T)&&0!==(this.counter&1)&&(q=this.Ma);var G=0!==(this.counter&1)?this.Sb:this.eb;if(m)for(c=0;c<f;c+=1){var D=m[c];for(a=A=0;a<n;a+=1){var I=D[a];A|=I;I&&(a<x&&(x=a),a>z&&(z=a))}A&&(c<e&&(e=c),c>t&&(t=c))}C.fill(0);if(-1!==this.i)for(c=0;c<f;c+=1){d=q[c];for(a=A=0;a<n;a+=1)I=d[a],A|=I,I&&(a<b&&(b=a),a>l&&(l=a));A&&(c<r&&(r=c),c>B&&(B=c))}else{for(c=0;c<f;c+=1){q=G[c];for(a=A=0;a<d;a+=
1)I=q[a],A|=I,C[a]|=I;A&&(c<r&&(r=c),c>B&&(B=c))}for(a=0;a<d;a+=1)C[a]&&(a<b&&(b=a),a>l&&(l=a));b=(b<<4)+this.G(C[b]);l=(l<<4)+this.U(C[l])}if(0>B||r>=f||b>=n||0>l)r=B=f>>1,l=b=n>>1;m&&(t>B&&(B=t),e<r&&(r=e),x<b&&(b=x),z>l&&(l=z));B>this.height-1&&(B=this.height-1);0>r&&(r=0);0>b&&(b=0);l>this.width-1&&(l=this.width-1);u.B=B;u.m=r;u.j=b;u.A=l;y.B=B;y.m=r;y.j=b;y.A=l;v.B=B;v.m=r;v.j=b;v.A=l}};p.prototype.cB=function(a){var c,d,f=this.width>>4,n=this.height,m=this.width,q=this.ec;var u=this.ba;var y=
this.L,v=this.Oa,r=this.Kf,B=this.height,b=-1,l=this.width,e=-1,t=this.height,x=-1,z=this.width,A=-1,C,G=this.ja,D=this.Ka,I=this.Ca;if(0!==(this.counter&1)){var F=this.Sb;var E=this.oa;var H=this.ha}else F=this.eb,E=this.ha,H=this.oa;if(q&&!a)for(d=0;d<n;d+=1){var N=q[d];for(c=C=0;c<m;c+=1){var K=N[c];C|=K;K&&(c<z&&(z=c),c>A&&(A=c))}C&&(d<t&&(t=d),d>x&&(x=d))}G.fill(0);H.jb.fill(0);if(-1!==this.i)for(d=0;d<n;d+=1){f=u[d];for(c=C=0;c<m;c+=1)K=f[c],C|=K,K&&(c<l&&(l=c),c>e&&(e=c));C&&(d<B&&(B=d),d>
b&&(b=d))}else{for(d=0;d<n;d+=1){u=F[d];for(c=C=0;c<f;c+=1)K=u[c],C|=K,G[c]|=K;C&&(d<B&&(B=d),d>b&&(b=d))}for(c=0;c<f;c+=1)G[c]&&(c<l&&(l=c),c>e&&(e=c));l=(l<<4)+this.G(G[l]);e=(e<<4)+this.U(G[e])}if(0>b||B>=n||l>=m||0>e)B=b=n>>1,e=l=m>>1,x=b,t=B,z=l,A=e;q&&!a&&(x<b&&(b=x),t>B&&(B=t),z<l&&(l=z),A>e&&(e=A));b>this.height-1&&(b=this.height-1);0>B&&(B=0);0>l&&(l=0);e>this.width-1&&(e=this.width-1);y.B=b;y.m=B;y.j=l;y.A=e;v.B=b;v.m=B;v.j=l;v.A=e;r.B=b;r.m=B;r.j=l;r.A=e;0<l&&--l;0<B&&--B;e<this.width-
1&&(e+=1);b<this.height-1&&(b+=1);K=b>>4;l>>=8;e>>=8;for(d=B>>4;d<=K;d+=1)for(B=H[d],c=l;c<=e;c+=1)B[c]=-1;-1!==this.i?this.CH():this.BH();q&&(this.ZA(a),r.B=y.B,r.m=y.m,r.j=y.j,r.A=y.A);Array.Zi(E,H);Array.Zi(E,D);Array.Zi(E,I)};p.prototype.zx=function(a,c){var d=this.ma?-1:0;var f=Math.round((this.width-this.Ba)/2)+d,n=Math.round((this.height-this.xa)/2)+d,m=f+this.Ba-1,q=n+this.xa-1,u=f-a>>4,y=m+a>>4,v=f-a>>4,r=m+a>>4,B=~(1<<(~(f-a)&15)),b=~(1<<(~(m+a)&15)),l=this.Tf,e=0;if(!this.N||this.fa){d=
0!==(this.counter&1)?this.Sb:this.eb;var t=d[q+a];var x=d[n-a];if(0===this.Ba)for(y=this.width>>4,u=0;u<y;u+=1)e+=l[x[u]],x[u]=0,e+=l[t[u]],t[u]=0;else if(0===this.xa)for(n=0,q=this.height,y=0;y<q;y+=1)t=d[y],t[v]&~B&&(e+=1),t[v]&=B,t[r]&~b&&(e+=1),t[r]&=b;else{for(;u<=y;u+=1)e+=l[x[u]],x[u]=0,e+=l[t[u]],t[u]=0;for(y=n-a+1;y<=q+a-1;y+=1)t=d[y],t[v]&~B&&(e+=1),t[v]&=B,t[r]&~b&&(e+=1),t[r]&=b}c&&(this.qa-=e)}if(-1!==this.i)if(d=this.ba,(this.N||this.fa||this.T)&&0!==(this.counter&1)&&(d=this.Ma),f-=
a,m+=a,q+=a,n-=a,t=d[q],x=d[n],0===this.Ba)x.fill(0),t.fill(0);else if(0===this.xa)for(y=0;y<this.height;y+=1)d[y][f]=0,d[y][m]=0;else for(x.fill(0,f,m+1),t.fill(0,f,m+1),y=n+1;y<=q-1;y+=1)d[y][f]=0,d[y][m]=0};p.prototype.ut=function(a,c,d){var f,n;this.$r+=1;for(n=0;n<a.length;n+=1){var m=a[n];for(f=0;f<m.length;f+=1)1===m[f]&&this.Fj(c+f,d+n,0,!1)}};p.prototype.$=function(a,c,d,f,n){var m,q,u=f+f,y=n+n,v=u+f,r=y+n,B=v+f,b=r+n,l=this.ba;var e=this.L.j;var t=this.L.A;var x=this.L.m;var z=this.L.B;
var A=this.Hb;c-=2;d-=2;var C=0;for(m=!0;m&&C<a.length;){var G=0;for(q=a[C];m&&G<q.length;){var D=q[G];var I=l[d+C][c+G];I<A&&0===D||I>=A&&1===D||(m=!1);G+=1}C+=1}if(m){G=c+3+f+f;C=d+3+n+n;q=0>f?e-1:t+1;var F=0>n?x-1:z+1;for(m=!1;!m&&G!==q&&C!==F;){var E=l[C];I=E[G];x=l[C+n][G];z=E[G+f];e=l[C+y][G];t=E[G+u];A=l[C+r][G];D=E[G+v];var H=l[C+b][G];var N=E[G+B];var K=l[C+b+n][G];var P=E[G+B+f];var J=l[C+b+n][G];var T=E[G+B+f];var Y=l[C+b+y][G];E=E[G+B+u];(I|x|z|e|t|A|D|H|N|K|P|J|T|Y|E)&64?m=!0:(G+=f,C+=
n)}m?this.ph[this.ph.length]={YJ:a,x:c,y:d,aO:G,cO:C}:this.ut(a,c,d)}return m};p.prototype.yx=function(){var a,c=this.ph.length,d;for(a=0;a<c;a+=1){var f=this.ph[a];var n=f.aO;var m=f.cO;var q=0;for(d=!1;!d&&q<c;){if(q!==a){var u=this.ph[q];u.x>=n-4&&u.x<=n+4&&u.y>=m-4&&u.y<=m+4&&(this.ut(f.YJ,f.x,f.y),d=!0)}q+=1}}};p.prototype.Yw=function(){var a,c=this.L.j,d=this.L.A,f=this.L.m,n=this.L.B,m=this.ba,q=m[n],u=m[f],y=this.Hb;if(-1===this.ya){this.ph=[];64>c&&(c=64);d>this.width-64&&(d=this.width-64);
64>f&&(f=64);n>this.height-64&&(n=this.height-64);for(a=c;a<=d;a+=1)u[a]>=y&&(this.$(this.am,a,f,-1,1)||this.$(this.cm,a-1,f,-1,1)||this.$(this.em,a,f,-1,1)||this.$(this.hm,a-1,f,-1,1)||this.$(this.Al,a,f,1,1)||this.$(this.Cl,a-1,f,1,1)||this.$(this.Hl,a-1,f,1,1)||this.$(this.Ll,a,f,1,1)),q[a]>=y&&(this.$(this.Yn,a,n-2,-1,-1)||this.$(this.$n,a-1,n-2,-1,-1)||this.$(this.io,a,n-2,-1,-1)||this.$(this.oo,a-1,n-2,-1,-1)||this.$(this.lm,a,n-2,1,-1)||this.$(this.om,a-1,n-2,1,-1)||this.$(this.pm,a-1,n-2,
1,-1)||this.$(this.Wn,a,n-2,1,-1));for(a=f;a<=n;a+=1)f=m[a],f[c]>=y&&(this.$(this.am,c,a,1,-1)||this.$(this.cm,c,a-1,1,-1)||this.$(this.em,c,a,1,-1)||this.$(this.hm,c,a-1,1,-1)||this.$(this.Yn,c,a-1,1,1)||this.$(this.$n,c,a,1,1)||this.$(this.io,c,a,1,1)||this.$(this.oo,c,a-1,1,1)),f[d]>=y&&(this.$(this.Al,d-2,a,-1,-1)||this.$(this.Cl,d-2,a-1,-1,-1)||this.$(this.Hl,d-2,a,-1,-1)||this.$(this.Ll,d-2,a-1,-1,-1)||this.$(this.lm,d-2,a-1,-1,1)||this.$(this.om,d-2,a,-1,1)||this.$(this.pm,d-2,a,-1,1)||this.$(this.Wn,
d-2,a-1,-1,1));this.yx();this.Ah()}};p.prototype.sB=function(){var a,c,d=this.ma?-1:0,f=this.Ba,n=this.xa;for(c=0;1>=c;c+=1){var m=Math.round((this.width-f)/2-1)+d+c>>4;var q=Math.round((this.width+f)/2)+d-c>>4;var u=Math.round((this.height-n)/2-1+c)+d>>4;var y=Math.round((this.height+n)/2)+d-c>>4;0===n&&(u=0,y=(this.height>>4)-1);0===f&&(m=0,q=(this.width>>4)-1);0>m&&(m=0);0>u&&(u=0);q>=this.width>>4&&(q=(this.width>>4)-1);y>=this.height>>4&&(y=(this.height>>4)-1);for(a=m;a<=q;a+=1){var v=-1;this.ha[u][a>>
4]|=v;this.oa[u][a>>4]|=v;this.Ka[u][a>>4]|=v;this.Ca[u][a>>4]|=v;this.ha[y][a>>4]|=v;this.oa[y][a>>4]|=v;this.Ka[y][a>>4]|=v;this.Ca[y][a>>4]|=v}for(a=u;a<=y;a+=1)v=1<<(~m&15),this.ha[a][m>>4]|=v,this.oa[a][m>>4]|=v,this.Ka[a][m>>4]|=v,this.Ca[a][m>>4]|=v,v=1<<(~q&15),this.ha[a][q>>4]|=v,this.oa[a][q>>4]|=v,this.Ka[a][q>>4]|=v,this.Ca[a][q>>4]|=v}};p.prototype.QM=function(a){var c=this.Ba,d=this.xa,f=this.ma?-1:0,n=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var m=n+c-1,q=f+
d-1,u=this.rn,y=this.sn,v=this.Ca,r;0===this.Ba&&(n=0,m=this.width-1,c=this.width);0===this.xa&&(f=0,q=this.height-1,d=this.height);if(0!==this.xa)for(r=0;r<c;r+=1){var B=n+r;var b=n+(r+u+c)%c;var l=a[q][B];0!==l&&(a[f-1][b]=l,v[f-1>>4][b>>8]|=1<<(~(b>>4)&15),15===(f-1&15)&&(v[(f-1>>4)+1][b>>8]|=1<<(~(b>>4)&15)));b=n+(r-u+c)%c;l=a[f][B];0!==l&&(a[q+1][b]=l,v[q+1>>4][b>>8]|=1<<(~(b>>4)&15),0===(q+1&15)&&(v[(q+1>>4)-1][b>>8]|=1<<(~(b>>4)&15)))}if(0!==this.Ba)for(r=0;r<d;r+=1)B=f+r,b=f+(r-y+d)%d,l=a[B][n],
0!==l&&(a[b][m+1]=l,v[b>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(v[b>>4][m-15>>8]|=1<<(~(m-15>>4)&15))),b=f+(r+y+d)%d,l=a[B][m],0!==l&&(a[b][n-1]=l,v[b>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(v[b>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==this.Ba&&0!==this.xa&&(l=a[f+(d-1+y+d)%d][n+(-u+c)%c],a[f-1][m+1]=l,l=a[f+(d-1-y+d)%d][n+(c-1-u+c)%c],a[f-1][n-1]=l,l=a[f+(y+d)%d][n+(u+c)%c],a[q+1][m+1]=l,l=a[f+(-y+d)%d][n+(c-1+u+c)%c],a[q+1][n-1]=l)};p.prototype.zL=function(a){var c=this.Ca,d=this.Ba,
f=this.xa,n=this.ma?-1:0,m=Math.round((this.width-d)/2)+n;n=Math.round((this.height-f)/2)+n;var q=m+d-1,u=n+f-1,y=this.rn,v=this.sn,r=this.bu,B=this.Ox,b;for(b=0;b<d;b+=1){var l=m+b;var e=r?q-(b+y+d)%d:m+(b+y+d)%d;var t=a[u][l];0!==t&&(a[n-1][e]=t,c[n-1>>4][e>>8]|=1<<(~(e>>4)&15),15===(n-1&15)&&(c[(n-1>>4)+1][e>>8]|=1<<(~(e>>4)&15)));e=r?q-(b-y+d)%d:m+(b-y+d)%d;t=a[n][l];0!==t&&(a[u+1][e]=t,c[u+1>>4][e>>8]|=1<<(~(e>>4)&15),0===(u+1&15)&&(c[(u+1>>4)-1][e>>8]|=1<<(~(e>>4)&15)))}for(b=0;b<f;b+=1)l=n+
b,e=B?u-(b-v+f)%f:n+(b-v+f)%f,t=a[l][m],0!==t&&(a[e][q+1]=t,c[e>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(c[e>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),e=B?u-(b+v+f)%f:n+(b+v+f)%f,t=a[l][q],0!==t&&(a[e][m-1]=t,c[e>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(c[e>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));t=a[B?u-(f-1+v+f)%f:n+(f-1+v+f)%f][r?q-(-y+d)%d:m+(-y+d)%d];a[n-1][q+1]=t;t=a[B?u-(f-1+v+f)%f:n+(f-1+v+f)%f][r?q-(d-1-y+d)%d:m+(d-1-y+d)%d];a[n-1][m-1]=t;t=a[B?u-(v+f)%f:n+(v+f)%f][r?q-(y+d)%d:m+(y+d)%d];
a[u+1][q+1]=t;t=a[B?u-(v+f)%f:n+(v+f)%f][r?q-(d-1+y+d)%d:m+(d-1+y+d)%d];a[u+1][m-1]=t};p.prototype.rL=function(a){var c=this.Ka,d=this.Ba,f=this.xa,n=this.ma?-1:0,m=Math.round((this.width-d)/2)+n;n=Math.round((this.height-f)/2)+n;var q=m+d-1,u=n+f-1,y;for(y=0;y<d;y+=1){var v=m+y;var r=q-y;var B=a[u][v];0!==B&&(a[n-1][r]=B,c[n-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(n-1&15)&&(c[(n-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));B=a[n][v];0!==B&&(a[u+1][r]=B,c[u+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(u+1&15)&&(c[(u+1>>4)-
1][r>>8]|=1<<(~(r>>4)&15)))}for(y=0;y<=f;y+=1)v=n+y,r=u-y,B=a[v][m],0!==B&&(a[r][q+1]=B,c[r>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(c[r>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),B=a[v][q],0!==B&&(a[r][m-1]=B,c[r>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(c[r>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));B=a[u][m];a[u+1][m-1]=B;B=a[u][q];a[u+1][q+1]=B;B=a[n][m];a[n-1][m-1]=B;B=a[n][q];a[n-1][q+1]=B};p.prototype.aM=function(a){var c=this.Ka,d=this.Ba,f=this.xa,n=this.ma?-1:0,m=Math.round((this.width-d)/2)+
n;n=Math.round((this.height-f)/2)+n;var q=m+d-1;f=n+f-1;var u;for(u=0;u<d;u+=1){var y=n+u;var v=m+u;var r=a[y][m];0!==r&&(a[n-1][v]=r,c[n-1>>4][v>>8]|=1<<(~(v>>4)&15),15===(n-1&15)&&(c[(n-1>>4)+1][v>>8]|=1<<(~(v>>4)&15)));r=a[y][q];0!==r&&(a[f+1][v]=r,c[f+1>>4][v>>8]|=1<<(~(v>>4)&15),0===(f+1&15)&&(c[(f+1>>4)-1][v>>8]|=1<<(~(v>>4)&15)));r=a[n][v];0!==r&&(a[y][m-1]=r,c[y>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(c[y>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));r=a[f][v];0!==r&&(a[y][q+1]=r,c[y>>4][q+1>>
8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(c[y>>4][q-15>>8]|=1<<(~(q-15>>4)&15)))}r=a[f][m];a[f+1][m-1]=r;r=a[f][q];a[f+1][q+1]=r;r=a[n][m];a[n-1][m-1]=r;r=a[n][q];a[n-1][q+1]=r};p.prototype.Dt=function(){var a=this.Ka,c=this.Ba,d=this.xa;var f=this.ma?-1:0;var n=Math.round((this.width-c)/2)+f,m=Math.round((this.height-d)/2)+f,q=n+c-1,u=m+d-1,y=this.rn,v=this.sn,r=this.R&&0<n&&q<this.width-1,B;if(0!==(this.counter&1)){f=this.Sb;var b=this.oa}else f=this.eb,b=this.ha;0===this.Ba&&(n=0,q=this.width-1,c=this.width);
0===this.xa&&(m=0,u=this.height-1,d=this.height);if(0!==this.xa)for(B=0;B<c;B+=1){var l=n+B;var e=n+(B+y+c)%c;0!==(f[u][l>>4]&1<<(~l&15))&&(f[m-1][e>>4]|=1<<(~e&15),b[m-1>>4][e>>8]|=1<<(~(e>>4)&15),a[m-1>>4][e>>8]|=1<<(~(e>>4)&15),15===(m-1&15)&&(b[(m-1>>4)+1][e>>8]|=1<<(~(e>>4)&15),a[(m-1>>4)+1][e>>8]|=1<<(~(e>>4)&15)));e=n+(B-y+c)%c;0!==(f[m][l>>4]&1<<(~l&15))&&(f[u+1][e>>4]|=1<<(~e&15),b[u+1>>4][e>>8]|=1<<(~(e>>4)&15),a[u+1>>4][e>>8]|=1<<(~(e>>4)&15),0===(u+1&15)&&(b[(u+1>>4)-1][e>>8]|=1<<(~(e>>
4)&15),a[(u+1>>4)-1][e>>8]|=1<<(~(e>>4)&15)))}if(0!==this.Ba)for(B=0;B<d;B+=1)l=m+B,e=m+(B-v+d)%d,0!==(f[l][n>>4]&1<<(~n&15))&&(f[e][q+1>>4]|=1<<(~(q+1)&15),b[e>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[e>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(b[e>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[e>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),r&&(n+=1,q+=1,0!==(f[l][n>>4]&1<<(~n&15))&&(f[e][q+1>>4]|=1<<(~(q+1)&15),b[e>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[e>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(b[e>>4][q-15>>8]|=1<<(~(q-
15>>4)&15),a[e>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),--n,--q),e=m+(B+v+d)%d,0!==(f[l][q>>4]&1<<(~q&15))&&(f[e][n-1>>4]|=1<<(~(n-1)&15),b[e>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[e>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(b[e>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[e>>4][n+15>>8]|=1<<(~(n+15>>4)&15))),r&&(--n,--q,0!==(f[l][q>>4]&1<<(~q&15))&&(f[e][n-1>>4]|=1<<(~(n-1)&15),b[e>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[e>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(b[e>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[e>>4][n+15>>
8]|=1<<(~(n+15>>4)&15))),n+=1,q+=1);0!==this.Ba&&0!==this.xa&&(l=n+(-y+c)%c,f[m-1][q+1>>4]=0!==(f[m+(d-1+v+d)%d][l>>4]&1<<(~l&15))?f[m-1][q+1>>4]|1<<(~(q+1)&15):f[m-1][q+1>>4]&~(1<<(~(q+1)&15)),l=n+(c-1-y+c)%c,f[m-1][n-1>>4]=0!==(f[m+(d-1-v+d)%d][l>>4]&1<<(~l&15))?f[m-1][n-1>>4]|1<<(~(n-1)&15):f[m-1][n-1>>4]&~(1<<(~(n-1)&15)),l=n+(y+c)%c,f[u+1][q+1>>4]=0!==(f[m+(v+d)%d][l>>4]&1<<(~l&15))?f[u+1][q+1>>4]|1<<(~(q+1)&15):f[u+1][q+1>>4]&~(1<<(~(q+1)&15)),l=n+(c-1+y+c)%c,f[u+1][n-1>>4]=0!==(f[m+(-v+d)%
d][l>>4]&1<<(~l&15))?f[u+1][n-1>>4]|1<<(~(n-1)&15):f[u+1][n-1>>4]&~(1<<(~(n-1)&15)))};p.prototype.Bt=function(){var a=this.Ka,c=this.Ba,d=this.xa;var f=this.ma?-1:0;var n=Math.round((this.width-c)/2)+f,m=Math.round((this.height-d)/2)+f,q=n+c-1,u=m+d-1,y=this.rn,v=this.sn,r=this.bu,B=this.Ox,b;if(0!==(this.counter&1)){f=this.Sb;var l=this.oa}else f=this.eb,l=this.ha;for(b=0;b<c;b+=1){var e=n+b;var t=r?q-(b+y+c)%c:n+(b+y+c)%c;0!==(f[u][e>>4]&1<<(~e&15))&&(f[m-1][t>>4]|=1<<(~t&15),l[m-1>>4][t>>8]|=1<<
(~(t>>4)&15),a[m-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(m-1&15)&&(l[(m-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(m-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=r?q-(b-y+c)%c:n+(b-y+c)%c;0!==(f[m][e>>4]&1<<(~e&15))&&(f[u+1][t>>4]|=1<<(~t&15),l[u+1>>4][t>>8]|=1<<(~(t>>4)&15),a[u+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(u+1&15)&&(l[(u+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(u+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(b=0;b<d;b+=1)e=m+b,t=B?u-(b-v+d)%d:m+(b-v+d)%d,0!==(f[e][n>>4]&1<<(~n&15))&&(f[t][q+1>>4]|=1<<(~(q+1)&15),l[t>>4][q+1>>
8]|=1<<(~(q+1>>4)&15),a[t>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(l[t>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[t>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),t=B?u-(b+v+d)%d:m+(b+v+d)%d,0!==(f[e][q>>4]&1<<(~q&15))&&(f[t][n-1>>4]|=1<<(~(n-1)&15),l[t>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[t>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(l[t>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[t>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));e=r?q-(-y+c)%c:n+(-y+c)%c;0!==(f[B?u-(d-1+v+d)%d:m+(d-1+v+d)%d][e>>4]&1<<(~e&15))&&(f[m-1][q+1>>4]|=1<<(~(q+
1)&15));e=r?q-(c-1-y+c)%c:n+(c-1-y+c)%c;0!==(f[B?u-(d-1+v+d)%d:m+(d-1+v+d)%d][e>>4]&1<<(~e&15))&&(f[m-1][n-1>>4]|=1<<(~(n-1)&15));e=r?q-(y+c)%c:n+(y+c)%c;0!==(f[B?u-(v+d)%d:m+(v+d)%d][e>>4]&1<<(~e&15))&&(f[u+1][q+1>>4]|=1<<(~(q+1)&15));e=r?q-(c-1+y+c)%c:n+(c-1+y+c)%c;0!==(f[B?u-(v+d)%d:m+(v+d)%d][e>>4]&1<<(~e&15))&&(f[u+1][n-1>>4]|=1<<(~(n-1)&15))};p.prototype.At=function(){var a=this.Ka,c=this.Ba,d=this.xa;var f=this.ma?-1:0;var n=Math.round((this.width-c)/2)+f,m=Math.round((this.height-d)/2)+f,
q=n+c-1,u=m+d-1,y;if(0!==(this.counter&1)){f=this.Sb;var v=this.oa}else f=this.eb,v=this.ha;for(y=0;y<c;y+=1){var r=n+y;var B=q-y;0!==(f[u][r>>4]&1<<(~r&15))&&(f[m-1][B>>4]|=1<<(~B&15),v[m-1>>4][B>>8]|=1<<(~(B>>4)&15),a[m-1>>4][B>>8]|=1<<(~(B>>4)&15),15===(m-1&15)&&(v[(m-1>>4)+1][B>>8]|=1<<(~(B>>4)&15),a[(m-1>>4)+1][B>>8]|=1<<(~(B>>4)&15)));0!==(f[m][r>>4]&1<<(~r&15))&&(f[u+1][B>>4]|=1<<(~B&15),v[u+1>>4][B>>8]|=1<<(~(B>>4)&15),a[u+1>>4][B>>8]|=1<<(~(B>>4)&15),0===(u+1&15)&&(v[(u+1>>4)-1][B>>8]|=1<<
(~(B>>4)&15),a[(u+1>>4)-1][B>>8]|=1<<(~(B>>4)&15)))}for(y=0;y<=d;y+=1)r=m+y,B=u-y,0!==(f[r][n>>4]&1<<(~n&15))&&(f[B][q+1>>4]|=1<<(~(q+1)&15),v[B>>4][q+1>>8]|=1<<(~(q+1>>4)&15),a[B>>4][q+1>>8]|=1<<(~(q+1>>4)&15),0===(q+1&15)&&(v[B>>4][q-15>>8]|=1<<(~(q-15>>4)&15),a[B>>4][q-15>>8]|=1<<(~(q-15>>4)&15))),0!==(f[r][q>>4]&1<<(~q&15))&&(f[B][n-1>>4]|=1<<(~(n-1)&15),v[B>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[B>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(v[B>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[B>>4][n+15>>8]|=
1<<(~(n+15>>4)&15)));0!==(f[u][n>>4]&1<<(~n&15))&&(f[u+1][n-1>>4]|=1<<(~(n-1)&15));0!==(f[u][q>>4]&1<<(~q&15))&&(f[u+1][q+1>>4]|=1<<(~(q+1)&15));0!==(f[m][n>>4]&1<<(~n&15))&&(f[m-1][n-1>>4]|=1<<(~(n-1)&15));0!==(f[m][q>>4]&1<<(~q&15))&&(f[m-1][q+1>>4]|=1<<(~(q+1)&15))};p.prototype.Ct=function(){var a=this.Ka,c=this.Ba;var d=this.xa;var f=this.ma?-1:0,n=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var m=n+c-1,q=f+d-1,u;if(0!==(this.counter&1)){d=this.Sb;var y=this.oa}else d=this.eb,
y=this.ha;for(u=0;u<c;u+=1){var v=f+u;var r=n+u;0!==(d[v][n>>4]&1<<(~n&15))&&(d[f-1][r>>4]|=1<<(~r&15),y[f-1>>4][r>>8]|=1<<(~(r>>4)&15),a[f-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(f-1&15)&&(y[(f-1>>4)+1][r>>8]|=1<<(~(r>>4)&15),a[(f-1>>4)+1][r>>8]|=1<<(~(r>>4)&15)));0!==(d[v][m>>4]&1<<(~m&15))&&(d[q+1][r>>4]|=1<<(~r&15),y[q+1>>4][r>>8]|=1<<(~(r>>4)&15),a[q+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(q+1&15)&&(y[(q+1>>4)-1][r>>8]|=1<<(~(r>>4)&15),a[(q+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)));0!==(d[f][r>>4]&1<<(~r&15))&&
(d[v][n-1>>4]|=1<<(~(n-1)&15),y[v>>4][n-1>>8]|=1<<(~(n-1>>4)&15),a[v>>4][n-1>>8]|=1<<(~(n-1>>4)&15),15===(n-1&15)&&(y[v>>4][n+15>>8]|=1<<(~(n+15>>4)&15),a[v>>4][n+15>>8]|=1<<(~(n+15>>4)&15)));0!==(d[q][r>>4]&1<<(~r&15))&&(d[v][m+1>>4]|=1<<(~(m+1)&15),y[v>>4][m+1>>8]|=1<<(~(m+1>>4)&15),a[v>>4][m+1>>8]|=1<<(~(m+1>>4)&15),0===(m+1&15)&&(y[v>>4][m-15>>8]|=1<<(~(m-15>>4)&15),a[v>>4][m-15>>8]|=1<<(~(m-15>>4)&15)))}0!==(d[q][n>>4]&1<<(~n&15))&&(d[q+1][n-1>>4]|=1<<(~(n-1)&15));0!==(d[q][m>>4]&1<<(~m&15))&&
(d[q+1][m+1>>4]|=1<<(~(m+1)&15));0!==(d[f][n>>4]&1<<(~n&15))&&(d[f-1][n-1>>4]|=1<<(~(n-1)&15));0!==(d[f][m>>4]&1<<(~m&15))&&(d[f-1][m+1>>4]|=1<<(~(m+1)&15))};p.prototype.$K=function(a){var c,d=1;0!==this.ya&&(d=2);this.R&&(d+=1);for(c=1;c<=d+1;c+=1)this.zx(c,a)};p.prototype.kL=function(){var a=this.ba;if(this.N||this.fa||this.T)0!==(this.counter&1)&&(a=this.Ma),this.Ay(a,0);this.sB();switch(this.ya){case 1:this.N||this.fa||this.T?(this.QM(a),this.T&&this.Dt()):this.Dt();break;case 2:this.N||this.fa||
this.T?(this.zL(a),this.T&&this.Bt()):this.Bt();break;case 3:this.N||this.fa||this.T?(this.rL(a),this.T&&this.At()):this.At();break;case 4:this.N||this.fa||this.T?(this.aM(a),this.T&&this.Ct()):this.Ct()}this.sB()};p.prototype.qf=function(a,c,d,f){this.Pa?(this.da=1,this.counter+=1):this.YL(a,c,d,f)};p.prototype.YL=function(a,c,d,f){var n=!1,m=this.L,q=this.Nd;if(!d||f)a=!0;this.counter===this.bo-1&&(n=!0,c||(a=!0));-1===this.ya||this.sa||this.kL();this.Ve&&this.GH();this.da&&(this.fa?null===this.Sd?
this.rH():this.MH():this.N?this.LH():this.sa?this.Ia.mL(this.counter):a&&2>this.i||this.T?this.ma?this.HH():this.R?this.TK():this.KK():this.ma?this.IH():this.R?this.KH():this.JH());this.counter+=1;if(this.ma||this.N)this.bd?--this.Wf:this.Wf+=1,this.Wf>this.mj&&(this.mj=this.Wf);-1===this.i||this.sa||this.N||this.fa||this.T||this.tx();this.T&&this.GJ();this.Ve&&this.FH();-1===this.ya||this.sa||this.$K(a);this.width===this.ka&&(d=this.sa?2*this.Ia.Xh:16,m.j<=d||m.A>=this.ka-d||m.m<=d||m.B>=this.ka-
d)&&(this.sa?this.Mx():this.Ax());n&&(this.bo+=k.Ls,c||(this.Ke(),this.Fs()));m.j<q.j&&(q.j=m.j);m.A>q.A&&(q.A=m.A);m.m<q.m&&(q.m=m.m);m.B>q.B&&(q.B=m.B);this.counter<k.ME&&(a?(this.Ht(this.qa,this.Pb,this.cc),this.qa>this.rd&&(this.rd=this.qa),this.Pb>this.rd&&(this.rd=this.Pb),this.cc>this.rd&&(this.rd=this.cc)):this.Ht(0,0,0))};p.prototype.Ht=function(a,c,d){var f=this.counter>>k.wj,n=this.counter&(1<<k.wj)-1;this.pc&&0<this.pc.length&&(this.counter>=this.ai&&(Array.Cq(this.pc,"Life.popGraphData"),
Array.Cq(this.Lh,"Life.birthGraphData"),Array.Cq(this.Th,"Life.deathGraphData"),this.ai+=1<<k.wj),this.pc[f][n]=a,this.Lh[f][n]=c,this.Th[f][n]=d)};p.prototype.wo=function(a,c,d,f,n,m,q,u){var y,v=1,r,B=(1<<k.wj)-1,b=k.ME;this.counter>d&&(v=d/this.counter);if(u){a.strokeStyle=c;a.beginPath();var l=f-q[0]/this.rd*f|0;a.moveTo(0+m+.5,l+n+m+.5)}else a.fillStyle=c;q.length<<k.wj<b&&(b=q.length<<k.wj);var e=0;for(c=y=1;c<d;c+=1){if(y<b){var t=y>>k.wj;l=y&B;var x=r=q[t][l];e+=v;for(y+=1;0===(e|0);)t=y>>
k.wj,l=y&B,t=q[t][l],y+=1,t>x&&(x=t),t<r&&(r=t),e+=v;--e}else x=r=0;c<=this.counter&&(t=0+m+1+c,l=f-r/this.rd*f|0,u?(a.lineTo(t+.5,l+n+m+.5),r!==x&&(l=f-x/this.rd*f|0,a.lineTo(t+.5,l+n+m+.5))):0<r&&0<x&&(r!==x&&(l=f-x/this.rd*f|0),a.fillRect(t+.5,l+n+m+.5,1,1)))}u&&a.stroke()};p.prototype.Lu=function(a,c,d,f,n){var m=this.context,q=n.u.Ge;n=48*n.u.oh;var u=40*q,y=this.J-u,v=this.H-n-u,r="rgb("+this.hj[0]+","+this.hj[1]+","+this.hj[2]+")",B="rgb("+this.gj[0]+","+this.gj[1]+","+this.gj[2]+")",b="rgb("+
this.fj[0]+","+this.fj[1]+","+this.fj[2]+")",l="rgb("+this.ij[0]+","+this.ij[1]+","+this.ij[2]+")",e="rgb("+this.jj[0]+","+this.jj[1]+","+this.jj[2]+")";if(this.pc&&0<this.pc.length){if(d||f)n=0,v+=2*n;f&&(u=0,y=this.J);var t=y-u;m.save();m.fillStyle=r;m.globalAlpha=c;m.fillRect(0,n,y+u,v);m.globalAlpha=1;d&&(v-=n);if(!f){m.font=(16*q|0)+"px Arial";m.textAlign="center";m.fillStyle="black";for(c=2;0<=c;c-=2)m.save(),m.translate(this.J/2,v+u/2-(6*q|0)),m.fillText("Generation",c,c),m.restore(),m.save(),
m.translate(u/2+(6*q|0),this.H/2),m.rotate(-90*Math.PI/180),320>this.H?m.fillText("Pop",c,c):m.fillText("Population",c,c),m.restore(),m.fillStyle=B;m.fillStyle="black";for(c=2;0<=c;c-=2)m.save(),m.translate(u-u/2+(6*q|0),n+u),m.rotate(-90*Math.PI/180),m.fillText(String(this.rd),c,c),m.restore(),m.save(),m.translate(u-u/2+(6*q|0),v),m.rotate(-90*Math.PI/180),m.fillText("0",c,c),m.restore(),m.save(),m.translate(u,v+u/2-(6*q|0)),m.fillText("0",c,c),m.restore(),m.save(),m.translate(y,v+u/2-(6*q|0)),m.fillText(String(this.counter>
t?this.counter:t|0),c,c),m.restore(),m.fillStyle=B}-1===this.ya&&(this.wo(m,e,t,v-n-u,n,u,this.Th,a),this.wo(m,l,t,v-n-u,n,u,this.Lh,a));this.wo(m,b,t,v-n-u,n,u,this.pc,a);m.strokeStyle=B;m.lineWidth=1;m.beginPath();m.moveTo(u+.5,n+u+.5);m.lineTo(u+.5,v+.5);m.lineTo(y+.5,v+.5);m.lineTo(y+.5,v+2.5);m.moveTo(u+.5,v+.5);m.lineTo(u+.5,v+2.5);m.moveTo(u+.5,v+.5);m.lineTo(u+.5-2,v+.5);m.moveTo(u+.5,n+u+.5);m.lineTo(u+.5-2,n+u+.5);m.stroke();m.restore()}};p.prototype.cG=function(){var a=(1<<k.wj)-1,c;if(this.pc&&
0<this.pc.length){for(c=0;c<this.ai;c+=1){var d=c>>k.wj;var f=c&a;this.pc[d][f]=0;this.Lh[d][f]=0;this.Th[d][f]=0}this.pc[0][0]=this.qa}this.rd=this.qa};p.prototype.mw=function(){var a=this.L,c=this.Nd;c.j=a.j;c.A=a.A;c.B=a.B;c.m=a.m};p.prototype.GH=function(){var a,c,d,f,n=this.Ve,m=this.Jj,q=this.Fi,u=this.Of,y=this.va,v=this.ta>>4,r;var B=0;var b=0!==(this.counter&1)?this.Sb:this.eb;for(a=0;a<y;a+=1){var l=0;var e=u[a];for(c=0;c<v;c+=1)if(r=e[c])for(d=15;0<=d;--d){if(0!==(r&1<<d))for(f=B;f<B+16;f+=
1)m[f][l]=(b[f][l]|q[f][l])&n[f][l];l+=1}else l+=16;B+=16}};p.prototype.FH=function(){var a,c,d,f,n,m=this.Tf,q=this.Jj,u=this.Of,y=this.va,v=this.ta>>4,r;var B=0!==(this.counter&1)?this.Sb:this.eb;for(a=n=0;a<y;a+=1){var b=0;var l=u[a];for(c=0;c<v;c+=1)if(r=l[c])for(d=15;0<=d;--d){if(0!==(r&1<<d))for(f=n;f<n+16;f+=1){var e=B[f][b];var t=e&~q[f][b];t!==e&&(B[f][b]=t,e=m[e]-m[t],this.qa-=e,this.cc+=e)}b+=1}else b+=16;n+=16}};p.prototype.ro=function(a,c,d){var f,n,m=this.Rj,q=0,u=this.af[q],y=this.bf[q],
v=0,r=k.hw,B=r-1,b=0,l=r,e=this.Cs,t=this.Fb,x=this.Jb;u[v]=a;y[v]=c;v+=1;for(d[c][a>>4]&=~(1<<(~a&15));0<v;)for(--v,v<b&&(--q,b-=r,l-=r,u=this.af[q],y=this.bf[q]),a=u[v&B],c=y[v&B],n=c-e;n<=c+e;){for(f=a-e;f<=a+e;)f===(f&t)&&n===(n&x)&&0!==(d[n][f>>4]&1<<(~f&15))&&(d[n][f>>4]&=~(1<<(~f&15)),v===l&&(q+=1,b+=r,l+=r,q>m&&(this.af[q]=this.v.P(Int32,r,"Life.boundaryX"+q),this.bf[q]=this.v.P(Int32,r,"Life.boundaryY"+q),this.Rj=m+=1),u=this.af[q],y=this.bf[q]),u[v&B]=f,y[v&B]=n,v+=1),f+=1;n+=1}};p.prototype.Et=
function(a,c,d){for(var f=d[c][a],n=15;0<=n;)0!==(f&1<<n)&&this.ro((a<<4)+(~n&15),c,d),--n};p.prototype.tN=function(a,c){this.ro(0,a,c)};p.prototype.BN=function(a,c,d){this.ro((a<<4)+15,c,d)};p.prototype.Ax=function(){var a;var c=0!==(this.counter&1)?this.Sb:this.eb;var d=c.length;var f=c[0].length;var n=c[0];var m=c[d-1];for(a=0;a<f;)n[a]&&this.Et(a,0,c),m[a]&&this.Et(a,d-1,c),a+=1;for(a=0;a<d;)0!==(c[a][0]&32768)&&this.tN(a,c),0!==(c[a][f-1]&1)&&this.BN(f-1,a,c),a+=1};p.prototype.Yj=function(a,
c){var d,f=this.ba,n,m=this.Rj,q=0,u=this.af[q],y=this.bf[q],v=0,r=k.hw,B=r-1,b=0,l=r,e=this.Fb,t=this.Jb,x=2<this.i?0:k.Hb,z=2<this.i?0:k.Le,A=this.Cs;u[v]=a;y[v]=c;v+=1;for(f[c][a]=0;0<v;)for(--v,v<b&&(--q,b-=r,l-=r,u=this.af[q],y=this.bf[q]),a=u[v&B],c=y[v&B],d=c-A;d<=c+A;){var C=a-A;for(n=f[d];C<=a+A;)C===(C&e)&&d===(d&t)&&n[C]>=x&&(n[C]=z,v===l&&(q+=1,b+=r,l+=r,q>m&&(this.af[q]=this.v.P(Int32,r,"Life.boundaryX"+q),this.bf[q]=this.v.P(Int32,r,"Life.boundaryY"+q),this.Rj=m+=1),u=this.af[q],y=this.bf[q]),
u[v&B]=C,y[v&B]=d,v+=1),C+=1;d+=1}};p.prototype.Mx=function(){var a=this.ba,c=a.length,d=a[0].length,f=this.L,n=f.j,m=f.A,q=f.m,u=f.B,y=2*this.Ia.Xh+1,v=2*this.Ia.Ng+1,r=2<this.i?0:k.Hb,B,b;if(c-u<=v){for(b=c-v;b<=u;b+=1){var l=a[b];for(B=n;B<=m;B+=1)l[B]>=r&&this.Yj(B,b)}f.B=c-v}if(q<=v){for(b=q;b<=v;b+=1)for(l=a[b],B=n;B<=m;B+=1)l[B]>=r&&this.Yj(B,b);f.m=v}if(n<=y){for(b=q;b<=u;b+=1)for(l=a[b],B=n;B<=y;B+=1)l[B]>=r&&this.Yj(B,b);f.j=y}if(d-m<=y){for(b=q;b<=u;b+=1)for(l=a[b],B=d-y;B<=m;B+=1)l[B]>=
r&&this.Yj(B,b);f.A=d-y}};p.prototype.TK=function(){var a=this.Wh,c,d,f,n,m,q=this.ja,u,y=this.height,v=this.width,r=v>>4,B=this.L,b=y,l=-1,e=v,t=-1,x=this.va,z=this.ta>>4,A=this.td;var C=0;var G=x,D=this.Tf,I=0,F=0,E=0;if(0!==(this.counter&1)){var H=this.Sb;var N=this.eb;var K=this.oa;var P=this.ha;this.sc&&(a=this.Ni)}else H=this.eb,N=this.Sb,K=this.ha,P=this.oa;q.fill(0);0>C&&(C=0);G>x&&(G=x);var J=C<<4;var T=J+16;P.jb.fill(0);for(d=C;d<G;d+=1){var Y=0;var U=K[d];var M=P[d];var fa=0<d?P[d-1]:A;
var X=d<x-1?P[d+1]:A;for(f=0;f<z;f+=1)if(n=U[f]){var ia=M[f];var na=fa[f];var ba=X[f];for(c=15;0<=c;--c){if(0!==(n&1<<c)){var W=u=0;var ca=J;var da=0===ca?this.gf:H[ca-1];var ma=H[ca];C=H[ca+1];var la=m=ma[Y];da=da[Y-1]<<18|da[Y]<<2|da[Y+1]>>14;var V=ma[Y-1]<<18|m<<2|ma[Y+1]>>14;var R=C[Y-1]<<18|C[Y]<<2|C[Y+1]>>14;var Z=a[da>>7&7936|R>>11&224|V>>15&31]<<15;Z|=a[R>>6&7936|da>>10&224|V>>14&31]<<14;Z|=a[da>>5&7936|R>>9&224|V>>13&31]<<13;Z|=a[R>>4&7936|da>>8&224|V>>12&31]<<12;Z|=a[da>>3&7936|R>>7&224|
V>>11&31]<<11;Z|=a[R>>2&7936|da>>6&224|V>>10&31]<<10;Z|=a[da>>1&7936|R>>5&224|V>>9&31]<<9;Z|=a[R>>0&7936|da>>4&224|V>>8&31]<<8;Z|=a[da<<1&7936|R>>3&224|V>>7&31]<<7;Z|=a[R<<2&7936|da>>2&224|V>>6&31]<<6;Z|=a[da<<3&7936|R>>1&224|V>>5&31]<<5;Z|=a[R<<4&7936|da>>0&224|V>>4&31]<<4;Z|=a[da<<5&7936|R<<1&224|V>>3&31]<<3;Z|=a[R<<6&7936|da<<2&224|V>>2&31]<<2;Z|=a[da<<7&7936|R<<3&224|V>>1&31]<<1;Z|=a[R<<8&7936|da<<4&224|V>>0&31]<<0;N[ca][Y]=Z;I+=D[Z];F+=D[Z&~m];E+=D[m&~Z];Z&&(u|=Z,ca<b&&(b=ca),ca>l&&(l=ca),0!==
(Z&49152)&&(W|=k.Qb),0!==(Z&3)&&(W|=k.Rb),W|=k.Ib);for(ca+=1;ca<T-1;){m=C[Y];la|=m;C=H[ca+1];da=V;V=R;R=C[Y-1]<<18|C[Y]<<2|C[Y+1]>>14;0!==(ca&1)&&(ma=da,da=R,R=ma);Z=a[da>>7&7936|R>>11&224|V>>15&31]<<15;Z|=a[R>>6&7936|da>>10&224|V>>14&31]<<14;Z|=a[da>>5&7936|R>>9&224|V>>13&31]<<13;Z|=a[R>>4&7936|da>>8&224|V>>12&31]<<12;Z|=a[da>>3&7936|R>>7&224|V>>11&31]<<11;Z|=a[R>>2&7936|da>>6&224|V>>10&31]<<10;Z|=a[da>>1&7936|R>>5&224|V>>9&31]<<9;Z|=a[R>>0&7936|da>>4&224|V>>8&31]<<8;Z|=a[da<<1&7936|R>>3&224|V>>
7&31]<<7;Z|=a[R<<2&7936|da>>2&224|V>>6&31]<<6;Z|=a[da<<3&7936|R>>1&224|V>>5&31]<<5;Z|=a[R<<4&7936|da>>0&224|V>>4&31]<<4;Z|=a[da<<5&7936|R<<1&224|V>>3&31]<<3;Z|=a[R<<6&7936|da<<2&224|V>>2&31]<<2;Z|=a[da<<7&7936|R<<3&224|V>>1&31]<<1;Z|=a[R<<8&7936|da<<4&224|V>>0&31]<<0;I+=D[Z];F+=D[Z&~m];E+=D[m&~Z];0!==(ca&1)&&(R=ma=da);if(N[ca][Y]=Z)u|=Z,ca<b&&(b=ca),ca>l&&(l=ca);ca+=1}m=C[Y];la|=m;C=ca===this.height-1?this.gf:H[ca+1];da=V;V=R;R=C[Y-1]<<18|C[Y]<<2|C[Y+1]>>14;0!==(ca&1)&&(ma=da,da=R,R=ma);Z=a[da>>7&
7936|R>>11&224|V>>15&31]<<15;Z|=a[R>>6&7936|da>>10&224|V>>14&31]<<14;Z|=a[da>>5&7936|R>>9&224|V>>13&31]<<13;Z|=a[R>>4&7936|da>>8&224|V>>12&31]<<12;Z|=a[da>>3&7936|R>>7&224|V>>11&31]<<11;Z|=a[R>>2&7936|da>>6&224|V>>10&31]<<10;Z|=a[da>>1&7936|R>>5&224|V>>9&31]<<9;Z|=a[R>>0&7936|da>>4&224|V>>8&31]<<8;Z|=a[da<<1&7936|R>>3&224|V>>7&31]<<7;Z|=a[R<<2&7936|da>>2&224|V>>6&31]<<6;Z|=a[da<<3&7936|R>>1&224|V>>5&31]<<5;Z|=a[R<<4&7936|da>>0&224|V>>4&31]<<4;Z|=a[da<<5&7936|R<<1&224|V>>3&31]<<3;Z|=a[R<<6&7936|da<<
2&224|V>>2&31]<<2;Z|=a[da<<7&7936|R<<3&224|V>>1&31]<<1;Z|=a[R<<8&7936|da<<4&224|V>>0&31]<<0;I+=D[Z];F+=D[Z&~m];E+=D[m&~Z];if(N[ca][Y]=Z)u|=Z,ca<b&&(b=ca),ca>l&&(l=ca),0!==(Z&49152)&&(W|=k.Ub),0!==(Z&3)&&(W|=k.sb),W|=k.tb;u&&(0!==(u&49152)&&(W|=k.Kb),0!==(u&3)&&(W|=k.ib));q[Y]|=u;if(u||la)ia|=1<<c,W&&(0!==(W&k.Kb)&&(15>c?ia|=1<<c+1:0<f&&0<Y&&(M[f-1]|=1)),0!==(W&k.ib)&&(0<c?ia|=1<<c-1:f<z-1&&Y<r-1&&(M[f+1]|=32768)),0!==(W&k.Ib)&&(na|=1<<c),0!==(W&k.tb)&&(ba|=1<<c),0!==(W&k.Qb)&&(15>c?na|=1<<c+1:0<f&&
0<Y&&(fa[f-1]|=1)),0!==(W&k.Rb)&&(0<c?na|=1<<c-1:f<z-1&&Y<r-1&&(fa[f+1]|=32768)),0!==(W&k.Ub)&&(15>c?ba|=1<<c+1:0<f&&0<Y&&(X[f-1]|=1)),0!==(W&k.sb)&&(0<c?ba|=1<<c-1:f<z-1&&Y<r-1&&(X[f+1]|=32768)))}Y+=1}M[f]|=ia;0<d&&(fa[f]|=na);d<x-1&&(X[f]|=ba)}else Y+=16;J+=16;T+=16}for(f=0;f<r;f+=1)q[f]&&(f<e&&(e=f),f>t&&(t=f));e=(e<<4)+this.G(q[e]);t=(t<<4)+this.U(q[t]);0>l&&(l=y-1);b>=y&&(b=0);e>=v&&(e=0);0>t&&(t=v-1);l>y-1&&(l=y-1);0>b&&(b=0);0>e&&(e=0);t>v-1&&(t=v-1);B.B=l;B.m=b;B.j=e;B.A=t;A.fill(0);this.qa=
I;this.Pb=F;this.cc=E};p.prototype.HH=function(){var a=this.me,c,d,f,n,m=this.ja,q,u=this.height,y=this.width,v=y>>4,r=this.L,B=u,b=-1,l=y,e=-1,t=this.va,x=this.ta>>4,z=this.td,A=this.Tf,C=0,G=0,D=0,I=this.counter&1;this.cd&&(this.bd=!this.bd,this.cd=!1);if(0!==I){var F=this.Sb;var E=this.eb;var H=this.oa;var N=this.ha;this.bd&&(a=this.Jc)}else F=this.eb,E=this.Sb,H=this.ha,N=this.oa,this.sc&&(a=this.Gf),this.bd&&(a=this.sc?this.ne:this.Jc);this.bd&&(I=1-I);m.fill(0);var K=1-I;var P=K+16;N.jb.fill(0);
for(d=0;d<H.length;d+=1){var J=0;var T=H[d];var Y=N[d];var U=0<d?N[d-1]:z;var M=d<t-1?N[d+1]:z;for(f=0;f<x;f+=1)if(n=T[f]){var fa=Y[f];var X=U[f];var ia=M[f];for(c=15;0<=c;--c){var na=0===c&&f===x-1?!0:!1;if(0!==(n&1<<c)){var ba=q=0;if(0!==I){var W=K;var ca=F[W][J];var da=F[W+1][J];var ma=ca|da;var la=a[ca&65280|da>>8];var V=la&65280;var R=(la&255)<<8;la=a[(ca&255)<<8|da&255];V|=la>>8;R|=la&255;E[W][J]=V;E[W+1][J]=R;C+=A[V];G+=A[V&~ca];D+=A[ca&~V];C+=A[R];G+=A[R&~da];D+=A[da&~R];if(la=V|R)q|=la,V&&
(W<B&&(B=W),W>b&&(b=W)),R&&(W+1<B&&(B=W+1),W+1>b&&(b=W+1)),0!==(la&49152)&&(ba|=k.Qb),0!==(la&3)&&(ba|=k.Rb),ba|=k.Ib;for(W+=2;W<P-2;){ca=F[W][J];da=F[W+1][J];ma|=ca|da;la=a[ca&65280|da>>8];V=la&65280;R=(la&255)<<8;la=a[(ca&255)<<8|da&255];V|=la>>8;R|=la&255;E[W][J]=V;E[W+1][J]=R;C+=A[V];G+=A[V&~ca];D+=A[ca&~V];C+=A[R];G+=A[R&~da];D+=A[da&~R];if(la=V|R)q|=la,V&&(W<B&&(B=W),W>b&&(b=W)),R&&(W+1<B&&(B=W+1),W+1>b&&(b=W+1));W+=2}ca=F[W][J];da=F[W+1][J];ma|=ca|da;la=a[ca&65280|da>>8];V=la&65280;R=(la&255)<<
8;la=a[(ca&255)<<8|da&255];V|=la>>8;R|=la&255;E[W][J]=V;E[W+1][J]=R;C+=A[V];G+=A[V&~ca];D+=A[ca&~V];C+=A[R];G+=A[R&~da];D+=A[da&~R];if(la=V|R)q|=la,V&&(W<B&&(B=W),W>b&&(b=W)),R&&(W+1<B&&(B=W+1),W+1>b&&(b=W+1)),la&&(0!==(la&49152)&&(ba|=k.Ub),0!==(la&3)&&(ba|=k.sb),ba|=k.tb);q&&(0!==(q&49152)&&(ba|=k.Kb),0!==(q&3)&&(ba|=k.ib),m[J]|=q);if(q||ma)ba|=k.sb,ba|=k.ib}else{W=K;na?(ca=F[W][J]<<1&65535,da=F[W+1][J]<<1&65535):(ca=(F[W][J]<<1|F[W][J+1]>>15)&65535,da=(F[W+1][J]<<1|F[W+1][J+1]>>15)&65535);ma=ca|
da;la=a[ca&65280|da>>8];V=la&65280;R=(la&255)<<8;la=a[(ca&255)<<8|da&255];V|=la>>8;R|=la&255;na?(E[W][J]=E[W][J]&32768|V>>1,E[W+1][J]=E[W+1][J]&32768|R>>1):(E[W][J]=E[W][J]&32768|V>>1,E[W][J+1]=E[W][J+1]&32767|(V&1)<<15,E[W+1][J]=E[W+1][J]&32768|R>>1,E[W+1][J+1]=E[W+1][J+1]&32767|(R&1)<<15);C+=A[V];G+=A[V&~ca];D+=A[ca&~V];C+=A[R];G+=A[R&~da];D+=A[da&~R];if(la=V|R)q|=la,V&&(W<B&&(B=W),W>b&&(b=W)),V&&(W+1<B&&(B=W+1),W+1>b&&(b=W+1));for(W+=2;W<P-2;){na?(ca=F[W][J]<<1&65535,da=F[W+1][J]<<1&65535):(ca=
(F[W][J]<<1|F[W][J+1]>>15)&65535,da=(F[W+1][J]<<1|F[W+1][J+1]>>15)&65535);ma|=ca|da;la=a[ca&65280|da>>8];V=la&65280;R=(la&255)<<8;la=a[(ca&255)<<8|da&255];V|=la>>8;R|=la&255;na?(E[W][J]=E[W][J]&32768|V>>1,E[W+1][J]=E[W+1][J]&32768|R>>1):(E[W][J]=E[W][J]&32768|V>>1,E[W][J+1]=E[W][J+1]&32767|(V&1)<<15,E[W+1][J]=E[W+1][J]&32768|R>>1,E[W+1][J+1]=E[W+1][J+1]&32767|(R&1)<<15);C+=A[V];G+=A[V&~ca];D+=A[ca&~V];C+=A[R];G+=A[R&~da];D+=A[da&~R];if(la=V|R)q|=la,V&&(W<B&&(B=W),W>b&&(b=W)),R&&(W+1<B&&(B=W+1),W+
1>b&&(b=W+1));W+=2}na?(ca=F[W][J]<<1&65535,da=F[W+1][J]<<1&65535):(ca=(F[W][J]<<1|F[W][J+1]>>15)&65535,da=(F[W+1][J]<<1|F[W+1][J+1]>>15)&65535);ma|=ca|da;la=a[ca&65280|da>>8];V=la&65280;R=(la&255)<<8;la=a[(ca&255)<<8|da&255];V|=la>>8;R|=la&255;na?(E[W][J]=E[W][J]&32768|V>>1,E[W+1][J]=E[W+1][J]&32768|R>>1):(E[W][J]=E[W][J]&32768|V>>1,E[W][J+1]=E[W][J+1]&32767|(V&1)<<15,E[W+1][J]=E[W+1][J]&32768|R>>1,E[W+1][J+1]=E[W+1][J+1]&32767|(R&1)<<15);C+=A[V];G+=A[V&~ca];D+=A[ca&~V];C+=A[R];G+=A[R&~da];D+=A[da&
~R];if(la=V|R)q|=la,V&&(W<B&&(B=W),W>b&&(b=W)),R&&(W+1<B&&(B=W+1),W+1>b&&(b=W+1)),0!==(la&3)&&(ba|=k.sb),ba|=k.tb;ca|da&&(0!==((ca|da)&3)&&(ba|=k.sb),ba|=k.tb);q&&(0!==(q&3)&&(ba|=k.ib),m[J]|=q>>1,m[J+1]|=(q&1)<<15);0!==(ma&3)&&(ba|=k.ib)}if(q||ma)fa|=1<<c,ba&&(0!==(ba&k.Kb)&&(15>c?fa|=1<<c+1:0<f&&0<J&&(Y[f-1]|=1)),0!==(ba&k.ib)&&(0<c?fa|=1<<c-1:f<x-1&&J<v-1&&(Y[f+1]|=32768)),0!==(ba&k.Ib)&&(X|=1<<c),0!==(ba&k.tb)&&(ia|=1<<c),0!==(ba&k.Qb)&&(15>c?X|=1<<c+1:0<f&&0<J&&(U[f-1]|=1)),0!==(ba&k.Rb)&&(0<
c?X|=1<<c-1:f<x-1&&J<v-1&&(U[f+1]|=32768)),0!==(ba&k.Ub)&&(15>c?ia|=1<<c+1:0<f&&0<J&&(M[f-1]|=1)),0!==(ba&k.sb)&&(0<c?ia|=1<<c-1:f<x-1&&J<v-1&&(M[f+1]|=32768)))}J+=1}Y[f]|=fa;0<d&&(U[f]|=X);d<t-1&&(M[f]|=ia)}else J+=16;K+=16;P+=16;P>=u&&(P=u-1)}for(f=0;f<v;f+=1)m[f]&&(f<l&&(l=f),f>e&&(e=f));l=(l<<4)+this.G(m[l]);e=(e<<4)+this.U(m[e]);0>b&&(b=u-1);B>=u&&(B=0);l>=y&&(l=0);0>e&&(e=y-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);e>y-1&&(e=y-1);r.B=b;r.m=B;r.j=l;r.A=e;z.fill(0);this.qa=C;this.Pb=G;this.cc=D};
p.prototype.IH=function(){var a=this.me,c,d,f,n,m=this.ja,q,u=this.height,y=this.width,v=y>>4,r=this.L,B=u,b=-1,l=y,e=-1,t=this.va,x=this.ta>>4,z=this.td,A=this.counter&1;this.cd&&(this.bd=!this.bd,this.cd=!1);if(0!==A){var C=this.Sb;var G=this.eb;var D=this.oa;var I=this.ha;this.bd&&(a=this.Jc)}else C=this.eb,G=this.Sb,D=this.ha,I=this.oa,this.sc&&(a=this.Gf),this.bd&&(a=this.sc?this.ne:this.Jc);this.bd&&(A=1-A);m.fill(0);var F=1-A;var E=F+16;I.jb.fill(0);for(d=0;d<D.length;d+=1){var H=0;var N=D[d];
var K=I[d];var P=0<d?I[d-1]:z;var J=d<t-1?I[d+1]:z;for(f=0;f<x;f+=1)if(n=N[f]){var T=K[f];var Y=P[f];var U=J[f];for(c=15;0<=c;--c){var M=0===c&&f===x-1?!0:!1;if(0!==(n&1<<c)){var fa=q=0;if(0!==A){var X=F;var ia=0;var na=C[X][H];var ba=C[X+1][H];ia|=na|ba;var W=a[na&65280|ba>>8];var ca=W&65280;var da=(W&255)<<8;W=a[(na&255)<<8|ba&255];ca|=W>>8;da|=W&255;G[X][H]=ca;G[X+1][H]=da;if(W=ca|da)q|=W,X<B&&(B=X),X+1>b&&(b=X+1),W&&(0!==(W&49152)&&(fa|=k.Qb),0!==(W&3)&&(fa|=k.Rb),fa|=k.Ib);for(X+=2;X<E-2;){na=
C[X][H];ba=C[X+1][H];ia|=na|ba;W=a[na&65280|ba>>8];ca=W&65280;da=(W&255)<<8;W=a[(na&255)<<8|ba&255];ca|=W>>8;da|=W&255;G[X][H]=ca;G[X+1][H]=da;if(W=ca|da)q|=W,X<B&&(B=X),X+1>b&&(b=X+1);X+=2}na=C[X][H];ba=C[X+1][H];ia|=na|ba;W=a[na&65280|ba>>8];ca=W&65280;da=(W&255)<<8;W=a[(na&255)<<8|ba&255];ca|=W>>8;da|=W&255;G[X][H]=ca;G[X+1][H]=da;if(W=ca|da)q|=W,X<B&&(B=X),X+1>b&&(b=X+1),W&&(0!==(W&49152)&&(fa|=k.Ub),0!==(W&3)&&(fa|=k.sb),fa|=k.tb);q&&(0!==(q&49152)&&(fa|=k.Kb),0!==(q&3)&&(fa|=k.ib),m[H]|=q);
if(q||ia)fa|=k.sb,fa|=k.ib}else{X=F;ia=0;M?(na=C[X][H]<<1&65535,ba=C[X+1][H]<<1&65535):(na=(C[X][H]<<1|C[X][H+1]>>15)&65535,ba=(C[X+1][H]<<1|C[X+1][H+1]>>15)&65535);ia|=na|ba;W=a[na&65280|ba>>8];ca=W&65280;da=(W&255)<<8;W=a[(na&255)<<8|ba&255];ca|=W>>8;da|=W&255;M?(G[X][H]=G[X][H]&32768|ca>>1,G[X+1][H]=G[X+1][H]&32768|da>>1):(G[X][H]=G[X][H]&32768|ca>>1,G[X][H+1]=G[X][H+1]&32767|(ca&1)<<15,G[X+1][H]=G[X+1][H]&32768|da>>1,G[X+1][H+1]=G[X+1][H+1]&32767|(da&1)<<15);if(W=ca|da)q|=W,X<B&&(B=X),X+1>b&&
(b=X+1);for(X+=2;X<E-2;){M?(na=C[X][H]<<1&65535,ba=C[X+1][H]<<1&65535):(na=(C[X][H]<<1|C[X][H+1]>>15)&65535,ba=(C[X+1][H]<<1|C[X+1][H+1]>>15)&65535);ia|=na|ba;W=a[na&65280|ba>>8];ca=W&65280;da=(W&255)<<8;W=a[(na&255)<<8|ba&255];ca|=W>>8;da|=W&255;M?(G[X][H]=G[X][H]&32768|ca>>1,G[X+1][H]=G[X+1][H]&32768|da>>1):(G[X][H]=G[X][H]&32768|ca>>1,G[X][H+1]=G[X][H+1]&32767|(ca&1)<<15,G[X+1][H]=G[X+1][H]&32768|da>>1,G[X+1][H+1]=G[X+1][H+1]&32767|(da&1)<<15);if(W=ca|da)q|=W,X<B&&(B=X),X+1>b&&(b=X+1);X+=2}M?(na=
C[X][H]<<1&65535,ba=C[X+1][H]<<1&65535):(na=(C[X][H]<<1|C[X][H+1]>>15)&65535,ba=(C[X+1][H]<<1|C[X+1][H+1]>>15)&65535);ia|=na|ba;W=a[na&65280|ba>>8];ca=W&65280;da=(W&255)<<8;W=a[(na&255)<<8|ba&255];ca|=W>>8;da|=W&255;M?(G[X][H]=G[X][H]&32768|ca>>1,G[X+1][H]=G[X+1][H]&32768|da>>1):(G[X][H]=G[X][H]&32768|ca>>1,G[X][H+1]=G[X][H+1]&32767|(ca&1)<<15,G[X+1][H]=G[X+1][H]&32768|da>>1,G[X+1][H+1]=G[X+1][H+1]&32767|(da&1)<<15);if(W=ca|da)q|=W,X<B&&(B=X),X+1>b&&(b=X+1),0!==(W&3)&&(fa|=k.sb),fa|=k.tb;na|ba&&(0!==
((na|ba)&3)&&(fa|=k.sb),fa|=k.tb);q&&(0!==(q&3)&&(fa|=k.ib),m[H]|=q>>1,m[H+1]|=(q&1)<<15);0!==(ia&1)&&(fa|=k.ib)}if(q||ia)T|=1<<c,fa&&(0!==(fa&k.Kb)&&(15>c?T|=1<<c+1:0<f&&0<H&&(K[f-1]|=1)),0!==(fa&k.ib)&&(0<c?T|=1<<c-1:f<x-1&&H<v-1&&(K[f+1]|=32768)),0!==(fa&k.Ib)&&(Y|=1<<c),0!==(fa&k.tb)&&(U|=1<<c),0!==(fa&k.Qb)&&(15>c?Y|=1<<c+1:0<f&&0<H&&(P[f-1]|=1)),0!==(fa&k.Rb)&&(0<c?Y|=1<<c-1:f<x-1&&H<v-1&&(P[f+1]|=32768)),0!==(fa&k.Ub)&&(15>c?U|=1<<c+1:0<f&&0<H&&(J[f-1]|=1)),0!==(fa&k.sb)&&(0<c?U|=1<<c-1:f<
x-1&&H<v-1&&(J[f+1]|=32768)))}H+=1}K[f]|=T;0<d&&(P[f]|=Y);d<t-1&&(J[f]|=U)}else H+=16;F+=16;E+=16;E>=u&&(E=u-1)}for(f=0;f<v;f+=1)m[f]&&(f<l&&(l=f),f>e&&(e=f));l=(l<<4)+this.G(m[l]);e=(e<<4)+this.U(m[e]);0>b&&(b=u-1);B>=u&&(B=0);l>=y&&(l=0);0>e&&(e=y-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);e>y-1&&(e=y-1);r.B=b;r.m=B;r.j=l;r.A=e;z.fill(0)};p.prototype.KH=function(){var a=this.Wh,c,d,f,n,m=this.ja,q,u=this.height,y=this.width,v=y>>4,r=this.L,B=u,b=-1,l=y,e=-1,t=this.va,x=this.ta>>4,z=this.td;var A=0;
var C=t;if(0!==(this.counter&1)){var G=this.Sb;var D=this.eb;var I=this.oa;var F=this.ha;this.sc&&(a=this.Ni)}else G=this.eb,D=this.Sb,I=this.ha,F=this.oa;m.fill(0);0>A&&(A=0);C>t&&(C=t);var E=A<<4;var H=E+16;F.jb.fill(0);for(d=A;d<C;d+=1){var N=0;var K=I[d];var P=F[d];var J=0<d?F[d-1]:z;var T=d<t-1?F[d+1]:z;for(f=0;f<x;f+=1)if(n=K[f]){var Y=P[f];var U=J[f];var M=T[f];for(c=15;0<=c;--c){if(0!==(n&1<<c)){var fa=q=0;var X=E;var ia=0===X?this.gf:G[X-1];var na=G[X];A=G[X+1];var ba=na[N];ia=ia[N-1]<<18|
ia[N]<<2|ia[N+1]>>14;var W=na[N-1]<<18|ba<<2|na[N+1]>>14;var ca=A[N-1]<<18|A[N]<<2|A[N+1]>>14;var da=a[ia>>7&7936|ca>>11&224|W>>15&31]<<15;da|=a[ca>>6&7936|ia>>10&224|W>>14&31]<<14;da|=a[ia>>5&7936|ca>>9&224|W>>13&31]<<13;da|=a[ca>>4&7936|ia>>8&224|W>>12&31]<<12;da|=a[ia>>3&7936|ca>>7&224|W>>11&31]<<11;da|=a[ca>>2&7936|ia>>6&224|W>>10&31]<<10;da|=a[ia>>1&7936|ca>>5&224|W>>9&31]<<9;da|=a[ca>>0&7936|ia>>4&224|W>>8&31]<<8;da|=a[ia<<1&7936|ca>>3&224|W>>7&31]<<7;da|=a[ca<<2&7936|ia>>2&224|W>>6&31]<<6;
da|=a[ia<<3&7936|ca>>1&224|W>>5&31]<<5;da|=a[ca<<4&7936|ia>>0&224|W>>4&31]<<4;da|=a[ia<<5&7936|ca<<1&224|W>>3&31]<<3;da|=a[ca<<6&7936|ia<<2&224|W>>2&31]<<2;da|=a[ia<<7&7936|ca<<3&224|W>>1&31]<<1;da|=a[ca<<8&7936|ia<<4&224|W>>0&31]<<0;if(D[X][N]=da)q|=da,X<B&&(B=X),X>b&&(b=X),0!==(da&49152)&&(fa|=k.Qb),0!==(da&3)&&(fa|=k.Rb),fa|=k.Ib;for(X+=1;X<H-1;){ba|=A[N];A=G[X+1];ia=W;W=ca;ca=A[N-1]<<18|A[N]<<2|A[N+1]>>14;0!==(X&1)&&(na=ia,ia=ca,ca=na);da=a[ia>>7&7936|ca>>11&224|W>>15&31]<<15;da|=a[ca>>6&7936|
ia>>10&224|W>>14&31]<<14;da|=a[ia>>5&7936|ca>>9&224|W>>13&31]<<13;da|=a[ca>>4&7936|ia>>8&224|W>>12&31]<<12;da|=a[ia>>3&7936|ca>>7&224|W>>11&31]<<11;da|=a[ca>>2&7936|ia>>6&224|W>>10&31]<<10;da|=a[ia>>1&7936|ca>>5&224|W>>9&31]<<9;da|=a[ca>>0&7936|ia>>4&224|W>>8&31]<<8;da|=a[ia<<1&7936|ca>>3&224|W>>7&31]<<7;da|=a[ca<<2&7936|ia>>2&224|W>>6&31]<<6;da|=a[ia<<3&7936|ca>>1&224|W>>5&31]<<5;da|=a[ca<<4&7936|ia>>0&224|W>>4&31]<<4;da|=a[ia<<5&7936|ca<<1&224|W>>3&31]<<3;da|=a[ca<<6&7936|ia<<2&224|W>>2&31]<<2;
da|=a[ia<<7&7936|ca<<3&224|W>>1&31]<<1;da|=a[ca<<8&7936|ia<<4&224|W>>0&31]<<0;0!==(X&1)&&(ca=na=ia);if(D[X][N]=da)q|=da,X<B&&(B=X),X>b&&(b=X);X+=1}ba|=A[N];A=X===this.height-1?this.gf:G[X+1];ia=W;W=ca;ca=A[N-1]<<18|A[N]<<2|A[N+1]>>14;0!==(X&1)&&(na=ia,ia=ca,ca=na);da=a[ia>>7&7936|ca>>11&224|W>>15&31]<<15;da|=a[ca>>6&7936|ia>>10&224|W>>14&31]<<14;da|=a[ia>>5&7936|ca>>9&224|W>>13&31]<<13;da|=a[ca>>4&7936|ia>>8&224|W>>12&31]<<12;da|=a[ia>>3&7936|ca>>7&224|W>>11&31]<<11;da|=a[ca>>2&7936|ia>>6&224|W>>
10&31]<<10;da|=a[ia>>1&7936|ca>>5&224|W>>9&31]<<9;da|=a[ca>>0&7936|ia>>4&224|W>>8&31]<<8;da|=a[ia<<1&7936|ca>>3&224|W>>7&31]<<7;da|=a[ca<<2&7936|ia>>2&224|W>>6&31]<<6;da|=a[ia<<3&7936|ca>>1&224|W>>5&31]<<5;da|=a[ca<<4&7936|ia>>0&224|W>>4&31]<<4;da|=a[ia<<5&7936|ca<<1&224|W>>3&31]<<3;da|=a[ca<<6&7936|ia<<2&224|W>>2&31]<<2;da|=a[ia<<7&7936|ca<<3&224|W>>1&31]<<1;da|=a[ca<<8&7936|ia<<4&224|W>>0&31]<<0;if(D[X][N]=da)q|=da,X<B&&(B=X),X>b&&(b=X),0!==(da&49152)&&(fa|=k.Ub),0!==(da&3)&&(fa|=k.sb),fa|=k.tb;
q&&(0!==(q&49152)&&(fa|=k.Kb),0!==(q&3)&&(fa|=k.ib));m[N]|=q;if(q||ba)Y|=1<<c,fa&&(0!==(fa&k.Kb)&&(15>c?Y|=1<<c+1:0<f&&0<N&&(P[f-1]|=1)),0!==(fa&k.ib)&&(0<c?Y|=1<<c-1:f<x-1&&N<v-1&&(P[f+1]|=32768)),0!==(fa&k.Ib)&&(U|=1<<c),0!==(fa&k.tb)&&(M|=1<<c),0!==(fa&k.Qb)&&(15>c?U|=1<<c+1:0<f&&0<N&&(J[f-1]|=1)),0!==(fa&k.Rb)&&(0<c?U|=1<<c-1:f<x-1&&N<v-1&&(J[f+1]|=32768)),0!==(fa&k.Ub)&&(15>c?M|=1<<c+1:0<f&&0<N&&(T[f-1]|=1)),0!==(fa&k.sb)&&(0<c?M|=1<<c-1:f<x-1&&N<v-1&&(T[f+1]|=32768)))}N+=1}P[f]|=Y;0<d&&(J[f]|=
U);d<t-1&&(T[f]|=M)}else N+=16;E+=16;H+=16}for(f=0;f<v;f+=1)m[f]&&(f<l&&(l=f),f>e&&(e=f));l=(l<<4)+this.G(m[l]);e=(e<<4)+this.U(m[e]);0>b&&(b=u-1);B>=u&&(B=0);l>=y&&(l=0);0>e&&(e=y-1);b>u-1&&(b=u-1);0>B&&(B=0);0>l&&(l=0);e>y-1&&(e=y-1);r.B=b;r.m=B;r.j=l;r.A=e;z.fill(0)};p.prototype.KK=function(){var a=this.Uh,c,d,f,n,m,q,u=this.ja,y,v=this.bb,r,B=this.Tf,b=0,l=0,e=0,t=this.height,x=this.width,z=x>>4,A=this.L,C=t,G=-1,D=x,I=-1,F=this.va,E=this.ta>>4,H=this.td,N=this.Ba,K=this.xa,P=Math.round((this.width-
N)/2),J=Math.round((this.height-K)/2),T=P+N-1,Y=J+K-1;if(0!==(this.counter&1)){var U=this.Sb;var M=this.eb;var fa=this.oa;var X=this.ha;this.sc&&(a=this.dg)}else U=this.eb,M=this.Sb,fa=this.ha,X=this.oa;u.fill(0);v.fill(0);var ia=0;var na=ia+16;X.jb.fill(0);for(f=0;f<fa.length;f+=1){var ba=0;var W=fa[f];var ca=X[f];var da=0<f?X[f-1]:H;var ma=f<F-1?X[f+1]:H;for(n=0;n<E;n+=1)if(m=W[n]){var la=ca[n];var V=da[n];var R=ma[n];for(c=15;0<=c;--c){if(0!==(m&1<<c)){var Z=r=y=0;var ea=ia;var ha=32768;var aa=
0===ea?this.gf:U[ea-1];var L=U[ea];var Q=U[ea+1];var ka=q=L[ba];if(ba)if(ba>=z-1){aa=(aa[ba-1]&1)<<17|aa[ba]<<1;L=(L[ba-1]&1)<<17|q<<1;var S=(Q[ba-1]&1)<<17|Q[ba]<<1;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d],0!==(d&32768)&&(Z|=k.Qb),Z|=k.Ib;M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;for(ha>>=1;ea<na-1;){q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<
1;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1}q=Q[ba];ka|=q;Q=ea===this.height-1?this.gf:U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d],
0!==(d&32768)&&(Z|=k.Ub),Z|=k.tb}else{aa=(aa[ba-1]&1)<<17|aa[ba]<<1|aa[ba+1]>>15;L=(L[ba-1]&1)<<17|q<<1|L[ba+1]>>15;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d],0!==(d&32768)&&(Z|=k.Qb),0!==(d&1)&&(Z|=k.Rb),Z|=k.Ib;M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<
1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];
M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&
4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=
L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|
(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&
258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=
1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<
4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=
a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1;q=Q[ba];ka|=q;Q=ea===this.height-1?this.gf:U[ea+1];aa=L;L=S;S=(Q[ba-1]&1)<<17|Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d],0!==
(d&32768)&&(Z|=k.Ub),0!==(d&1)&&(Z|=k.sb),Z|=k.tb}else{aa=aa[ba]<<1|aa[ba+1]>>15;L=q<<1|L[ba+1]>>15;S=Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,0!==(d&1)&&(Z|=k.Rb),Z|=k.Ib,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;for(ha>>=1;ea<na-1;){q=Q[ba];ka|=q;Q=U[ea+1];aa=L;L=S;S=Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<
12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d];M[ea][ba]=d;d|q&&(l+=B[d&~q],e+=B[q&~d]);ea+=1;ha>>=1}q=Q[ba];ka|=q;Q=ea===this.height-1?this.gf:U[ea+1];aa=L;L=S;S=Q[ba]<<1|Q[ba+1]>>15;if(d=aa|L|S)if(d=a[aa>>12|L>>12<<6|S&258048]<<12,d|=a[aa>>8&63|L>>2&4032|S<<4&258048]<<8,d|=a[aa>>4&63|L<<2&4032|S<<8&258048]<<4,d|=a[aa&63|(L&63)<<6|(S&63)<<12])y|=d,r|=ha,b+=B[d],0!==(d&1)&&(Z|=k.sb),Z|=k.tb}M[ea][ba]=d;d|q&&(l+=
B[d&~q],e+=B[q&~d]);y&&(0!==(y&32768)&&(Z|=k.Kb),0!==(y&1)&&(Z|=k.ib));u[ba]|=y;if(y||ka)la|=1<<c,Z&&(0!==(Z&k.Kb)&&(15>c?la|=1<<c+1:0<n&&0<ba&&(ca[n-1]|=1)),0!==(Z&k.ib)&&(0<c?la|=1<<c-1:n<E-1&&ba<z-1&&(ca[n+1]|=32768)),0!==(Z&k.Ib)&&(V|=1<<c),0!==(Z&k.tb)&&(R|=1<<c),0!==(Z&k.Qb)&&(15>c?V|=1<<c+1:0<n&&0<ba&&(da[n-1]|=1)),0!==(Z&k.Rb)&&(0<c?V|=1<<c-1:n<E-1&&ba<z-1&&(da[n+1]|=32768)),0!==(Z&k.Ub)&&(15>c?R|=1<<c+1:0<n&&0<ba&&(ma[n-1]|=1)),0!==(Z&k.sb)&&(0<c?R|=1<<c-1:n<E-1&&ba<z-1&&(ma[n+1]|=32768)));
v[f]|=r}ba+=1}ca[n]|=la;0<f&&(da[n]|=V);f<F-1&&(ma[n]|=R)}else ba+=16;ia+=16;na+=16}-1!==this.ya&&(0!==N&&(u[P-1>>4]&=~(1<<(~(P-1)&15)),u[T+1>>4]&=~(1<<(~(T+1)&15)),u[P-2>>4]&=~(1<<(~(P-2)&15)),u[T+2>>4]&=~(1<<(~(T+2)&15))),0!==K&&(v[J-1>>4]&=~(1<<(~(J-1)&15)),v[Y+1>>4]&=~(1<<(~(Y+1)&15)),v[J-2>>4]&=~(1<<(~(J-2)&15)),v[Y+2>>4]&=~(1<<(~(Y+2)&15))));for(n=0;n<z;n+=1)u[n]&&(n<D&&(D=n),n>I&&(I=n));for(f=0;f<v.length;f+=1)v[f]&&(f<C&&(C=f),f>G&&(G=f));D=(D<<4)+this.G(u[D]);I=(I<<4)+this.U(u[I]);C=(C<<
4)+this.G(v[C]);G=(G<<4)+this.U(v[G]);0>G&&(G=t-1);C>=t&&(C=0);D>=x&&(D=0);0>I&&(I=x-1);G>t-1&&(G=t-1);0>C&&(C=0);0>D&&(D=0);I>x-1&&(I=x-1);A.B=G;A.m=C;A.j=D;A.A=I;H.fill(0);this.qa=b;this.Pb=l;this.cc=e};p.prototype.JH=function(){var a=this.Uh,c,d,f,n,m,q=this.ja,u,y=this.bb,v,r=this.height,B=this.width,b=B>>4,l=this.L,e=r,t=-1,x=B,z=-1,A=this.va,C=this.ta>>4,G=this.td,D=this.Ba,I=this.xa,F=Math.round((this.width-D)/2),E=Math.round((this.height-I)/2),H=F+D-1,N=E+I-1;if(0!==(this.counter&1)){var K=
this.Sb;var P=this.eb;var J=this.oa;var T=this.ha;this.sc&&(a=this.dg)}else K=this.eb,P=this.Sb,J=this.ha,T=this.oa;q.fill(0);y.fill(0);var Y=0;var U=Y+16;T.jb.fill(0);for(f=0;f<J.length;f+=1){var M=0;var fa=J[f];var X=T[f];var ia=0<f?T[f-1]:G;var na=f<A-1?T[f+1]:G;for(n=0;n<C;n+=1)if(m=fa[n]){var ba=X[n];var W=ia[n];var ca=na[n];for(c=15;0<=c;--c){if(0!==(m&1<<c)){var da=v=u=0;var ma=Y;var la=32768;var V=0===ma?this.gf:K[ma-1];var R=K[ma];var Z=K[ma+1];var ea=R[M];if(M)if(M>=b-1){V=(V[M-1]&1)<<17|
V[M]<<1;R=(R[M-1]&1)<<17|ea<<1;var ha=(Z[M-1]&1)<<17|Z[M]<<1;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la,0!==(d&32768)&&(da|=k.Qb),da|=k.Ib;P[ma][M]=d;ma+=1;for(la>>=1;ma<U-1;){ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&
63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1}ea|=Z[M];Z=ma===this.height-1?this.gf:K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la,0!==(d&32768)&&(da|=k.Ub),da|=k.tb}else{V=(V[M-1]&1)<<17|V[M]<<1|V[M+1]>>15;R=(R[M-1]&1)<<17|ea<<1|R[M+1]>>15;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<
12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la,0!==(d&32768)&&(da|=k.Qb),0!==(d&1)&&(da|=k.Rb),da|=k.Ib;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=
(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];
Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;
ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=
d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&
63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<
4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<
2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1;ea|=Z[M];Z=ma===this.height-1?this.gf:K[ma+1];V=R;R=ha;ha=(Z[M-1]&1)<<17|Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>
8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la,0!==(d&32768)&&(da|=k.Ub),0!==(d&1)&&(da|=k.sb),da|=k.tb}else{V=V[M]<<1|V[M+1]>>15;R=ea<<1|R[M+1]>>15;ha=Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la,0!==(d&1)&&(da|=k.Rb),da|=k.Ib;P[ma][M]=d;ma+=1;for(la>>=1;ma<U-1;){ea|=Z[M];Z=K[ma+1];V=
R;R=ha;ha=Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la;P[ma][M]=d;ma+=1;la>>=1}ea|=Z[M];Z=ma===this.height-1?this.gf:K[ma+1];V=R;R=ha;ha=Z[M]<<1|Z[M+1]>>15;if(d=V|R|ha)if(d=a[V>>12|R>>12<<6|ha&258048]<<12,d|=a[V>>8&63|R>>2&4032|ha<<4&258048]<<8,d|=a[V>>4&63|R<<2&4032|ha<<8&258048]<<4,d|=a[V&63|(R&63)<<6|(ha&63)<<12])u|=d,v|=la,0!==(d&1)&&(da|=k.sb),da|=
k.tb}P[ma][M]=d;u&&(0!==(u&32768)&&(da|=k.Kb),0!==(u&1)&&(da|=k.ib));q[M]|=u;if(u||ea)ba|=1<<c,da&&(0!==(da&k.Kb)&&(15>c?ba|=1<<c+1:0<n&&0<M&&(X[n-1]|=1)),0!==(da&k.ib)&&(0<c?ba|=1<<c-1:n<C-1&&M<b-1&&(X[n+1]|=32768)),0!==(da&k.Ib)&&(W|=1<<c),0!==(da&k.tb)&&(ca|=1<<c),0!==(da&k.Qb)&&(15>c?W|=1<<c+1:0<n&&0<M&&(ia[n-1]|=1)),0!==(da&k.Rb)&&(0<c?W|=1<<c-1:n<C-1&&M<b-1&&(ia[n+1]|=32768)),0!==(da&k.Ub)&&(15>c?ca|=1<<c+1:0<n&&0<M&&(na[n-1]|=1)),0!==(da&k.sb)&&(0<c?ca|=1<<c-1:n<C-1&&M<b-1&&(na[n+1]|=32768)));
y[f]|=v}M+=1}X[n]|=ba;0<f&&(ia[n]|=W);f<A-1&&(na[n]|=ca)}else M+=16;Y+=16;U+=16}-1!==this.ya&&(0!==D&&(q[F-1>>4]&=~(1<<(~(F-1)&15)),q[H+1>>4]&=~(1<<(~(H+1)&15)),q[F-2>>4]&=~(1<<(~(F-2)&15)),q[H+2>>4]&=~(1<<(~(H+2)&15))),0!==I&&(y[E-1>>4]&=~(1<<(~(E-1)&15)),y[N+1>>4]&=~(1<<(~(N+1)&15)),y[E-2>>4]&=~(1<<(~(E-2)&15)),y[N+2>>4]&=~(1<<(~(N+2)&15))));for(n=0;n<b;n+=1)q[n]&&(n<x&&(x=n),n>z&&(z=n));for(f=0;f<y.length;f+=1)y[f]&&(f<e&&(e=f),f>t&&(t=f));x=(x<<4)+this.G(q[x]);z=(z<<4)+this.U(q[z]);e=(e<<4)+this.G(y[e]);
t=(t<<4)+this.U(y[t]);0>t&&(t=r-1);e>=r&&(e=0);x>=B&&(x=0);0>z&&(z=B-1);t>r-1&&(t=r-1);0>e&&(e=0);0>x&&(x=0);z>B-1&&(z=B-1);l.B=t;l.m=e;l.j=x;l.A=z;G.fill(0)};p.prototype.nz=function(a,c){var d,f=this.Ca,n,m,q,u,y=this.va,v=this.ta>>4;var r=0;var B=r+16;for(n=0;n<y;n+=1){var b=0;var l=f[n];for(m=0;m<v;m+=1)if(u=l[m])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(d=r;d<B;d+=2){var e=c[d];var t=a[d];var x=a[d+1];var z=b<<3;var A=t[z];A|=x[z];e[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];e[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];
e[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];e[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];e[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];e[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];e[z+z]=A|A>>8;z+=1;A=t[z];A|=x[z];e[z+z]=A|A>>8}b+=1}else b+=16;r+=16;B+=16}};p.prototype.qt=function(a,c){var d,f=this.Ca,n,m,q,u,y=this.va,v=this.ta>>4;var r=0;var B=r+16;for(n=0;n<y;n+=1){var b=0;var l=f[n];for(m=0;m<v;m+=1)if(u=l[m])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(d=r;d<B;d+=2){var e=c[d];var t=a[d];var x=a[d+1];var z=b<<3;var A=t[z];var C=A&255;A>>=8;
C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=
1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&C-(A&255)>>255);z+=1;A=t[z];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=x[z];C-=C-(A&255)&C-(A&255)>>255;A>>=8;e[z+z]=C-(C-(A&255)&
C-(A&255)>>255)}b+=1}else b+=16;r+=16;B+=16}};p.prototype.Ez=function(a,c){var d,f=this.Ca,n,m,q,u,y=this.va,v=this.ta>>4;var r=0;var B=r+16;for(n=0;n<y;n+=1){var b=0;var l=f[n];for(m=0;m<v;m+=1)if(u=l[m])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(d=r;d<B;d+=4){var e=c[d];var t=a[d];var x=a[d+1];var z=a[d+2];var A=a[d+3];var C=b<<2;var G=b<<4;var D=t[C]|x[C]|z[C]|A[C];e[G]=(0<D)<<6;C+=1;G+=4;D=t[C]|x[C]|z[C]|A[C];e[G]=(0<D)<<6;C+=1;G+=4;D=t[C]|x[C]|z[C]|A[C];e[G]=(0<D)<<6;C+=1;G+=4;D=t[C]|x[C]|z[C]|A[C];
e[G]=(0<D)<<6}b+=1}else b+=16;r+=16;B+=16}};p.prototype.rt=function(a,c){var d,f,n=this.Ca,m,q,u,y,v,r=this.va,B=this.ta>>4;var b=0;var l=b+16;for(q=0;q<r;q+=1){var e=0;var t=n[q];for(u=0;u<B;u+=1)if(v=t[u])for(y=15;0<=y;--y){if(0!==(v&1<<y))for(d=b;d<l;d+=4){var x=c[d];var z=a[d];var A=a[d+1];var C=a[d+2];var G=a[d+3];var D=e<<2;var I=e<<4;for(f=0;4>f;f+=1){var F=0;if(m=z[D])F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>
255;if(m=A[D])F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255;if(m=C[D])F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255;if(m=G[D])F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255,m>>=8,F-=F-(m&255)&F-(m&255)>>255;x[I]=F;D+=1;I+=4}}e+=1}else e+=16;b+=16;l+=16}};p.prototype.Qz=function(a,c){var d,
f=this.Ca,n,m,q,u,y=this.va,v=this.ta>>4;var r=0;var B=r+16;for(n=0;n<y;n+=1){var b=0;var l=f[n];for(m=0;m<v;m+=1)if(u=l[m])for(q=15;0<=q;--q){if(0!==(u&1<<q))for(d=r;d<B;d+=8){var e=c[d];var t=a[d];var x=a[d+1];var z=a[d+2];var A=a[d+3];var C=a[d+4];var G=a[d+5];var D=a[d+6];var I=a[d+7];var F=b<<2;var E=b<<4;var H=t[F]|t[F+1];H|=x[F]|x[F+1];H|=z[F]|z[F+1];H|=A[F]|A[F+1];0===H&&(H|=C[F]|C[F+1],H|=G[F]|G[F+1],H|=D[F]|D[F+1],H|=I[F]|I[F+1]);e[E]=(0<H)<<6;F+=2;E+=8;H=t[F]|t[F+1];H|=x[F]|x[F+1];H|=z[F]|
z[F+1];H|=A[F]|A[F+1];0===H&&(H|=C[F]|C[F+1],H|=G[F]|G[F+1],H|=D[F]|D[F+1],H|=I[F]|I[F+1]);e[E]=(0<H)<<6}b+=1}else b+=16;r+=16;B+=16}};p.prototype.st=function(a,c){var d,f,n=this.Ca,m,q,u,y,v,r=this.va,B=this.ta>>4;var b=0;var l=b+16;for(q=0;q<r;q+=1){var e=0;var t=n[q];for(u=0;u<B;u+=1)if(v=t[u])for(y=15;0<=y;--y){if(0!==(v&1<<y))for(d=b;d<l;d+=8){var x=c[d];var z=a[d];var A=a[d+1];var C=a[d+2];var G=a[d+3];var D=a[d+4];var I=a[d+5];var F=a[d+6];var E=a[d+7];var H=e<<2;var N=e<<4;for(f=0;2>f;f+=
1){var K=0;if(m=z[H])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=z[H+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=A[H])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=A[H+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>
255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=C[H])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=C[H+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=G[H])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=G[H+
1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=D[H])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=D[H+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=I[H])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&
255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=I[H+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=F[H])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=F[H+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=E[H])K-=K-(m&255)&
K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;if(m=E[H+1])K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255,m>>=8,K-=K-(m&255)&K-(m&255)>>255;x[N]=K;H+=2;N+=8}}e+=1}else e+=16;b+=16;l+=16}};p.prototype.bz=function(a,c){var d=this.Ca,f,n,m,q,u,y=this.va,v=this.ta>>4;for(f=q=0;f<y;f+=1){var r=0;var B=d[f];for(n=0;n<v;n+=1)if(u=B[n])for(m=15;0<=m;--m){if(0!==(u&1<<m)){var b=c[q];var l=
a[q];var e=a[q+1];var t=a[q+2];var x=a[q+3];var z=a[q+4];var A=a[q+5];var C=a[q+6];var G=a[q+7];var D=a[q+8];var I=a[q+9];var F=a[q+10];var E=a[q+11];var H=a[q+12];var N=a[q+13];var K=a[q+14];var P=a[q+15];var J=r<<2;var T=r<<4;l=l[J]|l[J+1]|l[J+2]|l[J+3];l|=e[J]|e[J+1]|e[J+2]|e[J+3];l|=t[J]|t[J+1]|t[J+2]|t[J+3];l|=x[J]|x[J+1]|x[J+2]|x[J+3];0===l&&(l|=z[J]|z[J+1]|z[J+2]|z[J+3],l|=A[J]|A[J+1]|A[J+2]|A[J+3],l|=C[J]|C[J+1]|C[J+2]|C[J+3],l|=G[J]|G[J+1]|G[J+2]|G[J+3],0===l&&(l|=D[J]|D[J+1]|D[J+2]|D[J+
3],l|=I[J]|I[J+1]|I[J+2]|I[J+3],l|=F[J]|F[J+1]|F[J+2]|F[J+3],l|=E[J]|E[J+1]|E[J+2]|E[J+3],0===l&&(l|=H[J]|H[J+1]|H[J+2]|H[J+3],l|=N[J]|N[J+1]|N[J+2]|N[J+3],l|=K[J]|K[J+1]|K[J+2]|K[J+3],l|=P[J]|P[J+1]|P[J+2]|P[J+3])));b[T]=(0<l)<<6}r+=1}else r+=16;q+=16}};p.prototype.pt=function(a,c){var d=this.Ca,f,n,m,q,u,y,v=this.va,r=this.ta>>4;var B=0;var b=B+16;for(n=0;n<v;n+=1){var l=0;var e=d[n];for(m=0;m<r;m+=1)if(y=e[m])for(q=15;0<=q;--q){if(0!==(y&1<<q)){var t=0;for(u=B;u<b;u+=1){var x=a[u];var z=l<<2;if(f=
x[z])t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255;if(f=x[z+1])t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255;if(f=x[z+2])t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255;if(f=x[z+3])t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255,f>>=8,t-=
t-(f&255)&t-(f&255)>>255,f>>=8,t-=t-(f&255)&t-(f&255)>>255}x=c[B];z=l<<4;x[z]=t}l+=1}else l+=16;B+=16;b+=16}};p.prototype.BC=function(a,c){var d=this.na;.5<=d&&1>d?this.tl||this.sa||this.N||this.fa||this.T?this.qt(a,this.Ec):this.nz(a,this.Ec):.25<=d&&.5>d?this.tl||this.sa||this.N||this.fa||this.T?this.rt(c,this.Ec):this.Ez(c,this.Ec):.125<=d&&.25>d?this.tl||this.sa||this.N||this.fa||this.T?this.st(c,this.Ec):this.Qz(c,this.Ec):.125>d&&(this.tl||this.sa||this.N||this.fa||this.T?this.pt(c,this.Ec):
this.bz(c,this.Ec));this.dj&&(.5<=d&&1>d?this.qt(this.jo,this.De):.25<=d&&.5>d?this.rt(this.jl,this.De):.125<=d&&.25>d?this.st(this.jl,this.De):.125>d&&this.pt(this.jl,this.De))};p.prototype.SJ=function(){var a=this.Ca,c=this.Ka,d=this.Oc,f,n,m,q,u=this.width,y=u>>4,v=this.height,r=u,B=-1,b=-1,l=v,e=this.L,t,x=this.ja,z,A,C=this.bb;var G=this.va;var D=this.ta>>4;var I=0;var F=G,E=this.Tf;this.da=0;if(0!==(this.counter&1)){var H=this.Sb;var N=this.oa;var K=this.ba;var P=this.Ma}else H=this.eb,N=this.ha,
K=this.Ma,P=this.ba;0>I&&(I=0);F>G&&(F=G);x.fill(0);C.fill(0);G=I<<4;var J=G+16;for(f=I;f<F;f+=1){var T=0;var Y=N[f];var U=c[f];var M=a[f];for(n=0;n<D;n+=1){if(q=Y[n]|U[n])for(m=15;0<=m;--m){if(0!==(q&1<<m)){var fa=z=0;var X=32768;var ia=0;for(I=G;I<J;I+=1){var na=H[I];var ba=K[I];var W=0===I?d:K[I-1];var ca=I===this.height-1?d:K[I+1];var da=P[I];var ma=T<<4;if(0===ma)var la=t=0;else t=ba[ma-1],la=W[ma-1];var V=ca[ma];var R=ba[ma];var Z=na[T];for(A=32768;0<A;){var ea=la;la=W[ma];var ha=t;t=R;R=ba[ma+
1];var aa=V;V=ca[ma+1];var L=t;var Q=!0;if(0!==(ia&64)){Q=!1;if(7===t||8===t||13<=t)L=0;else switch(t){case 1:L=2;break;case 3:case 5:L=4;break;case 9:L=10;break;case 11:L=12;break;default:Q=!0}Q||0===(t&1)||(na[T]&=~A)}ia=1<<ea|1<<la|1<<R|1<<ha|1<<aa|1<<V;if(Q)if(0!==(Z&A)){if(0===(t&1))switch(t){case 4:L=3;break;case 6:na[T]&=~A;break;case 8:L=7;break;default:L=1,Q=ia&44739072,0===(ia&170)&&1===E[Q&65535]+E[Q>>16]?(L=0,65535<Q&&(Q>>=16,L+=16),255<Q&&(Q>>=8,L+=8),15<Q&&(Q>>=4,L+=4),3<Q&&(Q>>=2,L+=
2),L+=Q>>1):(Q=ia&44736512,0!==(ia&8)&&0===(ia&2722)&&1===E[Q&65535]+E[Q>>16]?(L=0,65535<Q&&(Q>>=16,L+=16),255<Q&&(Q>>=8,L+=8),15<Q&&(Q>>=4,L+=4),3<Q&&(Q>>=2,L+=2),L+=Q>>1):(Q=ia&2560,0!==(ia&128)&&0===(ia&44736554)&&1===E[Q&65535]+E[Q>>16]?(L=0,65535<Q&&(Q>>=16,L+=16),255<Q&&(Q>>=8,L+=8),15<Q&&(Q>>=4,L+=4),3<Q&&(Q>>=2,L+=2),L+=Q>>1):(Q=ia&44736640)&&0===(ia&2602)&&(L=13)))}}else if(0!==(t&1))11>=t?5===t?L=4:L=t+1:L=0;else if(14===t)L=0;else if(14<t)switch(t){case 16:0!==(ia&44755626)&&(L=14);break;
case 18:0!==(ia&4194304)&&(L=22);break;case 20:0!==(ia&262144)&&(L=18);break;case 22:0!==(ia&1048576)&&(L=20);break;case 24:0!==(ia&45017770)&&(L=18)}da[ma]=L;0<L&&(z|=A,fa|=X);A>>=1;ma+=1}this.da|=Z;X>>=1}x[T]|=z;C[f]|=fa}T+=1}else T+=16;U[n]=q|0;M[n]=M[n]|q|0}G+=16;J+=16}for(n=0;n<y;n+=1)x[n]&&(n<r&&(r=n),n>B&&(B=n));for(f=0;f<C.length;f+=1)C[f]&&(f<l&&(l=f),f>b&&(b=f));r=(r<<4)+this.G(x[r]);B=(B<<4)+this.U(x[B]);l=(l<<4)+this.G(C[l]);b=(b<<4)+this.U(C[b]);0>b&&(b=v-1);l>=v&&(l=0);r>=u&&(r=0);0>
B&&(B=u-1);b>v-1&&(b=v-1);0>l&&(l=0);0>r&&(r=0);B>u-1&&(B=u-1);e.B=b;e.m=l;e.j=r;e.A=B};p.prototype.JK=function(){var a=this.Ca,c=this.Ka,d=this.Oc,f,n,m,q,u=this.width,y=u>>4,v=this.height,r=u,B=-1,b=-1,l=v,e=this.L,t=0,x=this.ja,z,A,C=this.bb;var G=this.va;var D=this.ta>>4;var I=0;var F=G,E=this.Tf;this.da=0;if(0!==(this.counter&1)){var H=this.Sb;var N=this.oa;var K=this.ba;var P=this.Ma}else H=this.eb,N=this.ha,K=this.Ma,P=this.ba;0>I&&(I=0);F>G&&(F=G);x.fill(0);C.fill(0);G=I<<4;var J=G+16;for(f=
I;f<F;f+=1){var T=0;var Y=N[f];var U=c[f];var M=a[f];for(n=0;n<D;n+=1){if(q=Y[n]|U[n])for(m=15;0<=m;--m){if(0!==(q&1<<m)){var fa=z=0;var X=32768;for(I=G;I<J;I+=1){var ia=H[I];var na=K[I];var ba=0===I?d:K[I-1];var W=I===this.height-1?d:K[I+1];var ca=P[I];var da=T<<4;0===da?t=0:t=na[da-1];var ma=na[da];var la=ia[T];for(A=32768;0<A;){var V=ba[da];var R=t;t=ma;ma=na[da+1];var Z=W[da];var ea=t;V=1<<V|1<<ma|1<<R|1<<Z;R=!0;if(0!==(V&64)){R=!1;if(7===t||8===t||13<=t)ea=0;else switch(t){case 1:ea=2;break;
case 3:case 5:ea=4;break;case 9:ea=10;break;case 11:ea=12;break;default:R=!0}R||0===(t&1)||(ia[T]&=~A)}if(R)if(0!==(la&A)){if(0===(t&1))switch(t){case 4:ea=3;break;case 6:ia[T]&=~A;break;case 8:ea=7;break;default:ea=1,R=V&44739072,0===(V&170)&&1===E[R&65535]+E[R>>16]?(ea=0,65535<R&&(R>>=16,ea+=16),255<R&&(R>>=8,ea+=8),15<R&&(R>>=4,ea+=4),3<R&&(R>>=2,ea+=2),ea+=R>>1):(R=V&44736512,0!==(V&8)&&0===(V&2722)&&1===E[R&65535]+E[R>>16]?(ea=0,65535<R&&(R>>=16,ea+=16),255<R&&(R>>=8,ea+=8),15<R&&(R>>=4,ea+=
4),3<R&&(R>>=2,ea+=2),ea+=R>>1):(R=V&2560,0!==(V&128)&&0===(V&44736554)&&1===E[R&65535]+E[R>>16]?(ea=0,65535<R&&(R>>=16,ea+=16),255<R&&(R>>=8,ea+=8),15<R&&(R>>=4,ea+=4),3<R&&(R>>=2,ea+=2),ea+=R>>1):(R=V&44736640)&&0===(V&2602)&&(ea=13)))}}else if(0!==(t&1))11>=t?5===t?ea=4:ea=t+1:ea=0;else if(14===t)ea=0;else if(14<t)switch(t){case 16:0!==(V&44755626)&&(ea=14);break;case 18:0!==(V&4194304)&&(ea=22);break;case 20:0!==(V&262144)&&(ea=18);break;case 22:0!==(V&1048576)&&(ea=20);break;case 24:0!==(V&45017770)&&
(ea=18)}ca[da]=ea;0<ea&&(z|=A,fa|=X);A>>=1;da+=1}this.da|=la;X>>=1}x[T]|=z;C[f]|=fa}T+=1}else T+=16;U[n]=q|0;M[n]=M[n]|q|0}G+=16;J+=16}for(n=0;n<y;n+=1)x[n]&&(n<r&&(r=n),n>B&&(B=n));for(f=0;f<C.length;f+=1)C[f]&&(f<l&&(l=f),f>b&&(b=f));r=(r<<4)+this.G(x[r]);B=(B<<4)+this.U(x[B]);l=(l<<4)+this.G(C[l]);b=(b<<4)+this.U(C[b]);0>b&&(b=v-1);l>=v&&(l=0);r>=u&&(r=0);0>B&&(B=u-1);b>v-1&&(b=v-1);0>l&&(l=0);0>r&&(r=0);B>u-1&&(B=u-1);e.B=b;e.m=l;e.j=r;e.A=B};p.prototype.wK=function(){var a=this.Ca,c=this.Ka,
d=this.Oc,f,n,m,q,u=this.width,y=u>>4,v=this.height,r=u,B=-1,b=-1,l=v,e=this.L,t=this.ja,x,z,A=this.bb;var C=this.va;var G=this.ta>>4;var D=0;var I=C,F=this.xt;this.da=0;if(0!==(this.counter&1)){var E=this.Sb;var H=this.oa;var N=this.ba;var K=this.Ma}else E=this.eb,H=this.ha,N=this.Ma,K=this.ba;0>D&&(D=0);I>C&&(I=C);t.fill(0);A.fill(0);C=D<<4;var P=C+16;for(f=D;f<I;f+=1){var J=0;var T=H[f];var Y=c[f];var U=a[f];for(n=0;n<G;n+=1){if(q=T[n]|Y[n])for(m=15;0<=m;--m){if(0!==(q&1<<m)){var M=x=0;var fa=
32768;for(D=C;D<P;D+=1){var X=E[D];var ia=N[D];var na=0===D?d:N[D-1];var ba=D===this.height-1?d:N[D+1];var W=K[D];var ca=J<<4;if(0===ca)var da=0;else{var ma=ia[ca-1];da=1<<na[ca-1]|1<<ma|1<<ba[ca-1]}var la=ia[ca];var V=1<<la|1<<ba[ca]|1<<na[ca];var R=X[J];for(z=32768;0<z;){ca+=1;ma=la;la=ia[ca];var Z=da;da=V;V=1<<la|1<<ba[ca]|1<<na[ca];var ea=ma;Z=Z|da|V;var ha=!0;if(0!==(Z&64)){ha=!1;if(7===ma||8===ma||13<=ma)ea=0;else switch(ma){case 1:ea=2;break;case 3:case 5:ea=4;break;case 9:ea=10;break;case 11:ea=
12;break;default:ha=!0}ha||0===(ma&1)||(X[J]&=~z)}if(ha)if(0!==(R&z)){if(0===(ma&1))switch(ma){case 4:ea=3;break;case 6:X[J]&=~z;break;case 8:ea=7;break;default:ea=1,ma=Z&44739072,0===(Z&170)&&ma&&0===(ma&ma-1)?(ea=0,65535<ma&&(ma>>=16,ea+=16),ea+=F[ma]):(ma=Z&44736512,0!==(Z&8)&&0===(Z&2722)&&ma&&0===(ma&ma-1)?(ea=0,65535<ma&&(ma>>=16,ea+=16),ea+=F[ma]):(ma=Z&2560,0!==(Z&128)&&0===(Z&44736554)&&ma&&0===(ma&ma-1)?(ea=0,65535<ma&&(ma>>=16,ea+=16),ea+=F[ma]):(ma=Z&44736640)&&0===(Z&2602)&&(ea=13)))}}else if(0!==
(ma&1))11>=ma?5===ma?ea=4:ea=ma+1:ea=0;else if(14<=ma)switch(ma){case 14:ea=0;break;case 16:0!==(Z&44755626)&&(ea=14);break;case 18:0!==(Z&4194304)&&(ea=22);break;case 20:0!==(Z&262144)&&(ea=18);break;case 22:0!==(Z&1048576)&&(ea=20);break;case 24:0!==(Z&45017770)&&(ea=18)}W[ca-1]=ea;0<ea&&(x|=z,M|=fa);z>>=1}this.da|=R;fa>>=1}t[J]|=x;A[f]|=M}J+=1}else J+=16;Y[n]=q|0;U[n]=U[n]|q|0}C+=16;P+=16}for(n=0;n<y;n+=1)t[n]&&(n<r&&(r=n),n>B&&(B=n));for(f=0;f<A.length;f+=1)A[f]&&(f<l&&(l=f),f>b&&(b=f));r=(r<<
4)+this.G(t[r]);B=(B<<4)+this.U(t[B]);l=(l<<4)+this.G(A[l]);b=(b<<4)+this.U(A[b]);0>b&&(b=v-1);l>=v&&(l=0);r>=u&&(r=0);0>B&&(B=u-1);b>v-1&&(b=v-1);0>l&&(l=0);0>r&&(r=0);B>u-1&&(B=u-1);e.B=b;e.m=l;e.j=r;e.A=B};p.prototype.tx=function(){var a=this.ba,c=this.Ca,d=this.Ka,f,n,m,q,u,y=0,v=0,r=0,B=this.width,b=B>>4,l=this.height,e=B,t=-1,x=-1,z=l,A=this.L,C=this.ja,G,D,I=this.bb;var F=this.va;var E=this.ta>>4;var H=0;var N=F,K=this.i+this.O-1,P=this.O,J=0<this.O?1:0;this.da=0;if(0!==(this.counter&1)){var T=
this.Sb;var Y=this.oa}else T=this.eb,Y=this.ha;0>H&&(H=0);N>F&&(N=F);C.fill(0);I.fill(0);F=H<<4;var U=F+16;for(n=H;n<N;n+=1){var M=0;var fa=Y[n];var X=d[n];var ia=c[n];for(m=0;m<E;m+=1){var na=fa[m]|X[m];var ba=0;if(na)for(q=15;0<=q;--q){if(0!==(na&1<<q)){var W=G=0;var ca=32768;var da=0;for(H=F;H<U;H+=1){var ma=T[H];var la=a[H];var V=M<<4;var R=ma[M];for(u=D=32768;0<u;){var Z=f=la[V];(f<=P||f===K)&&0!==(R&u)?f=K:(R&=~u,f>J&&--f);la[V]=f;f>J&&(da=1,f>P&&(G|=D,W|=ca),f===K&&(y+=1,Z!==K&&(v+=1)));Z===
K&&f!==K&&(r+=1);D>>=1;V+=1;u>>=1;Z=f=la[V];(f<=P||f===K)&&0!==(R&u)?f=K:(R&=~u,f>J&&--f);la[V]=f;f>J&&(da=1,f>P&&(G|=D,W|=ca),f===K&&(y+=1,Z!==K&&(v+=1)));Z===K&&f!==K&&(r+=1);D>>=1;V+=1;u>>=1;Z=f=la[V];(f<=P||f===K)&&0!==(R&u)?f=K:(R&=~u,f>J&&--f);la[V]=f;f>J&&(da=1,f>P&&(G|=D,W|=ca),f===K&&(y+=1,Z!==K&&(v+=1)));Z===K&&f!==K&&(r+=1);D>>=1;V+=1;u>>=1;Z=f=la[V];(f<=P||f===K)&&0!==(R&u)?f=K:(R&=~u,f>J&&--f);la[V]=f;f>J&&(da=1,f>P&&(G|=D,W|=ca),f===K&&(y+=1,Z!==K&&(v+=1)));Z===K&&f!==K&&(r+=1);D>>=
1;V+=1;u>>=1}ma[M]=R;this.da|=R;ca>>=1}C[M]|=G;I[n]|=W;da&&(ba|=1<<q)}M+=1}else M+=16;X[m]=ba;ia[m]|=ba}F+=16;U+=16}for(m=0;m<b;m+=1)C[m]&&(m<e&&(e=m),m>t&&(t=m));for(n=0;n<I.length;n+=1)I[n]&&(n<z&&(z=n),n>x&&(x=n));e=(e<<4)+this.G(C[e]);t=(t<<4)+this.U(C[t]);z=(z<<4)+this.G(I[z]);x=(x<<4)+this.U(I[x]);0>x&&(x=l-1);z>=l&&(z=0);e>=B&&(e=0);0>t&&(t=B-1);x>l-1&&(x=l-1);0>z&&(z=0);0>e&&(e=0);t>B-1&&(t=B-1);A.B=x;A.m=z;A.j=e;A.A=t;this.qa=y;this.Pb=v;this.cc=r};p.prototype.dx=function(){var a=this.ba,
c=this.Ca,d,f,n,m,q;var u=this.va;var y=this.ta>>4;var v=0;var r=u,B=0<this.O?1:0;0>v&&(v=0);r>u&&(r=u);u=v<<4;var b=u+16;for(d=v;d<r;d+=1){var l=0;var e=c[d];for(f=0;f<y;f+=1)if(q=e[f])for(n=15;0<=n;--n){if(0!==(q&1<<n))for(v=u;v<b;v+=1){var t=a[v];var x=l<<4;for(m=15;0<=m;--m){var z=t[x];z>B&&(--z,t[x]=z);x+=1}}l+=1}else l+=16;u+=16;b+=16}};p.prototype.Ke=function(){this.Pa||this.N||this.fa||this.T||(-1===this.i?this.Qd?this.Ly():this.tl?this.Uy():this.Ey():this.da||this.dx(),this.Yi&&this.Yw())};
p.prototype.Qx=function(){var a,c=this.ik,d=this.Ca,f,n,m,q=0,u,y=this.va,v=this.ta>>4;var r=16;for(f=0;f<y;f+=1){var B=0;var b=d[f];for(n=0;n<v;n+=1)if(u=b[n])for(m=15;0<=m;--m){if(0!==(u&1<<m))for(a=q;a<r;){var l=c[a];var e=B<<3;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;e+=1;l[e]&=16448;a+=1}B+=1}else B+=16;q+=16;r+=16}};p.prototype.GJ=function(){var a=this.Ba,c=this.xa,d=this.L;this.S?this.SJ():this.te?this.JK():this.wK();
if(-1!==this.ya){var f=Math.round((this.width-a)/2);var n=Math.round((this.height-c)/2);a=f+a-1;c=n+c-1;d.j<f&&(d.j=f);d.A>a&&(d.A=a);d.m<n&&(d.m=n);d.B>c&&(d.B=c)}};p.prototype.MH=function(){switch(this.Cj){case PatternConstants.iq:this.QH();break;case PatternConstants.gq:this.PH();break;case PatternConstants.ol:this.OH();break;case PatternConstants.hq:this.NH()}};p.prototype.NH=function(){var a=this.Ig;var c=a[0],d=a[1],f=a[2],n=this.Sd,m=this.Hg,q,u,y=0,v,r,B,b=this.Ca,l=this.Ka,e,t=this.ja,x,
z=this.bb,A,C,G=0,D=0,I=0,F=this.height,E=this.width,H=E>>4,N=this.L,K=F,P=-1,J=E,T=-1,Y=this.va,U=this.ta>>4,M=this.td;if(0!==(this.counter&1)){var fa=this.Ma;var X=this.ua;var ia=this.ba;var na=this.oa;var ba=this.ha}else fa=this.ba,X=this.be,ia=this.Ma,na=this.ha,ba=this.oa;t.fill(0);z.fill(0);var W=0;var ca=W+16;ba.jb.fill(0);for(r=0;r<na.length;r+=1){var da=0;var ma=da+16;var la=na[r];var V=ba[r];var R=l[r];var Z=b[r];var ea=0<r?ba[r-1]:M;var ha=r<Y-1?ba[r+1]:M;for(B=0;B<U;B+=1)if(e=la[B]){var aa=
V[B];var L=ea[B];var Q=ha[B];for(v=15;0<=v;--v){if(0!==(e&1<<v)){var ka=A=x=0;var S=W;for(C=32768;S<ca;){a=fa[S];var O=ia[S];var ja=32768;var oa=da;0===oa?y=0:y=a[oa-1];for(u=a[oa];oa<ma-1;){var qa=y;y=u;u=a[oa+1];var ra=c[y];var ta=d[qa];var pa=f[u];var sa=y;for(q=0;q<m;q+=1)if(qa=ra[q]&ta[q]&pa[q]){ra=0;for(pa=1;!(qa&pa);)ra+=1,pa<<=1;sa=n[(q<<5)+ra];break}O[oa]=sa;0<sa?(G+=1,0===y&&(D+=1),A|=C,x|=ja):0<y&&(I+=1);ja>>=1;oa+=1}qa=y;y=u;oa===E-1?u=0:u=a[oa+1];ra=c[y];ta=d[qa];pa=f[u];sa=y;for(q=0;q<
m;q+=1)if(qa=ra[q]&ta[q]&pa[q]){ra=0;for(pa=1;!(qa&pa);)ra+=1,pa<<=1;sa=n[(q<<5)+ra];break}O[oa]=sa;0<sa?(G+=1,0===y&&(D+=1),A|=C,x|=ja):0<y&&(I+=1);S+=1;C>>=1}t[da>>4]|=x;x&&(aa|=1<<v,A&1&&(ka|=k.tb,x&32768&&(ka|=k.Ub),x&1&&(ka|=k.sb)),A&32768&&(ka|=k.Ib,x&32768&&(ka|=k.Qb),x&1&&(ka|=k.Rb)),x&32768&&(ka|=k.Kb),x&1&&(ka|=k.ib),ka&&(0!==(ka&k.Kb)&&(15>v?aa|=1<<v+1:0<B&&0<da&&(V[B-1]|=1)),0!==(ka&k.ib)&&(0<v?aa|=1<<v-1:B<U-1&&da<E-1&&(V[B+1]|=32768)),0!==(ka&k.Ib)&&(L|=1<<v),0!==(ka&k.tb)&&(Q|=1<<v),
0!==(ka&k.Qb)&&(15>v?L|=1<<v+1:0<B&&0<da&&(ea[B-1]|=1)),0!==(ka&k.Rb)&&(0<v?L|=1<<v-1:B<U-1&&da<E-1&&(ea[B+1]|=32768)),0!==(ka&k.Ub)&&(15>v?Q|=1<<v+1:0<B&&0<da&&(ha[B-1]|=1)),0!==(ka&k.sb)&&(0<v?Q|=1<<v-1:B<U-1&&da<E-1&&(ha[B+1]|=32768))));z[r]|=A}da+=16;ma+=16}V[B]|=aa;R[B]=e|aa;Z[B]=Z[B]|e|aa;0<r&&(ea[B]|=L);r<Y-1&&(ha[B]|=Q)}else da+=256,ma+=256;W+=16;ca+=16}for(B=0;B<H;B+=1)t[B]&&(B<J&&(J=B),B>T&&(T=B));for(r=0;r<z.length;r+=1)z[r]&&(r<K&&(K=r),r>P&&(P=r));J=(J<<4)+this.G(t[J]);T=(T<<4)+this.U(t[T]);
K=(K<<4)+this.G(z[K]);P=(P<<4)+this.U(z[P]);0>P&&(P=F-1);K>=F&&(K=0);J>=E&&(J=0);0>T&&(T=E-1);P>F-1&&(P=F-1);0>K&&(K=0);0>J&&(J=0);T>E-1&&(T=E-1);N.B=P;N.m=K;N.j=J;N.A=T;M.fill(0);W=0;ca=W+16;for(r=0;r<na.length;r+=1){da=0;la=na[r];V=ba[r];for(B=0;B<U;B+=1)if(e=la[B],aa=V[B],e!==aa)for(v=15;0<=v;--v){if((e&1<<v)!==(aa&1<<v)&&0===(aa&1<<v))for(S=W;S<ca;S+=1)a=X[S],oa=da>>2,a[oa]=0,a[oa+1]=0,a[oa+2]=0,a[oa+3]=0;da+=16}else da+=256;W+=16;ca+=16}this.qa=G;this.Pb=D;this.cc=I;this.da=G};p.prototype.QH=
function(){var a=this.Ig;var c=a[0],d=a[1],f=a[2],n=a[3],m=a[4],q=this.Sd,u=this.Hg,y,v=0,r,B,b,l=this.Ca,e=this.Ka,t,x=this.ja,z,A=this.bb,C,G,D=0,I=0,F=0,E=this.height,H=this.width,N=H>>4,K=this.L,P=E,J=-1,T=H,Y=-1,U=this.va,M=this.ta>>4,fa=this.td;if(0!==(this.counter&1)){var X=this.Ma;var ia=this.ua;var na=this.ba;var ba=this.oa;var W=this.ha}else X=this.ba,ia=this.be,na=this.Ma,ba=this.ha,W=this.oa;x.fill(0);A.fill(0);var ca=0;var da=ca+16;W.jb.fill(0);for(B=0;B<ba.length;B+=1){var ma=0;var la=
ma+16;var V=ba[B];var R=W[B];var Z=e[B];var ea=l[B];var ha=0<B?W[B-1]:fa;var aa=B<U-1?W[B+1]:fa;for(b=0;b<M;b+=1)if(t=V[b]){var L=R[b];var Q=ha[b];var ka=aa[b];for(r=15;0<=r;--r){if(0!==(t&1<<r)){var S=C=z=0;var O=ca;for(G=32768;O<da;){a=0===O?this.Oc:X[O-1];var ja=X[O];var oa=O===this.height-1?this.Oc:X[O+1];var qa=na[O];var ra=32768;var ta=ma;0===ta?v=0:v=ja[ta-1];for(y=ja[ta];ta<la-1;){var pa=v;v=y;var sa=a[ta];y=ja[ta+1];var za=oa[ta];var Da=c[v];sa=d[sa];var xa=f[y];var wa=n[za];var Ga=m[pa];
var Ea=v;for(za=0;za<u;za+=1)if(pa=Da[za]&sa[za])if(pa&=xa[za]&wa[za]&Ga[za]){Da=0;for(sa=1;!(pa&sa);)Da+=1,sa<<=1;Ea=q[(za<<5)+Da];break}qa[ta]=Ea;0<Ea?(D+=1,0===v&&(I+=1),C|=G,z|=ra):0<v&&(F+=1);ra>>=1;ta+=1}pa=v;v=y;sa=a[ta];ta===H-1?y=0:y=ja[ta+1];za=oa[ta];Da=c[v];sa=d[sa];xa=f[y];wa=n[za];Ga=m[pa];Ea=v;for(za=0;za<u;za+=1)if(pa=Da[za]&sa[za])if(pa&=xa[za]&wa[za]&Ga[za]){Da=0;for(sa=1;!(pa&sa);)Da+=1,sa<<=1;Ea=q[(za<<5)+Da];break}qa[ta]=Ea;0<Ea?(D+=1,0===v&&(I+=1),C|=G,z|=ra):0<v&&(F+=1);O+=
1;G>>=1}x[ma>>4]|=z;z&&(L|=1<<r,C&1&&(S|=k.tb,z&32768&&(S|=k.Ub),z&1&&(S|=k.sb)),C&32768&&(S|=k.Ib,z&32768&&(S|=k.Qb),z&1&&(S|=k.Rb)),z&32768&&(S|=k.Kb),z&1&&(S|=k.ib),S&&(0!==(S&k.Kb)&&(15>r?L|=1<<r+1:0<b&&0<ma&&(R[b-1]|=1)),0!==(S&k.ib)&&(0<r?L|=1<<r-1:b<M-1&&ma<H-1&&(R[b+1]|=32768)),0!==(S&k.Ib)&&(Q|=1<<r),0!==(S&k.tb)&&(ka|=1<<r),0!==(S&k.Qb)&&(15>r?Q|=1<<r+1:0<b&&0<ma&&(ha[b-1]|=1)),0!==(S&k.Rb)&&(0<r?Q|=1<<r-1:b<M-1&&ma<H-1&&(ha[b+1]|=32768)),0!==(S&k.Ub)&&(15>r?ka|=1<<r+1:0<b&&0<ma&&(aa[b-
1]|=1)),0!==(S&k.sb)&&(0<r?ka|=1<<r-1:b<M-1&&ma<H-1&&(aa[b+1]|=32768))));A[B]|=C}ma+=16;la+=16}R[b]|=L;Z[b]=t|L;ea[b]=ea[b]|t|L;0<B&&(ha[b]|=Q);B<U-1&&(aa[b]|=ka)}else ma+=256,la+=256;ca+=16;da+=16}for(b=0;b<N;b+=1)x[b]&&(b<T&&(T=b),b>Y&&(Y=b));for(B=0;B<A.length;B+=1)A[B]&&(B<P&&(P=B),B>J&&(J=B));T=(T<<4)+this.G(x[T]);Y=(Y<<4)+this.U(x[Y]);P=(P<<4)+this.G(A[P]);J=(J<<4)+this.U(A[J]);0>J&&(J=E-1);P>=E&&(P=0);T>=H&&(T=0);0>Y&&(Y=H-1);J>E-1&&(J=E-1);0>P&&(P=0);0>T&&(T=0);Y>H-1&&(Y=H-1);K.B=J;K.m=P;
K.j=T;K.A=Y;fa.fill(0);ca=0;da=ca+16;for(B=0;B<ba.length;B+=1){ma=0;V=ba[B];R=W[B];for(b=0;b<M;b+=1)if(t=V[b],L=R[b],t!==L)for(r=15;0<=r;--r){if((t&1<<r)!==(L&1<<r)&&0===(L&1<<r))for(O=ca;O<da;O+=1)ja=ia[O],ta=ma>>2,ja[ta]=0,ja[ta+1]=0,ja[ta+2]=0,ja[ta+3]=0;ma+=16}else ma+=256;ca+=16;da+=16}this.qa=D;this.Pb=I;this.cc=F;this.da=D};p.prototype.PH=function(){var a=this.Ig;var c=a[0],d=a[1],f=a[2],n=a[3],m=a[4],q=a[5],u=a[6],y=a[7],v=a[8],r=this.Sd,B=this.Hg,b,l,e,t,x,z,A=this.Ca,C=this.Ka,G,D=this.ja,
I,F=this.bb,E,H,N=0,K=0,P=0,J=this.height,T=this.width,Y=T>>4,U=this.L,M=J,fa=-1,X=T,ia=-1,na=this.va,ba=this.ta>>4,W=this.td;if(0!==(this.counter&1)){var ca=this.Ma;var da=this.ua;var ma=this.ba;var la=this.oa;var V=this.ha}else ca=this.ba,da=this.be,ma=this.Ma,la=this.ha,V=this.oa;D.fill(0);F.fill(0);var R=0;var Z=R+16;V.jb.fill(0);for(x=0;x<la.length;x+=1){var ea=0;var ha=ea+16;var aa=la[x];var L=V[x];var Q=C[x];var ka=A[x];var S=0<x?V[x-1]:W;var O=x<na-1?V[x+1]:W;for(z=0;z<ba;z+=1)if(G=aa[z]){var ja=
L[z];var oa=S[z];var qa=O[z];for(t=15;0<=t;--t){if(0!==(G&1<<t)){var ra=E=I=0;var ta=R;for(H=32768;ta<Z;){a=0===ta?this.Oc:ca[ta-1];var pa=ca[ta];var sa=ta===this.height-1?this.Oc:ca[ta+1];var za=ma[ta];var Da=32768;var xa=ea;if(0===xa)var wa=e=b=0;else b=a[xa-1],e=sa[xa-1],wa=pa[xa-1];var Ga=a[xa];var Ea=sa[xa];for(l=pa[xa];xa<ha-1;){var Ca=b;b=Ga;Ga=a[xa+1];var ya=wa;wa=l;l=pa[xa+1];var Ka=e;e=Ea;Ea=sa[xa+1];var Ja=wa;var Na=c[wa];var Ha=d[b];var La=f[Ga];var Ra=n[l];var Sa=m[Ea];var ua=q[e];Ka=
u[Ka];var Aa=y[ya];var va=v[Ca];for(ya=0;ya<B;ya+=1)if(Ca=Na[ya]&Ha[ya])if(Ca&=La[ya]&Ra[ya])if(Ca&=Sa[ya]&ua[ya])if(Ca&=Ka[ya]&Aa[ya]&va[ya]){Ha=0;for(La=1;!(Ca&La);)Ha+=1,La<<=1;Ja=r[(ya<<5)+Ha];break}za[xa]=Ja;0<Ja?(N+=1,0===wa&&(K+=1),E|=H,I|=Da):0<wa&&(P+=1);Da>>=1;xa+=1}Ca=b;b=Ga;ya=wa;wa=l;Ka=e;e=Ea;xa===T-1?Ea=l=Ga=0:(Ga=a[xa+1],l=pa[xa+1],Ea=sa[xa+1]);Na=c[wa];Ha=d[b];La=f[Ga];Ra=n[l];Sa=m[Ea];ua=q[e];Ka=u[Ka];Aa=y[ya];va=v[Ca];Ja=wa;for(ya=0;ya<B;ya+=1)if(Ca=Na[ya]&Ha[ya])if(Ca&=La[ya]&
Ra[ya])if(Ca&=Sa[ya]&ua[ya])if(Ca&=Ka[ya]&Aa[ya]&va[ya]){Ha=0;for(La=1;!(Ca&La);)Ha+=1,La<<=1;Ja=r[(ya<<5)+Ha];break}za[xa]=Ja;0<Ja?(N+=1,0===wa&&(K+=1),E|=H,I|=Da):0<wa&&(P+=1);ta+=1;H>>=1}D[ea>>4]|=I;I&&(ja|=1<<t,E&1&&(ra|=k.tb,I&32768&&(ra|=k.Ub),I&1&&(ra|=k.sb)),E&32768&&(ra|=k.Ib,I&32768&&(ra|=k.Qb),I&1&&(ra|=k.Rb)),I&32768&&(ra|=k.Kb),I&1&&(ra|=k.ib),ra&&(0!==(ra&k.Kb)&&(15>t?ja|=1<<t+1:0<z&&0<ea&&(L[z-1]|=1)),0!==(ra&k.ib)&&(0<t?ja|=1<<t-1:z<ba-1&&ea<T-1&&(L[z+1]|=32768)),0!==(ra&k.Ib)&&(oa|=
1<<t),0!==(ra&k.tb)&&(qa|=1<<t),0!==(ra&k.Qb)&&(15>t?oa|=1<<t+1:0<z&&0<ea&&(S[z-1]|=1)),0!==(ra&k.Rb)&&(0<t?oa|=1<<t-1:z<ba-1&&ea<T-1&&(S[z+1]|=32768)),0!==(ra&k.Ub)&&(15>t?qa|=1<<t+1:0<z&&0<ea&&(O[z-1]|=1)),0!==(ra&k.sb)&&(0<t?qa|=1<<t-1:z<ba-1&&ea<T-1&&(O[z+1]|=32768))));F[x]|=E}ea+=16;ha+=16}L[z]|=ja;Q[z]=G|ja;ka[z]=ka[z]|G|ja;0<x&&(S[z]|=oa);x<na-1&&(O[z]|=qa)}else ea+=256,ha+=256;R+=16;Z+=16}for(z=0;z<Y;z+=1)D[z]&&(z<X&&(X=z),z>ia&&(ia=z));for(x=0;x<F.length;x+=1)F[x]&&(x<M&&(M=x),x>fa&&(fa=
x));X=(X<<4)+this.G(D[X]);ia=(ia<<4)+this.U(D[ia]);M=(M<<4)+this.G(F[M]);fa=(fa<<4)+this.U(F[fa]);0>fa&&(fa=J-1);M>=J&&(M=0);X>=T&&(X=0);0>ia&&(ia=T-1);fa>J-1&&(fa=J-1);0>M&&(M=0);0>X&&(X=0);ia>T-1&&(ia=T-1);U.B=fa;U.m=M;U.j=X;U.A=ia;W.fill(0);R=0;Z=R+16;for(x=0;x<la.length;x+=1){ea=0;aa=la[x];L=V[x];for(z=0;z<ba;z+=1)if(G=aa[z],ja=L[z],G!==ja)for(t=15;0<=t;--t){if((G&1<<t)!==(ja&1<<t)&&0===(ja&1<<t))for(ta=R;ta<Z;ta+=1)pa=da[ta],xa=ea>>2,pa[xa]=0,pa[xa+1]=0,pa[xa+2]=0,pa[xa+3]=0;ea+=16}else ea+=
256;R+=16;Z+=16}this.qa=N;this.Pb=K;this.cc=P;this.da=N};p.prototype.OH=function(){var a=this.Ig;var c=a[0],d=a[1],f=a[2],n=a[3],m=a[4],q=a[5],u=a[6],y=this.Sd,v=this.Hg,r,B,b,l,e,t=this.Ca,x=this.Ka,z,A=this.ja,C,G=this.bb,D,I,F=0,E=0,H=0,N=this.height,K=this.width,P=K>>4,J=this.L,T=N,Y=-1,U=K,M=-1,fa=this.va,X=this.ta>>4,ia=this.td;if(0!==(this.counter&1)){var na=this.Ma;var ba=this.ua;var W=this.ba;var ca=this.oa;var da=this.ha}else na=this.ba,ba=this.be,W=this.Ma,ca=this.ha,da=this.oa;A.fill(0);
G.fill(0);var ma=0;var la=ma+16;da.jb.fill(0);for(l=0;l<ca.length;l+=1){var V=0;var R=V+16;var Z=ca[l];var ea=da[l];var ha=x[l];var aa=t[l];var L=0<l?da[l-1]:ia;var Q=l<fa-1?da[l+1]:ia;for(e=0;e<X;e+=1)if(z=Z[e]){var ka=ea[e];var S=L[e];var O=Q[e];for(b=15;0<=b;--b){if(0!==(z&1<<b)){var ja=D=C=0;var oa=ma;for(I=32768;oa<la;){a=0===oa?this.Oc:na[oa-1];var qa=na[oa];var ra=oa===this.height-1?this.Oc:na[oa+1];var ta=W[oa];var pa=32768;var sa=V;if(0===sa)var za=r=0;else r=a[sa-1],za=qa[sa-1];var Da=ra[sa];
for(B=qa[sa];sa<R-1;){var xa=r;r=a[sa];var wa=za;za=B;B=qa[sa+1];var Ga=Da;Da=ra[sa+1];var Ea=c[za];var Ca=d[r];var ya=f[B];var Ka=n[Da];Ga=m[Ga];var Ja=q[wa];var Na=u[xa];var Ha=za;for(wa=0;wa<v;wa+=1)if(xa=Ea[wa]&Ca[wa])if(xa&=ya[wa]&Ka[wa])if(xa&=Ga[wa]&Ja[wa]&Na[wa]){Ca=0;for(ya=1;!(xa&ya);)Ca+=1,ya<<=1;Ha=y[(wa<<5)+Ca];break}ta[sa]=Ha;0<Ha?(F+=1,0===za&&(E+=1),D|=I,C|=pa):0<za&&(H+=1);pa>>=1;sa+=1}xa=r;r=a[sa];wa=za;za=B;Ga=Da;sa===K-1?Da=B=0:(B=qa[sa+1],Da=ra[sa+1]);Ea=c[za];Ca=d[r];ya=f[B];
Ka=n[Da];Ga=m[Ga];Ja=q[wa];Na=u[xa];Ha=za;for(wa=0;wa<v;wa+=1)if(xa=Ea[wa]&Ca[wa])if(xa&=ya[wa]&Ka[wa])if(xa&=Ga[wa]&Ja[wa]&Na[wa]){Ca=0;for(ya=1;!(xa&ya);)Ca+=1,ya<<=1;Ha=y[(wa<<5)+Ca];break}ta[sa]=Ha;0<Ha?(F+=1,0===za&&(E+=1),D|=I,C|=pa):0<za&&(H+=1);oa+=1;I>>=1}A[V>>4]|=C;C&&(ka|=1<<b,D&1&&(ja|=k.tb,C&32768&&(ja|=k.Ub),C&1&&(ja|=k.sb)),D&32768&&(ja|=k.Ib,C&32768&&(ja|=k.Qb),C&1&&(ja|=k.Rb)),C&32768&&(ja|=k.Kb),C&1&&(ja|=k.ib),ja&&(0!==(ja&k.Kb)&&(15>b?ka|=1<<b+1:0<e&&0<V&&(ea[e-1]|=1)),0!==(ja&
k.ib)&&(0<b?ka|=1<<b-1:e<X-1&&V<K-1&&(ea[e+1]|=32768)),0!==(ja&k.Ib)&&(S|=1<<b),0!==(ja&k.tb)&&(O|=1<<b),0!==(ja&k.Qb)&&(15>b?S|=1<<b+1:0<e&&0<V&&(L[e-1]|=1)),0!==(ja&k.Rb)&&(0<b?S|=1<<b-1:e<X-1&&V<K-1&&(L[e+1]|=32768)),0!==(ja&k.Ub)&&(15>b?O|=1<<b+1:0<e&&0<V&&(Q[e-1]|=1)),0!==(ja&k.sb)&&(0<b?O|=1<<b-1:e<X-1&&V<K-1&&(Q[e+1]|=32768))));G[l]|=D}V+=16;R+=16}ea[e]|=ka;ha[e]=z|ka;aa[e]=aa[e]|z|ka;0<l&&(L[e]|=S);l<fa-1&&(Q[e]|=O)}else V+=256,R+=256;ma+=16;la+=16}for(e=0;e<P;e+=1)A[e]&&(e<U&&(U=e),e>M&&
(M=e));for(l=0;l<G.length;l+=1)G[l]&&(l<T&&(T=l),l>Y&&(Y=l));U=(U<<4)+this.G(A[U]);M=(M<<4)+this.U(A[M]);T=(T<<4)+this.G(G[T]);Y=(Y<<4)+this.U(G[Y]);0>Y&&(Y=N-1);T>=N&&(T=0);U>=K&&(U=0);0>M&&(M=K-1);Y>N-1&&(Y=N-1);0>T&&(T=0);0>U&&(U=0);M>K-1&&(M=K-1);J.B=Y;J.m=T;J.j=U;J.A=M;ia.fill(0);ma=0;la=ma+16;for(l=0;l<ca.length;l+=1){V=0;Z=ca[l];ea=da[l];for(e=0;e<X;e+=1)if(z=Z[e],ka=ea[e],z!==ka)for(b=15;0<=b;--b){if((z&1<<b)!==(ka&1<<b)&&0===(ka&1<<b))for(oa=ma;oa<la;oa+=1)qa=ba[oa],sa=V>>2,qa[sa]=0,qa[sa+
1]=0,qa[sa+2]=0,qa[sa+3]=0;V+=16}else V+=256;ma+=16;la+=16}this.qa=F;this.Pb=E;this.cc=H;this.da=F};p.prototype.rH=function(){if(4===this.lg)if(null!==this.oe)switch(this.Gt){case 1:this.rI();break;case 2:this.uI();break;case 3:this.cJ();break;case 4:this.AJ();break;default:this.zt()}else this.zt();else this.SH()};p.prototype.SH=function(){var a=this.yk,c=this.zk,d=this.pl,f,n,m,q,u,y=this.Ca,v=this.Ka,r,B=this.ja,b,l=this.bb,e,t,x=0,z=0,A=0,C=this.height,G=this.width,D=G>>4,I=this.L,F=C,E=-1,H=G,
N=-1,K=this.va,P=this.ta>>4,J=this.td;if(0!==(this.counter&1)){var T=this.Ma;var Y=this.ua;var U=this.ba;var M=this.oa;var fa=this.ha}else T=this.ba,Y=this.be,U=this.Ma,M=this.ha,fa=this.oa;B.fill(0);l.fill(0);var X=0;var ia=X+16;fa.jb.fill(0);for(q=0;q<M.length;q+=1){var na=0;var ba=M[q];var W=fa[q];var ca=v[q];var da=y[q];var ma=0<q?fa[q-1]:J;var la=q<K-1?fa[q+1]:J;for(u=0;u<P;u+=1)if(r=ba[u]){var V=W[u];var R=ma[u];var Z=la[u];for(m=15;0<=m;--m){if(0!==(r&1<<m)){var ea=e=b=0;var ha=X;for(t=32768;ha<
ia;){var aa=0===ha?this.Oc:T[ha-1];var L=T[ha];var Q=ha===this.height-1?this.Oc:T[ha+1];var ka=U[ha];var S=32768;var O=na;if(0===O)var ja=n=f=0;else f=aa[O-1],n=Q[O-1],ja=L[O-1];var oa=aa[O];var qa=Q[O];var ra=L[O];var ta=f;f=oa;oa=aa[O+1];var pa=ja;ja=ra;ra=L[O+1];var sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+
ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+
1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,
0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+
ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+
1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;oa=aa[O+1];pa=ja;ja=ra;ra=L[O+1];sa=n;n=qa;qa=Q[O+1];pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,
0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);S>>=1;O+=1;ta=f;f=oa;pa=ja;ja=ra;sa=n;n=qa;O===G-1?qa=ra=oa=0:(oa=aa[O+1],ra=L[O+1],qa=Q[O+1]);pa=c[a[a[a[a[a[a[a[a[d+ta]+oa]+sa]+qa]+f]+pa]+ra]+n]+ja];ka[O]=pa;0<pa?(x+=1,0===ja&&(z+=1),e|=t,b|=S):0<ja&&(A+=1);ha+=1;t>>=1}B[na>>4]|=b;b&&(V|=1<<m,e&1&&(ea|=k.tb,b&32768&&(ea|=k.Ub),b&1&&(ea|=k.sb)),e&32768&&(ea|=k.Ib,b&32768&&(ea|=k.Qb),b&1&&(ea|=k.Rb)),b&32768&&(ea|=k.Kb),b&1&&(ea|=k.ib),ea&&(0!==(ea&k.Kb)&&(15>m?V|=1<<m+1:0<u&&0<na&&(W[u-1]|=1)),0!==(ea&k.ib)&&
(0<m?V|=1<<m-1:u<P-1&&na<G-1&&(W[u+1]|=32768)),0!==(ea&k.Ib)&&(R|=1<<m),0!==(ea&k.tb)&&(Z|=1<<m),0!==(ea&k.Qb)&&(15>m?R|=1<<m+1:0<u&&0<na&&(ma[u-1]|=1)),0!==(ea&k.Rb)&&(0<m?R|=1<<m-1:u<P-1&&na<G-1&&(ma[u+1]|=32768)),0!==(ea&k.Ub)&&(15>m?Z|=1<<m+1:0<u&&0<na&&(la[u-1]|=1)),0!==(ea&k.sb)&&(0<m?Z|=1<<m-1:u<P-1&&na<G-1&&(la[u+1]|=32768))));l[q]|=e}na+=16}W[u]|=V;ca[u]=r|V;da[u]=da[u]|r|V;0<q&&(ma[u]|=R);q<K-1&&(la[u]|=Z)}else na+=256;X+=16;ia+=16}for(u=0;u<D;u+=1)B[u]&&(u<H&&(H=u),u>N&&(N=u));for(q=0;q<
l.length;q+=1)l[q]&&(q<F&&(F=q),q>E&&(E=q));H=(H<<4)+this.G(B[H]);N=(N<<4)+this.U(B[N]);F=(F<<4)+this.G(l[F]);E=(E<<4)+this.U(l[E]);0>E&&(E=C-1);F>=C&&(F=0);H>=G&&(H=0);0>N&&(N=G-1);E>C-1&&(E=C-1);0>F&&(F=0);0>H&&(H=0);N>G-1&&(N=G-1);I.B=E;I.m=F;I.j=H;I.A=N;J.fill(0);X=0;ia=X+16;for(q=0;q<M.length;q+=1){na=0;ba=M[q];W=fa[q];for(u=0;u<P;u+=1)if(r=ba[u],V=W[u],r!==V)for(m=15;0<=m;--m){if((r&1<<m)!==(V&1<<m)&&0===(V&1<<m))for(ha=X;ha<ia;ha+=1)L=Y[ha],O=na>>2,L[O]=0,L[O+1]=0,L[O+2]=0,L[O+3]=0;na+=16}else na+=
256;X+=16;ia+=16}this.qa=x;this.Pb=z;this.cc=A;this.da=x};p.prototype.rI=function(){var a=this.oe,c,d,f,n=this.Ca,m=this.Ka,q=null,u=null,y,v=this.ja,r,B=this.bb,b,l,e=0,t=0,x=0,z=this.height,A=this.width,C=A>>4,G=this.L,D=z,I=-1,F=A,E=-1,H=this.va,N=this.ta>>4,K=this.td;if(0!==(this.counter&1)){var P=this.Ma;var J=this.ua;var T=this.be;var Y=this.oa;var U=this.ha}else P=this.ba,J=this.be,T=this.ua,Y=this.ha,U=this.oa;v.fill(0);B.fill(0);var M=0;var fa=M+16;U.jb.fill(0);for(d=0;d<Y.length;d+=1){var X=
0;var ia=Y[d];var na=U[d];var ba=m[d];var W=n[d];0<d?q=U[d-1]:q=K;d<H-1?u=U[d+1]:u=K;for(f=0;f<N;f+=1)if(y=ia[f]){var ca=na[f];var da=q[f];var ma=u[f];for(c=15;0<=c;--c){if(0!==(y&1<<c)){var la=b=r=0;var V=M;for(l=32768;V<fa;){var R=0===V?this.Oc:P[V-1];var Z=P[V];var ea=V===this.height-1?this.Oc:P[V+1];var ha=T[V];var aa=32768;var L=X;var Q=R[L];var ka=Z[L+1];var S=ea[L];var O=0===L?Z[L]<<3|ka<<2|Q<<1|S:Z[L-1]<<4|Z[L]<<3|ka<<2|Q<<1|S;var ja=a[O];0<ja?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&
(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;ja=a[O];0<ja?(e+=1,
0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];
O=O<<1&24|ka<<2|Q<<1|S;ja=a[O];0<ja?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=
1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;ja=a[O];0<ja?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&8)&&(t+=1),b|=l,r|=aa):0!==(O&8)&&(x+=1);aa>>=1;L+=1;Q=R[L];L===A-1?ka=0:ka=Z[L+1];S=ea[L];O=O<<1&24|ka<<2|Q<<1|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;
0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);V+=1;l>>=1}v[X>>4]|=r;r&&(ca|=1<<c,b&1&&(la|=k.tb,r&32768&&(la|=k.Ub),r&1&&(la|=k.sb)),b&32768&&(la|=k.Ib,r&32768&&(la|=k.Qb),r&1&&(la|=k.Rb)),r&32768&&(la|=k.Kb),r&1&&(la|=k.ib),la&&(0!==(la&k.Kb)&&(15>c?ca|=1<<c+1:0<f&&0<X&&(na[f-1]|=1)),0!==(la&k.ib)&&(0<c?ca|=1<<c-1:f<N-1&&X<A-1&&(na[f+1]|=32768)),0!==(la&k.Ib)&&(da|=1<<c),0!==(la&k.tb)&&(ma|=1<<c),0!==(la&k.Qb)&&(15>c?da|=1<<c+1:0<f&&0<X&&(q[f-1]|=1)),0!==(la&k.Rb)&&(0<c?da|=1<<
c-1:f<N-1&&X<A-1&&(q[f+1]|=32768)),0!==(la&k.Ub)&&(15>c?ma|=1<<c+1:0<f&&0<X&&(u[f-1]|=1)),0!==(la&k.sb)&&(0<c?ma|=1<<c-1:f<N-1&&X<A-1&&(u[f+1]|=32768))));B[d]|=b}X+=16}na[f]|=ca;ba[f]=y|ca;W[f]=W[f]|y|ca;0<d&&(q[f]|=da);d<H-1&&(u[f]|=ma)}else X+=256;M+=16;fa+=16}for(f=0;f<C;f+=1)v[f]&&(f<F&&(F=f),f>E&&(E=f));for(d=0;d<B.length;d+=1)B[d]&&(d<D&&(D=d),d>I&&(I=d));F=(F<<4)+this.G(v[F]);E=(E<<4)+this.U(v[E]);D=(D<<4)+this.G(B[D]);I=(I<<4)+this.U(B[I]);0>I&&(I=z-1);D>=z&&(D=0);F>=A&&(F=0);0>E&&(E=A-1);
I>z-1&&(I=z-1);0>D&&(D=0);0>F&&(F=0);E>A-1&&(E=A-1);G.B=I;G.m=D;G.j=F;G.A=E;K.fill(0);M=0;fa=M+16;for(d=0;d<Y.length;d+=1){X=0;ia=Y[d];na=U[d];for(f=0;f<N;f+=1)if(y=ia[f],ca=na[f],y!==ca)for(c=15;0<=c;--c){if((y&1<<c)!==(ca&1<<c)&&0===(ca&1<<c))for(V=M;V<fa;V+=1)Z=J[V],L=X>>2,Z[L]=0,Z[L+1]=0,Z[L+2]=0,Z[L+3]=0;X+=16}else X+=256;M+=16;fa+=16}this.qa=e;this.Pb=t;this.cc=x;this.da=e};p.prototype.uI=function(){var a=this.oe,c,d,f,n=this.Ca,m=this.Ka,q=null,u=null,y,v=this.ja,r,B=this.bb,b,l,e=0,t=0,x=
0,z=this.height,A=this.width,C=A>>4,G=this.L,D=z,I=-1,F=A,E=-1,H=this.va,N=this.ta>>4,K=this.td;if(0!==(this.counter&1)){var P=this.Ma;var J=this.ua;var T=this.be;var Y=this.oa;var U=this.ha}else P=this.ba,J=this.be,T=this.ua,Y=this.ha,U=this.oa;v.fill(0);B.fill(0);var M=0;var fa=M+16;U.jb.fill(0);for(d=0;d<Y.length;d+=1){var X=0;var ia=Y[d];var na=U[d];var ba=m[d];var W=n[d];0<d?q=U[d-1]:q=K;d<H-1?u=U[d+1]:u=K;for(f=0;f<N;f+=1)if(y=ia[f]){var ca=na[f];var da=q[f];var ma=u[f];for(c=15;0<=c;--c){if(0!==
(y&1<<c)){var la=b=r=0;var V=M;for(l=32768;V<fa;){var R=0===V?this.Oc:P[V-1];var Z=P[V];var ea=V===this.height-1?this.Oc:P[V+1];var ha=T[V];var aa=32768;var L=X;var Q=R[L];var ka=Z[L+1];var S=ea[L];var O=0===L?Z[L]<<6|ka<<4|Q<<2|S:Z[L-1]<<8|Z[L]<<6|ka<<4|Q<<2|S;var ja=a[O];0<ja?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+
1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;ja=a[O];0<ja?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&192)&&(t+=
1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;ja=a[O];0<ja?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<
2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;ja=a[O];0<ja?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):
0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);aa>>=1;L+=1;Q=R[L];L===A-1?ka=0:ka=Z[L+1];S=ea[L];O=O<<2&960|ka<<4|Q<<2|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&192)&&(t+=1),b|=l,r|=aa):0!==(O&192)&&(x+=1);V+=1;l>>=1}v[X>>4]|=r;r&&(ca|=1<<c,b&
1&&(la|=k.tb,r&32768&&(la|=k.Ub),r&1&&(la|=k.sb)),b&32768&&(la|=k.Ib,r&32768&&(la|=k.Qb),r&1&&(la|=k.Rb)),r&32768&&(la|=k.Kb),r&1&&(la|=k.ib),la&&(0!==(la&k.Kb)&&(15>c?ca|=1<<c+1:0<f&&0<X&&(na[f-1]|=1)),0!==(la&k.ib)&&(0<c?ca|=1<<c-1:f<N-1&&X<A-1&&(na[f+1]|=32768)),0!==(la&k.Ib)&&(da|=1<<c),0!==(la&k.tb)&&(ma|=1<<c),0!==(la&k.Qb)&&(15>c?da|=1<<c+1:0<f&&0<X&&(q[f-1]|=1)),0!==(la&k.Rb)&&(0<c?da|=1<<c-1:f<N-1&&X<A-1&&(q[f+1]|=32768)),0!==(la&k.Ub)&&(15>c?ma|=1<<c+1:0<f&&0<X&&(u[f-1]|=1)),0!==(la&k.sb)&&
(0<c?ma|=1<<c-1:f<N-1&&X<A-1&&(u[f+1]|=32768))));B[d]|=b}X+=16}na[f]|=ca;ba[f]=y|ca;W[f]=W[f]|y|ca;0<d&&(q[f]|=da);d<H-1&&(u[f]|=ma)}else X+=256;M+=16;fa+=16}for(f=0;f<C;f+=1)v[f]&&(f<F&&(F=f),f>E&&(E=f));for(d=0;d<B.length;d+=1)B[d]&&(d<D&&(D=d),d>I&&(I=d));F=(F<<4)+this.G(v[F]);E=(E<<4)+this.U(v[E]);D=(D<<4)+this.G(B[D]);I=(I<<4)+this.U(B[I]);0>I&&(I=z-1);D>=z&&(D=0);F>=A&&(F=0);0>E&&(E=A-1);I>z-1&&(I=z-1);0>D&&(D=0);0>F&&(F=0);E>A-1&&(E=A-1);G.B=I;G.m=D;G.j=F;G.A=E;K.fill(0);M=0;fa=M+16;for(d=
0;d<Y.length;d+=1){X=0;ia=Y[d];na=U[d];for(f=0;f<N;f+=1)if(y=ia[f],ca=na[f],y!==ca)for(c=15;0<=c;--c){if((y&1<<c)!==(ca&1<<c)&&0===(ca&1<<c))for(V=M;V<fa;V+=1)Z=J[V],L=X>>2,Z[L]=0,Z[L+1]=0,Z[L+2]=0,Z[L+3]=0;X+=16}else X+=256;M+=16;fa+=16}this.qa=e;this.Pb=t;this.cc=x;this.da=e};p.prototype.cJ=function(){var a=this.oe,c,d,f,n=this.Ca,m=this.Ka,q=null,u=null,y,v=this.ja,r,B=this.bb,b,l,e=0,t=0,x=0,z=this.height,A=this.width,C=A>>4,G=this.L,D=z,I=-1,F=A,E=-1,H=this.va,N=this.ta>>4,K=this.td;if(0!==(this.counter&
1)){var P=this.Ma;var J=this.ua;var T=this.be;var Y=this.oa;var U=this.ha}else P=this.ba,J=this.be,T=this.ua,Y=this.ha,U=this.oa;v.fill(0);B.fill(0);var M=0;var fa=M+16;U.jb.fill(0);for(d=0;d<Y.length;d+=1){var X=0;var ia=Y[d];var na=U[d];var ba=m[d];var W=n[d];0<d?q=U[d-1]:q=K;d<H-1?u=U[d+1]:u=K;for(f=0;f<N;f+=1)if(y=ia[f]){var ca=na[f];var da=q[f];var ma=u[f];for(c=15;0<=c;--c){if(0!==(y&1<<c)){var la=b=r=0;var V=M;for(l=32768;V<fa;){var R=0===V?this.Oc:P[V-1];var Z=P[V];var ea=V===this.height-
1?this.Oc:P[V+1];var ha=T[V];var aa=32768;var L=X;var Q=R[L];var ka=Z[L+1];var S=ea[L];var O=0===L?Z[L]<<9|ka<<6|Q<<3|S:Z[L-1]<<12|Z[L]<<9|ka<<6|Q<<3|S;var ja=a[O];0<ja?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&
3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;ja=a[O];0<ja?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<
6|Q<<3|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;ja=a[O];0<ja?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):
0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;ja=a[O];0<ja?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&
32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);aa>>=1;L+=1;Q=R[L];L===A-1?ka=0:ka=Z[L+1];S=ea[L];O=O<<3&32256|ka<<6|Q<<3|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&3584)&&(t+=1),b|=l,r|=aa):0!==(O&3584)&&(x+=1);V+=1;l>>=1}v[X>>4]|=r;r&&(ca|=1<<c,b&1&&(la|=k.tb,r&32768&&(la|=k.Ub),r&1&&(la|=k.sb)),b&
32768&&(la|=k.Ib,r&32768&&(la|=k.Qb),r&1&&(la|=k.Rb)),r&32768&&(la|=k.Kb),r&1&&(la|=k.ib),la&&(0!==(la&k.Kb)&&(15>c?ca|=1<<c+1:0<f&&0<X&&(na[f-1]|=1)),0!==(la&k.ib)&&(0<c?ca|=1<<c-1:f<N-1&&X<A-1&&(na[f+1]|=32768)),0!==(la&k.Ib)&&(da|=1<<c),0!==(la&k.tb)&&(ma|=1<<c),0!==(la&k.Qb)&&(15>c?da|=1<<c+1:0<f&&0<X&&(q[f-1]|=1)),0!==(la&k.Rb)&&(0<c?da|=1<<c-1:f<N-1&&X<A-1&&(q[f+1]|=32768)),0!==(la&k.Ub)&&(15>c?ma|=1<<c+1:0<f&&0<X&&(u[f-1]|=1)),0!==(la&k.sb)&&(0<c?ma|=1<<c-1:f<N-1&&X<A-1&&(u[f+1]|=32768))));
B[d]|=b}X+=16}na[f]|=ca;ba[f]=y|ca;W[f]=W[f]|y|ca;0<d&&(q[f]|=da);d<H-1&&(u[f]|=ma)}else X+=256;M+=16;fa+=16}for(f=0;f<C;f+=1)v[f]&&(f<F&&(F=f),f>E&&(E=f));for(d=0;d<B.length;d+=1)B[d]&&(d<D&&(D=d),d>I&&(I=d));F=(F<<4)+this.G(v[F]);E=(E<<4)+this.U(v[E]);D=(D<<4)+this.G(B[D]);I=(I<<4)+this.U(B[I]);0>I&&(I=z-1);D>=z&&(D=0);F>=A&&(F=0);0>E&&(E=A-1);I>z-1&&(I=z-1);0>D&&(D=0);0>F&&(F=0);E>A-1&&(E=A-1);G.B=I;G.m=D;G.j=F;G.A=E;K.fill(0);M=0;fa=M+16;for(d=0;d<Y.length;d+=1){X=0;ia=Y[d];na=U[d];for(f=0;f<
N;f+=1)if(y=ia[f],ca=na[f],y!==ca)for(c=15;0<=c;--c){if((y&1<<c)!==(ca&1<<c)&&0===(ca&1<<c))for(V=M;V<fa;V+=1)Z=J[V],L=X>>2,Z[L]=0,Z[L+1]=0,Z[L+2]=0,Z[L+3]=0;X+=16}else X+=256;M+=16;fa+=16}this.qa=e;this.Pb=t;this.cc=x;this.da=e};p.prototype.AJ=function(){var a=this.oe,c,d,f,n=this.Ca,m=this.Ka,q=null,u=null,y,v=this.ja,r,B=this.bb,b,l,e=0,t=0,x=0,z=this.height,A=this.width,C=A>>4,G=this.L,D=z,I=-1,F=A,E=-1,H=this.va,N=this.ta>>4,K=this.td;if(0!==(this.counter&1)){var P=this.Ma;var J=this.ua;var T=
this.be;var Y=this.oa;var U=this.ha}else P=this.ba,J=this.be,T=this.ua,Y=this.ha,U=this.oa;v.fill(0);B.fill(0);var M=0;var fa=M+16;U.jb.fill(0);for(d=0;d<Y.length;d+=1){var X=0;var ia=Y[d];var na=U[d];var ba=m[d];var W=n[d];0<d?q=U[d-1]:q=K;d<H-1?u=U[d+1]:u=K;for(f=0;f<N;f+=1)if(y=ia[f]){var ca=na[f];var da=q[f];var ma=u[f];for(c=15;0<=c;--c){if(0!==(y&1<<c)){var la=b=r=0;var V=M;for(l=32768;V<fa;){var R=0===V?this.Oc:P[V-1];var Z=P[V];var ea=V===this.height-1?this.Oc:P[V+1];var ha=T[V];var aa=32768;
var L=X;var Q=R[L];var ka=Z[L+1];var S=ea[L];var O=0===L?Z[L]<<12|ka<<8|Q<<4|S:Z[L-1]<<16|Z[L]<<12|ka<<8|Q<<4|S;var ja=a[O];0<ja?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];
ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;ja=a[O];0<ja?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=
Q<<16;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;ja=a[O];0<ja?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==
(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;ja=a[O];0<ja?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];
O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<8;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<16;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);aa>>=1;L+=1;Q=R[L];L===A-1?ka=0:ka=Z[L+1];S=ea[L];O=O<<4&1044480|ka<<8|Q<<4|S;Q=a[O];ja|=Q<<24;ha[L>>2]=ja;0<Q?(e+=1,0===(O&61440)&&(t+=1),b|=l,r|=aa):0!==(O&61440)&&(x+=1);V+=1;l>>=1}v[X>>4]|=r;r&&(ca|=1<<c,b&1&&(la|=k.tb,r&32768&&(la|=k.Ub),
r&1&&(la|=k.sb)),b&32768&&(la|=k.Ib,r&32768&&(la|=k.Qb),r&1&&(la|=k.Rb)),r&32768&&(la|=k.Kb),r&1&&(la|=k.ib),la&&(0!==(la&k.Kb)&&(15>c?ca|=1<<c+1:0<f&&0<X&&(na[f-1]|=1)),0!==(la&k.ib)&&(0<c?ca|=1<<c-1:f<N-1&&X<A-1&&(na[f+1]|=32768)),0!==(la&k.Ib)&&(da|=1<<c),0!==(la&k.tb)&&(ma|=1<<c),0!==(la&k.Qb)&&(15>c?da|=1<<c+1:0<f&&0<X&&(q[f-1]|=1)),0!==(la&k.Rb)&&(0<c?da|=1<<c-1:f<N-1&&X<A-1&&(q[f+1]|=32768)),0!==(la&k.Ub)&&(15>c?ma|=1<<c+1:0<f&&0<X&&(u[f-1]|=1)),0!==(la&k.sb)&&(0<c?ma|=1<<c-1:f<N-1&&X<A-1&&
(u[f+1]|=32768))));B[d]|=b}X+=16}na[f]|=ca;ba[f]=y|ca;W[f]=W[f]|y|ca;0<d&&(q[f]|=da);d<H-1&&(u[f]|=ma)}else X+=256;M+=16;fa+=16}for(f=0;f<C;f+=1)v[f]&&(f<F&&(F=f),f>E&&(E=f));for(d=0;d<B.length;d+=1)B[d]&&(d<D&&(D=d),d>I&&(I=d));F=(F<<4)+this.G(v[F]);E=(E<<4)+this.U(v[E]);D=(D<<4)+this.G(B[D]);I=(I<<4)+this.U(B[I]);0>I&&(I=z-1);D>=z&&(D=0);F>=A&&(F=0);0>E&&(E=A-1);I>z-1&&(I=z-1);0>D&&(D=0);0>F&&(F=0);E>A-1&&(E=A-1);G.B=I;G.m=D;G.j=F;G.A=E;K.fill(0);M=0;fa=M+16;for(d=0;d<Y.length;d+=1){X=0;ia=Y[d];
na=U[d];for(f=0;f<N;f+=1)if(y=ia[f],ca=na[f],y!==ca)for(c=15;0<=c;--c){if((y&1<<c)!==(ca&1<<c)&&0===(ca&1<<c))for(V=M;V<fa;V+=1)Z=J[V],L=X>>2,Z[L]=0,Z[L+1]=0,Z[L+2]=0,Z[L+3]=0;X+=16}else X+=256;M+=16;fa+=16}this.qa=e;this.Pb=t;this.cc=x;this.da=e};p.prototype.zt=function(){var a=this.yk,c=this.zk,d=this.pl,f=0,n,m,q,u=this.Ca,y=this.Ka,v,r=this.ja,B,b=this.bb,l,e,t=0,x=0,z=0,A=this.height,C=this.width,G=C>>4,D=this.L,I=A,F=-1,E=C,H=-1,N=this.va,K=this.ta>>4,P=this.td;if(0!==(this.counter&1)){var J=
this.Ma;var T=this.ua;var Y=this.be;var U=this.oa;var M=this.ha}else J=this.ba,T=this.be,Y=this.ua,U=this.ha,M=this.oa;r.fill(0);b.fill(0);var fa=0;var X=fa+16;M.jb.fill(0);for(m=0;m<U.length;m+=1){var ia=0;var na=U[m];var ba=M[m];var W=y[m];var ca=u[m];var da=0<m?M[m-1]:P;var ma=m<N-1?M[m+1]:P;for(q=0;q<K;q+=1)if(v=na[q]){var la=ba[q];var V=da[q];var R=ma[q];for(n=15;0<=n;--n){if(0!==(v&1<<n)){var Z=l=B=0;var ea=fa;for(e=32768;ea<X;){var ha=0===ea?this.Oc:J[ea-1];var aa=J[ea];var L=ea===this.height-
1?this.Oc:J[ea+1];var Q=Y[ea];var ka=32768;var S=ia;0===S?f=0:f=aa[S-1];var O=aa[S];var ja=f;f=O;var oa=ha[S];O=aa[S+1];var qa=L[S];var ra=oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<8;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<16;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);
ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<24;Q[S>>2]=ra;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];ra=oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<8;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+
f];ra|=oa<<16;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<24;Q[S>>2]=ra;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];ra=oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<8;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=
f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<16;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<24;Q[S>>2]=ra;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];ra=oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<8;
0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<16;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ka>>=1;S+=1;ja=f;f=O;oa=ha[S];S===C-1?O=0:O=aa[S+1];qa=L[S];oa=c[a[a[a[a[d+oa]+ja]+O]+qa]+f];ra|=oa<<24;Q[S>>2]=ra;0<oa?(t+=1,0===f&&(x+=1),l|=e,B|=ka):0<f&&(z+=1);ea+=1;e>>=1}r[ia>>4]|=B;B&&(la|=1<<n,l&1&&(Z|=k.tb,B&32768&&(Z|=k.Ub),B&1&&(Z|=k.sb)),l&32768&&(Z|=k.Ib,B&32768&&(Z|=k.Qb),B&1&&(Z|=k.Rb)),B&32768&&
(Z|=k.Kb),B&1&&(Z|=k.ib),Z&&(0!==(Z&k.Kb)&&(15>n?la|=1<<n+1:0<q&&0<ia&&(ba[q-1]|=1)),0!==(Z&k.ib)&&(0<n?la|=1<<n-1:q<K-1&&ia<C-1&&(ba[q+1]|=32768)),0!==(Z&k.Ib)&&(V|=1<<n),0!==(Z&k.tb)&&(R|=1<<n),0!==(Z&k.Qb)&&(15>n?V|=1<<n+1:0<q&&0<ia&&(da[q-1]|=1)),0!==(Z&k.Rb)&&(0<n?V|=1<<n-1:q<K-1&&ia<C-1&&(da[q+1]|=32768)),0!==(Z&k.Ub)&&(15>n?R|=1<<n+1:0<q&&0<ia&&(ma[q-1]|=1)),0!==(Z&k.sb)&&(0<n?R|=1<<n-1:q<K-1&&ia<C-1&&(ma[q+1]|=32768))));b[m]|=l}ia+=16}ba[q]|=la;W[q]=v|la;ca[q]=ca[q]|v|la;0<m&&(da[q]|=V);m<
N-1&&(ma[q]|=R)}else ia+=256;fa+=16;X+=16}for(q=0;q<G;q+=1)r[q]&&(q<E&&(E=q),q>H&&(H=q));for(m=0;m<b.length;m+=1)b[m]&&(m<I&&(I=m),m>F&&(F=m));E=(E<<4)+this.G(r[E]);H=(H<<4)+this.U(r[H]);I=(I<<4)+this.G(b[I]);F=(F<<4)+this.U(b[F]);0>F&&(F=A-1);I>=A&&(I=0);E>=C&&(E=0);0>H&&(H=C-1);F>A-1&&(F=A-1);0>I&&(I=0);0>E&&(E=0);H>C-1&&(H=C-1);D.B=F;D.m=I;D.j=E;D.A=H;P.fill(0);fa=0;X=fa+16;for(m=0;m<U.length;m+=1){ia=0;na=U[m];ba=M[m];for(q=0;q<K;q+=1)if(v=na[q],la=ba[q],v!==la)for(n=15;0<=n;--n){if((v&1<<n)!==
(la&1<<n)&&0===(la&1<<n))for(ea=fa;ea<X;ea+=1)aa=T[ea],S=ia>>2,aa[S]=0,aa[S+1]=0,aa[S+2]=0,aa[S+3]=0;ia+=16}else ia+=256;fa+=16;X+=16}this.qa=t;this.Pb=x;this.cc=z;this.da=t};p.prototype.LH=function(){var a=this.me,c=this.L,d=this.Nd,f=d.j;var n=d.m;var m=d.A,q=d.B,u=0,y=0,v=0,r=this.width,B=this.height,b=0,l=0,e=this.width,t=this.height,x=0,z=0,A=this.Ca,C,G=this.Tf,D=this.O,I=0<this.O?1:0;var F=this.Ba;var E=this.xa;var H=Math.round((this.width-F)/2);var N=Math.round((this.height-E)/2);-1!==this.ya&&
(f=H+1,n=N+1,m=H+F-1-1,q=N+E-1-1);this.cd&&(this.bd=!this.bd,this.cd=!1);this.da=0;0!==(this.counter&1)?(F=this.Ma,E=this.ba,this.bd&&(a=this.Jc)):(F=this.ba,E=this.Ma,this.sc&&(a=this.Gf),this.bd&&(a=this.sc?this.ne:this.Jc));1>n&&(n=1);q>this.height-2&&(q=this.height-2);1>f&&(f=1);m>this.width-2&&(m=this.width-2);for(--n;n<=q+1;n+=1){N=F[n-1];var K=F[n];var P=F[n+1];var J=A[n>>4];var T=E[n];var Y=C=!1;var U=K[f-2];for(H=f-1;H<=m+1;H+=1){var M=P[H];var fa=K[H+1];var X=N[H];0<D&&(M=M<=D?0:M-D,fa=
fa<=D?0:fa-D,X=X<=D?0:X-D,U=U<=D?0:U-D);U=U|M<<4|fa<<8|X<<12;M=a[U];U=K[H];0<M?(u+=G[M],T[H]=M+D,C=!0,J[H>>8]=65535,H<r&&(r=H),H>b&&(b=H)):(M=U,M>D?M=D:M>I&&--M,T[H]=M,0<M&&(C=!0,H<r&&(r=H),H>b&&(b=H)),M=0);U>D?(U-=D,y+=G[M&~U],v+=G[U&~M],U+=D):y+=G[M];0<M&&(H<e&&(e=H),H>x&&(x=H),Y=!0)}C&&(n<B&&(B=n),n>l&&(l=n));Y&&(n<t&&(t=n),n>z&&(z=n))}this.qa=u;this.Pb=y;this.cc=v;this.da=u;d.j=r;d.m=B;d.A=b;d.B=l;c.j=e;c.m=t;c.A=x;c.B=z};p.prototype.Ey=function(){var a=this.ik,c=this.Ca,d=this.Ka,f,n,m;var q=
this.va;var u=this.ta>>4;var y=0;var v=q;this.da=0;if(0!==(this.counter&1)){var r=this.Sb;var B=this.oa}else r=this.eb,B=this.ha;0>y&&(y=0);v>q&&(v=q);q=y<<4;var b=q+16;for(f=y;f<v;f+=1){var l=0;var e=B[f];var t=d[f];var x=c[f];for(n=0;n<u;n+=1){var z=e[n]|x[n];var A=0;if(z)for(m=15;0<=m;--m){if(0!==(z&1<<m)){var C=0;for(y=q;y<b;){var G=r[y];var D=a[y];var I=l<<3;G=G[l];this.da|=G;C|=G;D[I]=(G&32768)>>9|G&16384;I+=1;D[I]=(G&8192)>>7|(G&4096)<<2;I+=1;D[I]=(G&2048)>>5|(G&1024)<<4;I+=1;D[I]=(G&512)>>
3|(G&256)<<6;I+=1;D[I]=(G&128)>>1|(G&64)<<8;I+=1;D[I]=(G&32)<<1|(G&16)<<10;I+=1;D[I]=(G&8)<<3|(G&4)<<12;I+=1;D[I]=(G&2)<<5|(G&1)<<14;y+=1}C&&(A|=1<<m)}l+=1}else l+=16;t[n]=A;x[n]|=A}q+=16;b+=16}};p.prototype.Uy=function(){var a=this.ik,c=this.Ca,d=this.Ka,f=this.bp,n,m,q;var u=this.va;var y=this.ta>>4;var v=0;var r=u;this.da=0;if(0!==(this.counter&1)){var B=this.Sb;var b=this.oa}else B=this.eb,b=this.ha;0>v&&(v=0);r>u&&(r=u);u=v<<4;var l=u+16;for(n=v;n<r;n+=1){var e=0;var t=b[n];var x=d[n];var z=
c[n];for(m=0;m<y;m+=1){var A=t[m]|x[m];var C=0;if(A)for(q=15;0<=q;--q){if(0!==(A&1<<q)){var G=0;for(v=u;v<l;){var D=B[v];var I=a[v];var F=e<<3;D=D[e];this.da|=D;var E=f[I[F]|(D&32768)>>8|(D&16384)<<1];G|=E;I[F]=E;F+=1;E=f[I[F]|(D&8192)>>6|(D&4096)<<3];G|=E;I[F]=E;F+=1;E=f[I[F]|(D&2048)>>4|(D&1024)<<5];G|=E;I[F]=E;F+=1;E=f[I[F]|(D&512)>>2|(D&256)<<7];G|=E;I[F]=E;F+=1;E=f[I[F]|D&128|(D&64)<<9];G|=E;I[F]=E;F+=1;E=f[I[F]|(D&32)<<2|(D&16)<<11];G|=E;I[F]=E;F+=1;E=f[I[F]|(D&8)<<4|(D&4)<<13];G|=E;I[F]=E;
F+=1;E=f[I[F]|(D&2)<<6|(D&1)<<15];G|=E;I[F]=E;v+=1}if(1<(G&255)||1<G>>8)C|=1<<q}e+=1}else e+=16;x[m]=C;z[m]|=C}u+=16;l+=16}};p.prototype.Ly=function(){var a=this.ik,c=this.Ca,d=this.Ka,f=this.bp,n,m,q;var u=this.va;var y=this.ta>>4;var v=0;var r=u;this.da=0;if(0!==(this.counter&1)){var B=this.Sb;var b=this.oa}else B=this.eb,b=this.ha;0>v&&(v=0);r>u&&(r=u);u=v<<4;var l=u+16;for(n=v;n<r;n+=1){var e=0;var t=b[n];var x=d[n];var z=c[n];for(m=0;m<y;m+=1){var A=t[m]|x[m];var C=0;if(A)for(q=15;0<=q;--q){if(0!==
(A&1<<q)){var G=0;for(v=u;v<l;){var D=B[v];var I=a[v];var F=e<<3;D=D[e];this.da|=D;var E=f[(D&49152)>>7|v+F+F&127];G|=E;I[F]=E;F+=1;E=f[(D&12288)>>5|v+F+F&127];G|=E;I[F]=E;F+=1;E=f[(D&3072)>>3|v+F+F&127];G|=E;I[F]=E;F+=1;E=f[(D&768)>>1|v+F+F&127];G|=E;I[F]=E;F+=1;E=f[(D&192)<<1|v+F+F&127];G|=E;I[F]=E;F+=1;E=f[(D&48)<<3|v+F+F&127];G|=E;I[F]=E;F+=1;E=f[(D&12)<<5|v+F+F&127];G|=E;I[F]=E;F+=1;E=f[(D&3)<<7|v+F+F&127];G|=E;I[F]=E;v+=1}if(1<(G&255)||1<G>>8)C|=1<<q}e+=1}else e+=16;x[m]=C;z[m]|=C}u+=16;l+=
16}};p.prototype.qH=function(a,c,d,f,n,m,q,u,y,v){var r=this.Kf;f=f*a+r.B;d=d*a+r.A;c=c*a+r.m;n=n*a+r.j;r=d-n+1;a=f-c+1;this.S&&(r=d-c/2-(n-f/2)+1);0===r&&(r=1);0===a&&(a=1);m/=r;q/=a;v=Math.round(1E3*(m>q?q:m)/v)/1E3;v<u?v=u:v>y&&(v=y);return v};p.prototype.sx=function(a){var c=a;1>a&&(c=1/a);var d=Math.round(c);(d<c?d/c:c/d)>=ViewConstants.DK&&(a=1>a?1/d:d);return a};p.prototype.Tg=function(a,c,d,f,n,m,q,u,y,v,r,B,b,l){var e=this.L,t=this.Kf,x=this.Nd;d=this.ba;(this.N||this.fa||this.T)&&0!==(this.counter&
1)&&(d=this.Ma);B?e=x:this.sa&&(e=this.Oa);if(a===ViewConstants.Qu){B=c.j;x=c.A;var z=c.B;c=c.m}else B=e.j,x=e.A,z=e.B,c=e.m,this.Ga&&!b&&(t.j<B&&(B=t.j),t.A>x&&(x=t.A),t.B>z&&(z=t.B),t.m<c&&(c=t.m)),-1!==this.ya&&(t=this.Ba,b=this.xa,0<t&&(this.width/2-t/2<B&&(B=this.width/2-t/2),this.width/2+t/2>x&&(x=this.width/2+t/2)),0<b&&(this.height/2-b/2<c&&(c=this.height/2-b/2),this.height/2+b/2>z&&(z=this.height/2+b/2)));r?(t=y,b=v,B=this.width/2-t/2,x=this.width/2+t/2,z=this.height/2+b/2,c=this.height/
2-b/2):(t=x-B+1,b=z-c+1);if(this.S)if(a===ViewConstants.Qu)B-=z/2,t=x-c/2-B+1;else{t=2*(this.width+this.height);e=-t;for(r=c;r<=z;r+=1)for(y=d[r],v=B;v<=x;v+=1){var A=y[v];0<A&&(A=v-r/2,A<t&&(t=A),A>e&&(e=A))}B=t;x=e;B>x&&(d=B,B=x,x=d);t=0>x&&0>B?0:x-B+1}0===t&&(t=1);0===b&&(b=1);f/=t;n/=b;this.R&&(n/=ViewConstants.he);u=Math.round(1E3*(f>n?n:f)/u)/1E3;u/=this.xc;u<m?u=m:u>q&&(u=q);m=c-this.Xb+b/2;q=B-this.$b+t/2;l||(u=this.sx(u));a===ViewConstants.SD&&(u=this.zoom);return[u,q,m]};p.prototype.Zw=
function(a,c,d,f){var n=this.ce,m=this.J,q=this.H;if(a>c){var u=c;c=a;a=u}0>a?a=0:a>=m&&(a=m-1);0>c?c=0:c>=m&&(c=m-1);0<=d&&d<q&&n.fill(f,d*m+a,d*m+c)};p.prototype.cx=function(a,c,d,f){var n=this.ce,m=this.J,q=this.H;if(c>d){var u=d;d=c;c=u}0>c?c=0:c>=q&&(c=q-1);0>d?d=0:d>=q&&(d=q-1);c=c*m+a;d=d*m+a;q=d-15*m;if(0<=a&&a<m){for(;c<=q;)n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=m,n[c]=f,c+=
m,n[c]=f,c+=m,n[c]=f,c+=m;for(;c<=d;)n[c]=f,c+=m}};p.prototype.SC=function(a,c,d,f,n){var m=Math.abs(d-a),q=Math.abs(f-c),u=a<d?1:-1,y=c<f?1:-1,v=m-q,r=this.J,B=this.H,b=this.ce;if(!(0>a&&0>d||a>=r&&d>=r||0>c&&0>f||c>=B&&f>=B))if(0<=a&&a<r&&0<=c&&c<B&&0<=d&&d<r&&0<=f&&f<B)for(b[c*r+a]=n;a!==d||c!==f;){var l=v+v;l>-q&&(v-=q,a+=u);l<m&&(v+=m,c+=y);b[c*r+a]=n}else for(0<=a&&a<r&&0<=c&&c<B&&(b[c*r+a]=n);a!==d||c!==f;)l=v+v,l>-q&&(v-=q,a+=u),l<m&&(v+=m,c+=y),0<=a&&a<r&&0<=c&&c<B&&(b[c*r+a]=n)};p.prototype.Wj=
function(a,c,d,f,n){var m=this.J/2,q=this.H/2;if(0!==this.qb){a-=m;c-=q;var u=Math.sqrt(a*a+c*c);var y=180/Math.PI*Math.atan2(c,a);y+=this.qb;a=Math.round(u*Math.cos(Math.PI/180*y)+m);c=Math.round(u*Math.sin(Math.PI/180*y)+q);d-=m;f-=q;u=Math.sqrt(d*d+f*f);y=180/Math.PI*Math.atan2(f,d);y+=this.qb;d=Math.round(u*Math.cos(Math.PI/180*y)+m);f=Math.round(u*Math.sin(Math.PI/180*y)+q)}a===d?this.cx(a,c,f,n):c===f?this.Zw(a,d,c,n):this.SC(a,c,d,f,n)};p.prototype.Bl=function(a,c,d,f,n){var m=a.sf,q=a.rf,
u=0,y=0,v=this.context;var r=this.zoom;var B=this.zoom*(this.R?ViewConstants.he:1);var b=(this.width>>1)-(a.hb>>1);var l=(this.height>>1)-(a.lb>>1);var e=a.Uc-this.wa,t=a.Tc-this.Da-(this.S?this.wa/2:0),x=[0,0];switch(f){case ViewConstants.AF:c-=m>>1;break;case ViewConstants.BF:c-=m-1;break;case ViewConstants.FF:d-=q>>1;break;case ViewConstants.zF:c-=m>>1;d-=q>>1;break;case ViewConstants.yF:c-=m-1;d-=q>>1;break;case ViewConstants.EF:d-=q-1;break;case ViewConstants.CF:c-=m>>1;d-=q-1;break;case ViewConstants.DF:c-=
m-1,d-=q-1}var z=B*(d-l+e-this.Xb+a.Uc)+a.H/2;f=r*(c-b+t-this.$b+a.Tc)+a.J/2+(this.S?(a.H/2-z)/2:0);var A=B*(d+q-l+e-this.Xb+a.Uc)+a.H/2;var C=r*(c+m-b+t-this.$b+a.Tc)+a.J/2+(this.S?(a.H/2-A)/2:0);v.fillStyle=n;v.globalAlpha=.5;if(this.S)if(this.vc&&4<=this.zoom)this.vt(c,d,c+m-1,d+q-1,b,l);else{v.beginPath();for(n=0;n<q;n+=1)v.moveTo(f,z),v.lineTo(f+m*r+1,z),v.lineTo(f+m*r+1,z+B+1),v.lineTo(f,z+B+1),f-=B/2,z+=B;v.fill()}else this.R&&4<=this.zoom?this.wt(c,d,c+m-1,d+q-1,b,l):(v.beginPath(),this.ff(f,
z,x),v.moveTo(x[0],x[1]),this.ff(C+1,z,x),v.lineTo(x[0],x[1]),this.ff(C+1,A+1,x),v.lineTo(x[0],x[1]),this.ff(f,A+1,x),v.lineTo(x[0],x[1]),v.fill());if(1<=this.zoom){if(0<this.qb){var G=Math.cos(this.qb/180*Math.PI)*this.na;var D=Math.sin(this.qb/180*Math.PI)*this.na;var I=Math.cos((this.qb+90)/180*Math.PI)*this.na;var F=Math.sin((this.qb+90)/180*Math.PI)*this.na}else G=this.na,I=D=0,F=G;z=B*(d+y-l+e-this.Xb+a.Uc)+a.H/2;f=r*(c+u-b+t-this.$b+a.Tc)+a.J/2+(this.S?(a.H/2-z)/2:0);0!==this.qb&&(this.ff(f,
z,x),f=x[0],z=x[1]);C=f;A=z;v.fillStyle="rgb(255, 128, 0)";if(this.S&&this.vc&&4<=this.zoom)this.ax(c,d,c+m-1,d+q-1,b,l,a.yb);else if(this.R&&4<=this.zoom)this.bx(c,d,c+m-1,d+q-1,b,l,a.yb);else{v.beginPath();for(y=n=0;y<q;y+=1){f=C;for(u=0;u<m;u+=1)c=a.yb[n],n+=1,c&&(c=f+G,d=z+D,r=c+I,B=d+F,b=r-G,l=B-D,0>f&&0>c&&0>r&&0>b||f>=a.J&&c>=a.J&&r>=a.J&&b>=a.J||0>z&&0>d&&0>B&&0>l||z>=a.H&&d>=a.H&&B>=a.H&&l>=a.H||(v.moveTo(f,z),v.lineTo(c,d),v.lineTo(r,B),v.lineTo(b,l))),f+=G,z+=D;C+=I;z=A+=F;this.S&&(C-=
F/2)}v.fill()}}};p.prototype.ff=function(a,c,d){var f=this.J/2,n=this.H/2;if(0!==this.qb){a-=f;c-=n;var m=Math.sqrt(a*a+c*c);c=180/Math.PI*Math.atan2(c,a);c+=this.qb;a=Math.round(m*Math.cos(Math.PI/180*c)+f);c=Math.round(m*Math.sin(Math.PI/180*c)+n)}d[0]=a;d[1]=c};p.prototype.uJ=function(a){var c=a.Fg+.5|0,d=(this.width>>1)-(a.hb>>1)+(a.Mb<<1),f=(this.height>>1)-(a.lb>>1)+(a.Nb<<1);(a.xb||a.kk)&&this.OC(a,a.Eb,this.rB);a.yd&&(-1!==this.ya&&a.ah?this.Bl(a,a.lp.j-a.hb,a.lp.m-a.lb,ViewConstants.Rp,this.Pt):
this.Bl(a,a.lp.j,a.lp.m,ViewConstants.Rp,this.Pt));if(a.ld){var n=a.o.gl;var m=a.o.hl;-1!==n&&(a.Mw(n,m),-1!==this.ya&&a.ah&&(d+=a.hb,f+=a.lb),this.Bl(a,a.fk-d,a.gk-f,c,this.bA))}};p.prototype.OC=function(a,c,d){var f=this.context,n=this.zoom,m=this.zoom*(this.R?ViewConstants.he:1),q=c.j,u=c.m,y=c.A;c=c.B;var v=(this.width>>1)-(a.hb>>1),r=(this.height>>1)-(a.lb>>1),B=a.Uc-this.wa,b=a.Tc-this.Da-(this.S?this.wa/2:0),l=[0,0],e=a.Eb;if(q>y){var t=q;q=y;y=t}u>c&&(t=u,u=c,c=t);t=y-q+1;var x=c-u+1;-1!==
this.ya&&a.ah&&(r+=a.lb,v+=a.hb);u=m*(u-r+B-this.Xb+a.Uc)+a.H/2;q=n*(q-v+b-this.$b+a.Tc)+a.J/2+(this.S?(a.H/2-u)/2:0);c=m*(c+1-r+B-this.Xb+a.Uc)+a.H/2;y=n*(y+1-v+b-this.$b+a.Tc)+a.J/2+(this.S?(a.H/2-c)/2:0);f.fillStyle=d;f.globalAlpha=.5;if(this.S)if(this.vc&&4<=this.zoom)this.vt(e.j,e.m,e.A,e.B,v,r);else{f.beginPath();t*=n;for(a=0;a<x;a+=1)f.moveTo(q,u),f.lineTo(q+t+1,u),f.lineTo(q+t+1,u+m+1),f.lineTo(q,u+m+1),q-=m/2,u+=m;f.fill()}else this.R&&this.vc&&4<=this.zoom?this.wt(e.j,e.m,e.A,e.B,v,r):(f.beginPath(),
this.ff(q,u,l),f.moveTo(l[0],l[1]),this.ff(y+1,u,l),f.lineTo(l[0],l[1]),this.ff(y+1,c+1,l),f.lineTo(l[0],l[1]),this.ff(q,c+1,l),f.lineTo(l[0],l[1]),f.fill());f.globalAlpha=1};p.prototype.Yd=function(){var a,c=this.J,d=this.H,f=this.cg,n=this.ag,m=this.na,q=this.na*(this.R?ViewConstants.he:1),u=f,y,v=0<this.Hf&&this.al,r=this.counter&1,B=((this.height/2-(this.wa+this.Xb))*q+d/2)%q,b=((this.width/2-(this.Da+this.$b))*m+c/2)%m;if(this.jc)var l=v?2:1;else l=1,v=!1,u=f=this.ze[0];var e=f;for(this.ma&&
2===this.Hf&&this.Dl||(r=0);l;){var t=-(c/2/m)-(this.width/2-this.Da-this.$b)|0;var x=22*-m;var z=c+m+22*m;var A=B-22*q;var C=d+22*q;var G=-c/1.5;var D=c+c/1.5;var I=-d/1.5;for(y=d+d/1.5;x<=z;x+=m)if(v&&(0===(t+r)%this.Hf?u=n:u=f),t+=1,u===e)if(this.S){var F=-(d/2/q)-(this.height/2-this.wa-this.Xb)|0;for(a=A;a<C;a+=q)0===(F&1)?this.Wj(Math.round(x+b),Math.round(a),Math.round(x+b),Math.round(a+q-1),u):this.Wj(Math.round(x+b+m/2),Math.round(a),Math.round(x+b+m/2),Math.round(a+q-1),u),F+=1}else this.Wj(Math.round(x+
b),I,Math.round(x+b),y-1,u);t=-(d/2/q)-(this.height/2-this.wa-this.Xb)|0;for(a=A;a<C;a+=q)v&&(0===(t+r)%this.Hf?u=n:u=f),t+=1,u===e&&this.Wj(G,Math.round(a),D-1,Math.round(a),u);--l;e=n}};p.prototype.vh=function(){return 4<=this.na};p.prototype.Ay=function(a,c){var d=this.Ba,f=this.xa,n=this.ma?-1:0,m=Math.round((this.width-d)/2-1)+n,q=m+d+1,u=Math.round((this.height-f)/2-1)+n;n=u+f+1;var y=a[u],v=a[n];if(0===d)y.fill(c,0,this.width),v.fill(c,0,this.width);else if(0===f)for(d=0;d<this.height;d+=1)a[d][m]=
c,a[d][q]=c;else for(y.fill(c,m,q+1),v.fill(c,m,q+1),d=u+1;d<=n-1;d+=1)a[d][m]=c,a[d][q]=c};p.prototype.hM=function(a,c){var d=this.ze[0],f=this.ce,n=this.ba,m=this.ik,q=this.be;this.Vj=!0;(this.N||this.fa||this.T)&&0!==(this.counter&1)&&(n=this.Ma,m=this.Zh,q=this.ua);this.un&&(this.zD(),--this.un,this.un||(this.$e.set(this.Gd),this.Wc.set(this.Yb),this.hf.set(this.He),this.Gg.set(this.$f),this.cf.set(this.le),this.qh.set(this.hg)));this.na=this.zoom*this.xc;this.na<ViewConstants.za?this.na=ViewConstants.za:
this.na>ViewConstants.Ya&&(this.na=ViewConstants.Ya);this.qe=this.Da+this.$b;this.re=this.wa+this.Xb;this.s=this.ue/2+1;this.qb=this.S||this.R?0:this.angle;-1!==this.ya&&this.Ay(n,this.Gb);4<=this.na&&(this.vc&&this.S||this.vc&&this.R)?(f.fill(d),this.Kd(1)):(1>this.na&&this.BC(m,q),.125>this.na?this.dj?this.Pi(this.De,this.Ec,15,a,c):this.Qi(this.Ec,this.Ec,15,a,c):.25>this.na?this.dj?this.Pi(this.De,this.Ec,7,a,c):this.Qi(this.Ec,this.Ec,7,a,c):.5>this.na?this.dj?this.Pi(this.De,this.Ec,3,a,c):
this.Qi(this.Ec,this.Ec,3,a,c):1>this.na?this.dj?this.Pi(this.De,this.Ec,1,a,c):this.Qi(this.Ec,this.Ec,1,a,c):this.dj?this.Pi(this.ec,n,0,a,c):this.Qi(n,n,0,a,c))};p.prototype.eO=function(a,c,d,f){var n=this.J>>3,m=this.ze,q=this.ce,u,y,v=1,r=1,B=0,b=this.Fb&~d,l=this.Jb&~d,e=~d,t=~d,x=a,z=this.na;1<this.s&&(v=this.V);a=Math.sin(this.qb/180*Math.PI)/this.na;var A=Math.cos(this.qb/180*Math.PI)/this.na;var C=-(this.J/2*-a+this.H/2*A)+this.re;var G=-(this.J/2*A+this.H/2*a)+this.qe;1<this.V&&1<this.s&&
(B=.4/(this.V-1),r=.6);this.Kd(r);var D=this.width<this.ka?m[0]|0:this.Il|0;var I=0;var F=C;for(u=0;u<this.H;u+=1){var E=G;for(y=0;y<n;y+=1){if(0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)){var H=x[F&l][E&b]|0;q[I]=m[H]}else q[I]=D;I+=1;E+=A;F-=a;0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)?(H=x[F&l][E&b]|0,q[I]=m[H]):q[I]=D;I+=1;E+=A;F-=a;0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)?(H=x[F&l][E&b]|0,q[I]=m[H]):q[I]=D;I+=1;E+=A;F-=a;0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)?(H=x[F&l][E&b]|0,q[I]=m[H]):q[I]=D;I+=1;
E+=A;F-=a;0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)?(H=x[F&l][E&b]|0,q[I]=m[H]):q[I]=D;I+=1;E+=A;F-=a;0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)?(H=x[F&l][E&b]|0,q[I]=m[H]):q[I]=D;I+=1;E+=A;F-=a;0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)?(H=x[F&l][E&b]|0,q[I]=m[H]):q[I]=D;I+=1;E+=A;F-=a;0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)?(H=x[F&l][E&b]|0,q[I]=m[H]):q[I]=D;I+=1;E+=A;F-=a}G+=a;F=C+=A}f&&this.$d();(this.jc||this.ud)&&this.vh()&&this.Yd();x=c;for(c=1;c<v;c+=1)for(f=2<this.i?this.T?1:0===this.O?this.i/this.V*
c|0:c<v/2?this.O/this.V*c*2|0:this.O+this.i/this.V*c|0:this.Qd?1:(this.df+1)/this.V*c|0,r+=B,this.Kd(r),a/=this.s,A/=this.s,z*=this.s,b=d,d=.125>z?15:.25>z?7:.5>z?3:1>z?1:0,d!==b&&(x=this.ba),b=this.Fb&~d,l=this.Jb&~d,e=~d,t=~d,C=-(this.J/2*-a+this.H/2*A)+this.re,G=-(this.J/2*A+this.H/2*a)+this.qe,I=0,F=C,u=0;u<this.H;u+=1){E=G;for(y=0;y<n;y+=1)0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)&&(H=x[F&l][E&b]|0,H>=f&&(q[I]=m[H])),I+=1,E+=A,F-=a,0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)&&(H=x[F&l][E&b]|0,H>=f&&
(q[I]=m[H])),I+=1,E+=A,F-=a,0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)&&(H=x[F&l][E&b]|0,H>=f&&(q[I]=m[H])),I+=1,E+=A,F-=a,0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)&&(H=x[F&l][E&b]|0,H>=f&&(q[I]=m[H])),I+=1,E+=A,F-=a,0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)&&(H=x[F&l][E&b]|0,H>=f&&(q[I]=m[H])),I+=1,E+=A,F-=a,0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)&&(H=x[F&l][E&b]|0,H>=f&&(q[I]=m[H])),I+=1,E+=A,F-=a,0<=E&&(E&e)===(E&b)&&0<F&&(F&t)===(F&l)&&(H=x[F&l][E&b]|0,H>=f&&(q[I]=m[H])),I+=1,E+=A,F-=a,0<=E&&(E&e)===
(E&b)&&0<F&&(F&t)===(F&l)&&(H=x[F&l][E&b]|0,H>=f&&(q[I]=m[H])),I+=1,E+=A,F-=a;G+=a;F=C+=A}};p.prototype.sH=function(a,c,d,f){var n=this.J>>3,m=this.ze,q=this.ce,u,y,v=1,r=1,B=0,b=this.Fb&~d,l=this.Jb&~d,e=~d,t=~d,x=a,z=this.na;1<this.s&&(v=this.V);a=1/this.na;this.R&&(a/=ViewConstants.he);var A=1/this.na;var C=-(this.H/2*a)+this.re;var G=-(this.J/2*A)+this.qe;1<this.V&&1<this.s&&(B=.4/(this.V-1),r=.6);this.Kd(r);var D=this.width<this.ka?m[0]|0:this.Il|0;var I=0;var F=C;for(u=0;u<this.H;u+=1){if(0<=
F&&(F&t)===(F&l)){var E=x[F&l];var H=G;this.S&&(H+=.5*(F|0));for(y=0;y<n;y+=1){if(0<=H&&(H&e)===(H&b)){var N=E[H&b]|0;q[I]=m[N]}else q[I]=D;I+=1;H+=A;0<=H&&(H&e)===(H&b)?(N=E[H&b]|0,q[I]=m[N]):q[I]=D;I+=1;H+=A;0<=H&&(H&e)===(H&b)?(N=E[H&b]|0,q[I]=m[N]):q[I]=D;I+=1;H+=A;0<=H&&(H&e)===(H&b)?(N=E[H&b]|0,q[I]=m[N]):q[I]=D;I+=1;H+=A;0<=H&&(H&e)===(H&b)?(N=E[H&b]|0,q[I]=m[N]):q[I]=D;I+=1;H+=A;0<=H&&(H&e)===(H&b)?(N=E[H&b]|0,q[I]=m[N]):q[I]=D;I+=1;H+=A;0<=H&&(H&e)===(H&b)?(N=E[H&b]|0,q[I]=m[N]):q[I]=D;I+=
1;H+=A;0<=H&&(H&e)===(H&b)?(N=E[H&b]|0,q[I]=m[N]):q[I]=D;I+=1;H+=A}}else q.fill(D,I,I+this.J+1),I+=this.J;F=C+=a}f&&this.$d();(this.jc||this.ud)&&this.vh()&&this.Yd();x=c;for(c=1;c<v;c+=1)for(f=2<this.i?this.T?1:0===this.O?this.i/this.V*c|0:c<v/2?this.O/this.V*c*2|0:this.O+this.i/this.V*c|0:this.Qd?1:(this.df+1)/this.V*c|0,r+=B,this.Kd(r),a/=this.s,A/=this.s,z*=this.s,b=d,d=.125>z?15:.25>z?7:.5>z?3:1>z?1:0,d!==b&&(x=this.ba),b=this.Fb&~d,l=this.Jb&~d,e=~d,t=~d,C=-(this.H/2*a)+this.re,G=-(this.J/2*
A)+this.qe,I=0,F=C,u=0;u<this.H;u+=1){if(0<=F&&(F&t)===(F&l))for(E=x[F&l],H=G,this.S&&(H+=.5*(F|0)),y=0;y<n;y+=1)0<=H&&(H&e)===(H&b)&&(N=E[H&b]|0,N>=f&&(q[I]=m[N])),I+=1,H+=A,0<=H&&(H&e)===(H&b)&&(N=x[F&l][H&b]|0,N>=f&&(q[I]=m[N])),I+=1,H+=A,0<=H&&(H&e)===(H&b)&&(N=x[F&l][H&b]|0,N>=f&&(q[I]=m[N])),I+=1,H+=A,0<=H&&(H&e)===(H&b)&&(N=x[F&l][H&b]|0,N>=f&&(q[I]=m[N])),I+=1,H+=A,0<=H&&(H&e)===(H&b)&&(N=x[F&l][H&b]|0,N>=f&&(q[I]=m[N])),I+=1,H+=A,0<=H&&(H&e)===(H&b)&&(N=x[F&l][H&b]|0,N>=f&&(q[I]=m[N])),I+=
1,H+=A,0<=H&&(H&e)===(H&b)&&(N=x[F&l][H&b]|0,N>=f&&(q[I]=m[N])),I+=1,H+=A,0<=H&&(H&e)===(H&b)&&(N=x[F&l][H&b]|0,N>=f&&(q[I]=m[N])),I+=1,H+=A;else I+=n<<3;F=C+=a}};p.prototype.tH=function(a,c,d,f){var n=this.J>>3,m=this.ze,q=this.ce,u,y,v=1,r=1,B=0,b=this.Fb&~d,l=this.Jb&~d,e=a,t=this.na;1<this.s&&(v=this.V);a=Math.sin(this.qb/180*Math.PI)/this.na;var x=Math.cos(this.qb/180*Math.PI)/this.na;var z=-(this.J/2*-a+this.H/2*x)+this.re;var A=-(this.J/2*x+this.H/2*a)+this.qe;1<this.V&&1<this.s&&(B=.4/(this.V-
1),r=.6);this.Kd(r);var C=0;var G=z;for(u=0;u<this.H;u+=1){var D=A;for(y=0;y<n;y+=1){var I=e[G&l][D&b]|0;q[C]=m[I];C+=1;D+=x;G-=a;I=e[G&l][D&b]|0;q[C]=m[I];C+=1;D+=x;G-=a;I=e[G&l][D&b]|0;q[C]=m[I];C+=1;D+=x;G-=a;I=e[G&l][D&b]|0;q[C]=m[I];C+=1;D+=x;G-=a;I=e[G&l][D&b]|0;q[C]=m[I];C+=1;D+=x;G-=a;I=e[G&l][D&b]|0;q[C]=m[I];C+=1;D+=x;G-=a;I=e[G&l][D&b]|0;q[C]=m[I];C+=1;D+=x;G-=a;I=e[G&l][D&b]|0;q[C]=m[I];C+=1;D+=x;G-=a}A+=a;G=z+=x}f&&this.$d();(this.jc||this.ud)&&this.vh()&&this.Yd();e=c;for(c=1;c<v;c+=
1)for(f=2<this.i?this.T?1:0===this.O?this.i/this.V*c|0:c<v/2?this.O/this.V*c*2|0:this.O+this.i/this.V*c|0:this.Qd?1:(this.df+1)/this.V*c|0,r+=B,this.Kd(r),a/=this.s,x/=this.s,t*=this.s,b=d,.125>t?d=15:.25>t?d=7:.5>t?d=3:1>t?d=1:(e=this.ba,d=0),d!==b&&(e=this.ba),b=this.Fb&~d,l=this.Jb&~d,z=-(this.J/2*-a+this.H/2*x)+this.re,A=-(this.J/2*x+this.H/2*a)+this.qe,C=0,G=z,u=0;u<this.H;u+=1){D=A;for(y=0;y<n;y+=1)I=e[G&l][D&b]|0,I>=f&&(q[C]=m[I]),C+=1,D+=x,G-=a,I=e[G&l][D&b]|0,I>=f&&(q[C]=m[I]),C+=1,D+=x,
G-=a,I=e[G&l][D&b]|0,I>=f&&(q[C]=m[I]),C+=1,D+=x,G-=a,I=e[G&l][D&b]|0,I>=f&&(q[C]=m[I]),C+=1,D+=x,G-=a,I=e[G&l][D&b]|0,I>=f&&(q[C]=m[I]),C+=1,D+=x,G-=a,I=e[G&l][D&b]|0,I>=f&&(q[C]=m[I]),C+=1,D+=x,G-=a,I=e[G&l][D&b]|0,I>=f&&(q[C]=m[I]),C+=1,D+=x,G-=a,I=e[G&l][D&b]|0,I>=f&&(q[C]=m[I]),C+=1,D+=x,G-=a;A+=a;G=z+=x}};p.prototype.uH=function(a,c,d,f){var n=this.J>>3,m=this.ze,q=this.ce,u,y=1,v=1,r=0,B=this.Fb&~d,b=this.Jb&~d,l=a,e=this.na;1<this.s&&(y=this.V);a=1/this.na;this.R&&(a/=ViewConstants.he);var t=
1/this.na;var x=-(this.H/2*a)+this.re;var z=-(this.J/2*t)+this.qe;1<this.V&&1<this.s&&(r=.4/(this.V-1),v=.6);this.Kd(v);var A=0;var C=x;for(u=0;u<this.H;u+=1){var G=l[C&b];var D=z;this.S&&(D+=.5*(C|0));for(C=0;C<n;C+=1){var I=G[D&B];q[A]=m[I];A+=1;D+=t;I=G[D&B];q[A]=m[I];A+=1;D+=t;I=G[D&B];q[A]=m[I];A+=1;D+=t;I=G[D&B];q[A]=m[I];A+=1;D+=t;I=G[D&B];q[A]=m[I];A+=1;D+=t;I=G[D&B];q[A]=m[I];A+=1;D+=t;I=G[D&B];q[A]=m[I];A+=1;D+=t;I=G[D&B];q[A]=m[I];A+=1;D+=t}C=x+=a}f&&this.$d();(this.jc||this.ud)&&this.vh()&&
this.Yd();l=c;for(c=1;c<y;c+=1)for(f=2<this.i?this.T?1:0===this.O?this.i/this.V*c|0:c<y/2?this.O/this.V*c*2|0:this.O+this.i/this.V*c|0:this.Qd?1:(this.df+1)/this.V*c|0,v+=r,this.Kd(v),a/=this.s,t/=this.s,e*=this.s,B=d,d=.125>e?15:.25>e?7:.5>e?3:1>e?1:0,d!==B&&(l=this.ba),B=this.Fb&~d,b=this.Jb&~d,x=-(this.H/2*a)+this.re,z=-(this.J/2*t)+this.qe,A=0,C=x,u=0;u<this.H;u+=1){G=l[C&b];D=z;this.S&&(D+=.5*(C|0));for(C=0;C<n;C+=1)I=G[D&B]|0,I>=f&&(q[A]=m[I]),A+=1,D+=t,I=G[D&B]|0,I>=f&&(q[A]=m[I]),A+=1,D+=
t,I=G[D&B]|0,I>=f&&(q[A]=m[I]),A+=1,D+=t,I=G[D&B]|0,I>=f&&(q[A]=m[I]),A+=1,D+=t,I=G[D&B]|0,I>=f&&(q[A]=m[I]),A+=1,D+=t,I=G[D&B]|0,I>=f&&(q[A]=m[I]),A+=1,D+=t,I=G[D&B]|0,I>=f&&(q[A]=m[I]),A+=1,D+=t,I=G[D&B]|0,I>=f&&(q[A]=m[I]),A+=1,D+=t;C=x+=a}};p.prototype.Qi=function(a,c,d,f,n){var m=Math.sin(this.qb/180*Math.PI)/this.na,q=Math.cos(this.qb/180*Math.PI)/this.na,u=this.R?ViewConstants.he:1,y=this.J,v=this.H,r=-(this.J/2*-m+this.H/2*q/u)+this.re,B=-(this.J/2*q+this.H/2*m)+this.qe,b=r+y*-m,l=B+y*q;u=
r+v*q/u;v=B+v*m;m=u+y*-m;q=v+y*q;y=u;var e=v;q<e&&(e=q);B<e&&(e=B);l<e&&(e=B);q>v&&(v=q);B>v&&(v=B);l>v&&(v=l);m>y&&(y=m);r>y&&(y=r);b>y&&(y=b);m<u&&(u=m);r<u&&(u=r);b<u&&(u=b);0>(e|0)||(v|0)>=this.width||0>(u|0)||(y|0)>=this.height?0===this.qb?this.bh&&!this.S&&1<=this.na&&1===this.V&&(this.na|0)!==this.na?(this.Kd(1),this.width!==this.ka?this.Uo(a,e,u,v,y,this.ze[0],f,n):this.Uo(a,e,u,v,y,this.Il,f,n)):this.sH(a,c,d,f):this.eO(a,c,d,f):0===this.qb?this.bh&&!this.S&&1<=this.na&&1===this.V&&(this.na|
0)!==this.na?(this.Kd(1),this.Uo(a,e,u,v,y,this.ze[0],f,n)):this.uH(a,c,d,f):this.tH(a,c,d,f)};p.prototype.Uo=function(a,c,d,f,n,m,q,u){var y=this.ze,v=this.Zj,r=this.Ri,B=this.Si,b=(this.na|0)<<1,l=this.sd.width,e=l*b,t=f-c,x=n-d,z=this.na*(this.R?ViewConstants.he:1),A=-(c-Math.floor(c))*this.na,C=-(d-Math.floor(d))*z,G=this.width-1,D=this.height-1,I,F=0,E,H=b>>1,N;d|=0;c|=0;t=(t|0)+2;x=(x|0)+2;f=c+t;n=d+x;switch(H){case 1:var K=e;for(N=t<<1;d<n;d+=1){if((d&D)!==d)v.fill(m,F,F+N),F+=l,v.fill(m,F,
F+N);else{var P=a[d];var J=F;for(I=c;I<f;I+=1){var T=(I&G)!==I?m:y[P[I]];v[F]=T;v[F+1]=T;F+=2}F=J+l;v.copyWithin(F,J,J+N)}F=K;K+=e}break;case 2:K=e;for(N=t<<2;d<n;d+=1){if((d&D)!==d)v.fill(m,F,F+N),F+=l,v.fill(m,F,F+N),F+=l,v.fill(m,F,F+N),F+=l,v.fill(m,F,F+N);else{P=a[d];J=F;for(I=c;I<f;I+=1)T=(I&G)!==I?m:y[P[I]],v[F]=T,v[F+1]=T,v[F+2]=T,v[F+3]=T,F+=4;F=J+l;v.copyWithin(F,J,J+N);F+=l;J+=l;v.copyWithin(F,J,J+N);F+=l;J+=l;v.copyWithin(F,J,J+N)}F=K;K+=e}break;default:for(K=e,N=t*b;d<n;d+=1){if((d&D)!==
d)for(P=0;P<H;P+=1)v.fill(m,F,F+N),F+=l,v.fill(m,F,F+N),F+=l;else{P=a[d];J=F;for(I=c;I<f;I+=1)for(T=(I&G)!==I?m:y[P[I]],E=0;E<H;E+=1)v[F]=T,v[F+1]=T,F+=2;F=J+l;for(P=1;P<b;P+=1)v.copyWithin(F,J,J+N),J+=l,F+=l}F=K;K+=e}}r.putImageData(B,0,0,0,0,t*b,x*b);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.sd,0,0,t*b,x*b,A,C,t*this.na,x*z);this.context.imageSmoothingEnabled=!1;q||u||(this.jc||this.ud)&&this.vh()?(this.Xc=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),
this.ce=new Uint32Array(this.Xc.data.buffer),q&&this.$d(),(this.jc||this.ud)&&this.vh()&&this.Yd()):this.Vj=!1};p.prototype.Go=function(a,c,d,f,n,m,q,u,y){var v=this.ze,r=this.Zj,B=this.Ri,b=this.Si,l=(this.na|0)<<1,e=this.sd.width,t=e*l,x=n-d,z=m-f,A=-(d-Math.floor(d))*this.na,C=-(f-Math.floor(f))*this.na,G=this.width-1,D=this.height-1,I,F=0,E=this.Hb,H=l>>1,N=ViewConstants.Xa[3]+128,K=ViewConstants.Xa[4]+128,P=ViewConstants.Xa[5]+128,J=ViewConstants.Xa[6]+128,T;f|=0;d|=0;x=(x|0)+2;z=(z|0)+2;n=d+
x;m=f+z;switch(H){case 1:var Y=t;for(T=x<<1;f<m;f+=1){if((f&D)!==f)r.fill(q,F,F+T),F+=e,r.fill(q,F,F+T);else{var U=c[f];var M=a[f];var fa=F;for(I=d;I<n;I+=1){if((I&G)!==I)var X=q;else{X=U[I];var ia=M[I];ia===K||ia===J?(X>=E&&(ia=N),X=v[ia]):ia===N||ia===P?(X<E&&(ia=K),X=v[ia]):X=v[X]}r[F]=X;r[F+1]=X;F+=2}F=fa+e;r.copyWithin(F,fa,fa+T)}F=Y;Y+=t}break;case 2:Y=t;for(T=x<<2;f<m;f+=1){if((f&D)!==f)r.fill(q,F,F+T),F+=e,r.fill(q,F,F+T),F+=e,r.fill(q,F,F+T),F+=e,r.fill(q,F,F+T);else{U=c[f];M=a[f];fa=F;for(I=
d;I<n;I+=1)(I&G)!==I?X=q:(X=U[I],ia=M[I],ia===K||ia===J?(X>=E&&(ia=N),X=v[ia]):ia===N||ia===P?(X<E&&(ia=K),X=v[ia]):X=v[X]),r[F]=X,r[F+1]=X,r[F+2]=X,r[F+3]=X,F+=4;F=fa+e;r.copyWithin(F,fa,fa+T);F+=e;fa+=e;r.copyWithin(F,fa,fa+T);F+=e;fa+=e;r.copyWithin(F,fa,fa+T)}F=Y;Y+=t}break;default:for(Y=t,T=x*l;f<m;f+=1){if((f&D)!==f)for(U=0;U<H;U+=1)r.fill(q,F,F+T),F+=e,r.fill(q,F,F+T),F+=e;else{U=c[f];M=a[f];fa=F;for(I=d;I<n;I+=1)for((I&G)!==I?X=q:(X=U[I],ia=M[I],ia===K||ia===J?(X>=E&&(ia=N),X=v[ia]):ia===
N||ia===P?(X<E&&(ia=K),X=v[ia]):X=v[X]),ia=0;ia<H;ia+=1)r[F]=X,r[F+1]=X,F+=2;F=fa+e;for(U=1;U<l;U+=1)r.copyWithin(F,fa,fa+T),fa+=e,F+=e}F=Y;Y+=t}}B.putImageData(b,0,0,0,0,x*l,z*l);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.sd,0,0,x*l,z*l,A,C,x*this.na,z*this.na);this.context.imageSmoothingEnabled=!1;u||y||(this.jc||this.ud)&&this.vh()?(this.Xc=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.ce=new Uint32Array(this.Xc.data.buffer),u&&
this.$d(),(this.jc||this.ud)&&this.vh()&&this.Yd()):this.Vj=!1};p.prototype.TN=function(a,c,d,f){var n=this.J>>3,m=this.ze,q=this.ce,u,y,v=ViewConstants.Xa[3]+128,r=ViewConstants.Xa[4]+128,B=ViewConstants.Xa[5]+128,b=ViewConstants.Xa[6]+128,l=1,e=1,t=0,x=this.Hb,z=this.Fb&~d,A=this.Jb&~d,C=~d,G=~d,D=c,I=this.na;1<this.s&&(l=this.V);var F=Math.sin(this.qb/180*Math.PI)/this.na;var E=Math.cos(this.qb/180*Math.PI)/this.na;var H=-(this.J/2*-F+this.H/2*E)+this.re;var N=-(this.J/2*E+this.H/2*F)+this.qe;
1<this.V&&1<this.s&&(t=.4/(this.V-1),e=.6);this.Kd(e);var K=this.width<this.ka?m[0]|0:this.Il|0;var P=0;var J=H;for(u=0;u<this.H;u+=1){var T=N;for(y=0;y<n;y+=1){if(0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)){var Y=D[J&A][T&z];var U=a[J&A][T&z];U===r||U===b?(Y>=x&&(U=v),Y=m[U]|0):U===v||U===B?(Y<x&&(U=r),Y=m[U]|0):Y=m[Y]|0;q[P]=Y}else q[P]=K;P+=1;T+=E;J-=F;0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)?(Y=D[J&A][T&z],U=a[J&A][T&z],U===r||U===b?(Y>=x&&(U=v),Y=m[U]|0):U===v||U===B?(Y<x&&(U=r),Y=m[U]|0):Y=m[Y]|
0,q[P]=Y):q[P]=K;P+=1;T+=E;J-=F;0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)?(Y=D[J&A][T&z],U=a[J&A][T&z],U===r||U===b?(Y>=x&&(U=v),Y=m[U]|0):U===v||U===B?(Y<x&&(U=r),Y=m[U]|0):Y=m[Y]|0,q[P]=Y):q[P]=K;P+=1;T+=E;J-=F;0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)?(Y=D[J&A][T&z],U=a[J&A][T&z],U===r||U===b?(Y>=x&&(U=v),Y=m[U]|0):U===v||U===B?(Y<x&&(U=r),Y=m[U]|0):Y=m[Y]|0,q[P]=Y):q[P]=K;P+=1;T+=E;J-=F;0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)?(Y=D[J&A][T&z],U=a[J&A][T&z],U===r||U===b?(Y>=x&&(U=v),Y=m[U]|0):U===
v||U===B?(Y<x&&(U=r),Y=m[U]|0):Y=m[Y]|0,q[P]=Y):q[P]=K;P+=1;T+=E;J-=F;0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)?(Y=D[J&A][T&z],U=a[J&A][T&z],U===r||U===b?(Y>=x&&(U=v),Y=m[U]|0):U===v||U===B?(Y<x&&(U=r),Y=m[U]|0):Y=m[Y]|0,q[P]=Y):q[P]=K;P+=1;T+=E;J-=F;0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)?(Y=D[J&A][T&z],U=a[J&A][T&z],U===r||U===b?(Y>=x&&(U=v),Y=m[U]|0):U===v||U===B?(Y<x&&(U=r),Y=m[U]|0):Y=m[Y]|0,q[P]=Y):q[P]=K;P+=1;T+=E;J-=F;0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)?(Y=D[J&A][T&z],U=a[J&A][T&z],U===
r||U===b?(Y>=x&&(U=v),Y=m[U]|0):U===v||U===B?(Y<x&&(U=r),Y=m[U]|0):Y=m[Y]|0,q[P]=Y):q[P]=K;P+=1;T+=E;J-=F}N+=F;J=H+=E}f&&this.$d();(this.jc||this.ud)&&this.vh()&&this.Yd();D=c;for(a=1;a<l;a+=1)for(c=2<this.i?0===this.O?this.i/this.V*a|0:a<l/2?this.O/this.V*a*2|0:this.O+this.i/this.V*a|0:this.Qd?1:(this.df+1)/this.V*a|0,e+=t,this.Kd(e),F/=this.s,E/=this.s,I*=this.s,u=d,.125>I?d=15:.25>I?d=7:.5>I?d=3:1>I?d=1:(D=this.ba,d=0),d!==u&&(D=this.ba),z=this.Fb&~d,A=this.Jb&~d,C=~d,G=~d,H=-(this.J/2*-F+this.H/
2*E)+this.re,N=-(this.J/2*E+this.H/2*F)+this.qe,P=0,J=H,u=0;u<this.H;u+=1){T=N;for(y=0;y<n;y+=1)0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)&&(Y=D[J&A][T&z]|0,Y>=c&&(q[P]=m[Y])),P+=1,T+=E,J-=F,0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)&&(Y=D[J&A][T&z]|0,Y>=c&&(q[P]=m[Y])),P+=1,T+=E,J-=F,0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)&&(Y=D[J&A][T&z]|0,Y>=c&&(q[P]=m[Y])),P+=1,T+=E,J-=F,0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)&&(Y=D[J&A][T&z]|0,Y>=c&&(q[P]=m[Y])),P+=1,T+=E,J-=F,0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===
(J&A)&&(Y=D[J&A][T&z]|0,Y>=c&&(q[P]=m[Y])),P+=1,T+=E,J-=F,0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)&&(Y=D[J&A][T&z]|0,Y>=c&&(q[P]=m[Y])),P+=1,T+=E,J-=F,0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)&&(Y=D[J&A][T&z]|0,Y>=c&&(q[P]=m[Y])),P+=1,T+=E,J-=F,0<=T&&(T&C)===(T&z)&&0<=J&&(J&G)===(J&A)&&(Y=D[J&A][T&z]|0,Y>=c&&(q[P]=m[Y])),P+=1,T+=E,J-=F;N+=F;J=H+=E}};p.prototype.bO=function(a,c,d,f){var n=this.J>>3,m=this.ze,q=this.ce,u,y,v=ViewConstants.Xa[3]+128,r=ViewConstants.Xa[4]+128,B=ViewConstants.Xa[5]+128,
b=ViewConstants.Xa[6]+128,l=1,e=1,t=0,x=this.Hb,z=this.Fb&~d,A=this.Jb&~d,C=c,G=this.na;1<this.s&&(l=this.V);var D=Math.sin(this.qb/180*Math.PI)/this.na;var I=Math.cos(this.qb/180*Math.PI)/this.na;var F=-(this.J/2*-D+this.H/2*I)+this.re;var E=-(this.J/2*I+this.H/2*D)+this.qe;1<this.V&&1<this.s&&(t=.4/(this.V-1),e=.6);this.Kd(e);var H=0;var N=F;for(u=0;u<this.H;u+=1){var K=E;for(y=0;y<n;y+=1){var P=C[N&A][K&z];var J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=m[J]|0):J===v||J===B?(P<x&&(J=r),P=m[J]|0):
P=m[P]|0;q[H]=P;H+=1;K+=I;N-=D;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=m[J]|0):J===v||J===B?(P<x&&(J=r),P=m[J]|0):P=m[P]|0;q[H]=P;H+=1;K+=I;N-=D;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=m[J]|0):J===v||J===B?(P<x&&(J=r),P=m[J]|0):P=m[P]|0;q[H]=P;H+=1;K+=I;N-=D;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=m[J]|0):J===v||J===B?(P<x&&(J=r),P=m[J]|0):P=m[P]|0;q[H]=P;H+=1;K+=I;N-=D;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=m[J]|0):J===v||J===B?(P<
x&&(J=r),P=m[J]|0):P=m[P]|0;q[H]=P;H+=1;K+=I;N-=D;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=m[J]|0):J===v||J===B?(P<x&&(J=r),P=m[J]|0):P=m[P]|0;q[H]=P;H+=1;K+=I;N-=D;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=m[J]|0):J===v||J===B?(P<x&&(J=r),P=m[J]|0):P=m[P]|0;q[H]=P;H+=1;K+=I;N-=D;P=C[N&A][K&z];J=a[N&A][K&z];J===r||J===b?(P>=x&&(J=v),P=m[J]|0):J===v||J===B?(P<x&&(J=r),P=m[J]|0):P=m[P]|0;q[H]=P;H+=1;K+=I;N-=D}E+=D;N=F+=I}f&&this.$d();(this.jc||this.ud)&&this.vh()&&this.Yd();
C=c;for(a=1;a<l;a+=1)for(c=2<this.i?0===this.O?this.i/this.V*a|0:a<l/2?this.O/this.V*a*2|0:this.O+this.i/this.V*a|0:this.Qd?1:(this.df+1)/this.V*a|0,e+=t,this.Kd(e),D/=this.s,I/=this.s,G*=this.s,u=d,.125>G?d=15:.25>G?d=7:.5>G?d=3:1>G?d=1:(C=this.ba,d=0),d!==u&&(C=this.ba),z=this.Fb&~d,A=this.Jb&~d,F=-(this.J/2*-D+this.H/2*I)+this.re,E=-(this.J/2*I+this.H/2*D)+this.qe,H=0,N=F,u=0;u<this.H;u+=1){K=E;for(y=0;y<n;y+=1)P=C[N&A][K&z]|0,P>=c&&(q[H]=m[P]),H+=1,K+=I,N-=D,P=C[N&A][K&z]|0,P>=c&&(q[H]=m[P]),
H+=1,K+=I,N-=D,P=C[N&A][K&z]|0,P>=c&&(q[H]=m[P]),H+=1,K+=I,N-=D,P=C[N&A][K&z]|0,P>=c&&(q[H]=m[P]),H+=1,K+=I,N-=D,P=C[N&A][K&z]|0,P>=c&&(q[H]=m[P]),H+=1,K+=I,N-=D,P=C[N&A][K&z]|0,P>=c&&(q[H]=m[P]),H+=1,K+=I,N-=D,P=C[N&A][K&z]|0,P>=c&&(q[H]=m[P]),H+=1,K+=I,N-=D,P=C[N&A][K&z]|0,P>=c&&(q[H]=m[P]),H+=1,K+=I,N-=D;E+=D;N=F+=I}};p.prototype.dO=function(a,c,d,f){var n=this.J>>3,m=this.ze,q=this.ce,u,y=ViewConstants.Xa[3]+128,v=ViewConstants.Xa[4]+128,r=ViewConstants.Xa[5]+128,B=ViewConstants.Xa[6]+128,b=1,
l=1,e=0,t=this.Hb,x=this.Fb&~d,z=this.Jb&~d,A=c,C=this.na;1<this.s&&(b=this.V);var G=1/this.na;this.R&&(G/=ViewConstants.he);var D=1/this.na;var I=-(this.H/2*G)+this.re;var F=-(this.J/2*D)+this.qe;1<this.V&&1<this.s&&(e=.4/(this.V-1),l=.6);this.Kd(l);var E=0;var H=I;for(u=0;u<this.H;u+=1){var N=A[H&z];var K=a[H&z];var P=F;this.S&&(P+=.5*(H|0));for(H=0;H<n;H+=1){var J=N[P&x];var T=K[P&x];T===v||T===B?(J>=t&&(T=y),J=m[T]|0):T===y||T===r?(J<t&&(T=v),J=m[T]|0):J=m[J]|0;q[E]=J;E+=1;P+=D;J=N[P&x];T=K[P&
x];T===v||T===B?(J>=t&&(T=y),J=m[T]|0):T===y||T===r?(J<t&&(T=v),J=m[T]|0):J=m[J]|0;q[E]=J;E+=1;P+=D;J=N[P&x];T=K[P&x];T===v||T===B?(J>=t&&(T=y),J=m[T]|0):T===y||T===r?(J<t&&(T=v),J=m[T]|0):J=m[J]|0;q[E]=J;E+=1;P+=D;J=N[P&x];T=K[P&x];T===v||T===B?(J>=t&&(T=y),J=m[T]|0):T===y||T===r?(J<t&&(T=v),J=m[T]|0):J=m[J]|0;q[E]=J;E+=1;P+=D;J=N[P&x];T=K[P&x];T===v||T===B?(J>=t&&(T=y),J=m[T]|0):T===y||T===r?(J<t&&(T=v),J=m[T]|0):J=m[J]|0;q[E]=J;E+=1;P+=D;J=N[P&x];T=K[P&x];T===v||T===B?(J>=t&&(T=y),J=m[T]|0):T===
y||T===r?(J<t&&(T=v),J=m[T]|0):J=m[J]|0;q[E]=J;E+=1;P+=D;J=N[P&x];T=K[P&x];T===v||T===B?(J>=t&&(T=y),J=m[T]|0):T===y||T===r?(J<t&&(T=v),J=m[T]|0):J=m[J]|0;q[E]=J;E+=1;P+=D;J=N[P&x];T=K[P&x];T===v||T===B?(J>=t&&(T=y),J=m[T]|0):T===y||T===r?(J<t&&(T=v),J=m[T]|0):J=m[J]|0;q[E]=J;E+=1;P+=D}H=I+=G}f&&this.$d();(this.jc||this.ud)&&this.vh()&&this.Yd();A=c;for(a=1;a<b;a+=1)for(c=2<this.i?0===this.O?this.i/this.V*a|0:a<b/2?this.O/this.V*a*2|0:this.O+this.i/this.V*a|0:this.Qd?1:(this.df+1)/this.V*a|0,l+=e,
this.Kd(l),G/=this.s,D/=this.s,C*=this.s,u=d,.125>C?d=15:.25>C?d=7:.5>C?d=3:1>C?d=1:(A=this.ba,d=0),d!==u&&(A=this.ba),x=this.Fb&~d,z=this.Jb&~d,I=-(this.H/2*G)+this.re,F=-(this.J/2*D)+this.qe,E=0,H=I,u=0;u<this.H;u+=1){N=A[H&z];P=F;this.S&&(P+=.5*(H|0));for(H=0;H<n;H+=1)J=N[P&x]|0,J>=c&&(q[E]=m[J]),E+=1,P+=D,J=N[P&x]|0,J>=c&&(q[E]=m[J]),E+=1,P+=D,J=N[P&x]|0,J>=c&&(q[E]=m[J]),E+=1,P+=D,J=N[P&x]|0,J>=c&&(q[E]=m[J]),E+=1,P+=D,J=N[P&x]|0,J>=c&&(q[E]=m[J]),E+=1,P+=D,J=N[P&x]|0,J>=c&&(q[E]=m[J]),E+=1,
P+=D,J=N[P&x]|0,J>=c&&(q[E]=m[J]),E+=1,P+=D,J=N[P&x]|0,J>=c&&(q[E]=m[J]),E+=1,P+=D;H=I+=G}};p.prototype.$N=function(a,c,d,f){var n=this.J>>3,m=this.ze,q=this.ce,u,y=ViewConstants.Xa[3]+128,v=ViewConstants.Xa[4]+128,r=ViewConstants.Xa[5]+128,B=ViewConstants.Xa[6]+128,b=1,l=1,e=0,t=this.Hb,x=this.Fb&~d,z=this.Jb&~d,A=~d,C=~d,G=c,D=this.na;1<this.s&&(b=this.V);var I=1/this.na;this.R&&(I/=ViewConstants.he);var F=1/this.na;var E=-(this.H/2*I)+this.re;var H=-(this.J/2*F)+this.qe;1<this.V&&1<this.s&&(e=
.4/(this.V-1),l=.6);this.Kd(l);var N=this.width<this.ka?m[0]|0:this.Il|0;var K=0;var P=E;for(u=0;u<this.H;u+=1){if(0<=P&&(P&C)===(P&z)){var J=G[P&z];var T=a[P&z];var Y=H;this.S&&(Y+=.5*(P|0));for(P=0;P<n;P+=1){if(0<=Y&&(Y&A)===(Y&x)){var U=J[Y&x];var M=T[Y&x];M===v||M===B?(U>=t&&(M=y),U=m[M]|0):M===y||M===r?(U<t&&(M=v),U=m[M]|0):U=m[U]|0}else U=N;q[K]=U;K+=1;Y+=F;0<=Y&&(Y&A)===(Y&x)?(U=J[Y&x],M=T[Y&x],M===v||M===B?(U>=t&&(M=y),U=m[M]|0):M===y||M===r?(U<t&&(M=v),U=m[M]|0):U=m[U]|0):U=N;q[K]=U;K+=1;
Y+=F;0<=Y&&(Y&A)===(Y&x)?(U=J[Y&x],M=T[Y&x],M===v||M===B?(U>=t&&(M=y),U=m[M]|0):M===y||M===r?(U<t&&(M=v),U=m[M]|0):U=m[U]|0):U=N;q[K]=U;K+=1;Y+=F;0<=Y&&(Y&A)===(Y&x)?(U=J[Y&x],M=T[Y&x],M===v||M===B?(U>=t&&(M=y),U=m[M]|0):M===y||M===r?(U<t&&(M=v),U=m[M]|0):U=m[U]|0):U=N;q[K]=U;K+=1;Y+=F;0<=Y&&(Y&A)===(Y&x)?(U=J[Y&x],M=T[Y&x],M===v||M===B?(U>=t&&(M=y),U=m[M]|0):M===y||M===r?(U<t&&(M=v),U=m[M]|0):U=m[U]|0):U=N;q[K]=U;K+=1;Y+=F;0<=Y&&(Y&A)===(Y&x)?(U=J[Y&x],M=T[Y&x],M===v||M===B?(U>=t&&(M=y),U=m[M]|0):
M===y||M===r?(U<t&&(M=v),U=m[M]|0):U=m[U]|0):U=N;q[K]=U;K+=1;Y+=F;0<=Y&&(Y&A)===(Y&x)?(U=J[Y&x],M=T[Y&x],M===v||M===B?(U>=t&&(M=y),U=m[M]|0):M===y||M===r?(U<t&&(M=v),U=m[M]|0):U=m[U]|0):U=N;q[K]=U;K+=1;Y+=F;0<=Y&&(Y&A)===(Y&x)?(U=J[Y&x],M=T[Y&x],M===v||M===B?(U>=t&&(M=y),U=m[M]|0):M===y||M===r?(U<t&&(M=v),U=m[M]|0):U=m[U]|0):U=N;q[K]=U;K+=1;Y+=F}}else q.fill(N,K,K+this.J+1),K+=this.J;P=E+=I}f&&this.$d();(this.jc||this.ud)&&this.vh()&&this.Yd();G=c;for(a=1;a<b;a+=1)for(c=2<this.i?0===this.O?this.i/
this.V*a|0:a<b/2?this.O/this.V*a*2|0:this.O+this.i/this.V*a|0:this.Qd?1:(this.df+1)/this.V*a|0,l+=e,this.Kd(l),I/=this.s,F/=this.s,D*=this.s,u=d,.125>D?d=15:.25>D?d=7:.5>D?d=3:1>D?d=1:(G=this.ba,d=0),d!==u&&(G=this.ba),x=this.Fb&~d,z=this.Jb&~d,A=~d,C=~d,E=-(this.H/2*I)+this.re,H=-(this.J/2*F)+this.qe,K=0,P=E,u=0;u<this.H;u+=1){if(0<=P&&(P&C)===(P&z))for(J=G[P&z],Y=H,this.S&&(Y+=.5*(P|0)),P=0;P<n;P+=1)0<=Y&&(Y&A)===(Y&x)&&(U=J[Y&x]|0,U>=c&&(q[K]=m[U])),K+=1,Y+=F,0<=Y&&(Y&A)===(Y&x)&&(U=J[Y&x]|0,U>=
c&&(q[K]=m[U])),K+=1,Y+=F,0<=Y&&(Y&A)===(Y&x)&&(U=J[Y&x]|0,U>=c&&(q[K]=m[U])),K+=1,Y+=F,0<=Y&&(Y&A)===(Y&x)&&(U=J[Y&x]|0,U>=c&&(q[K]=m[U])),K+=1,Y+=F,0<=Y&&(Y&A)===(Y&x)&&(U=J[Y&x]|0,U>=c&&(q[K]=m[U])),K+=1,Y+=F,0<=Y&&(Y&A)===(Y&x)&&(U=J[Y&x]|0,U>=c&&(q[K]=m[U])),K+=1,Y+=F,0<=Y&&(Y&A)===(Y&x)&&(U=J[Y&x]|0,U>=c&&(q[K]=m[U])),K+=1,Y+=F,0<=Y&&(Y&A)===(Y&x)&&(U=J[Y&x]|0,U>=c&&(q[K]=m[U])),K+=1,Y+=F;else K+=n<<3;P=E+=I}};p.prototype.Pi=function(a,c,d,f,n){var m=Math.sin(this.qb/180*Math.PI)/this.na,q=
Math.cos(this.qb/180*Math.PI)/this.na,u=this.J,y=this.H,v=-(this.J/2*-m+this.H/2*q)+this.re,r=-(this.J/2*q+this.H/2*m)+this.qe,B=v+u*-m,b=r+u*q,l=v+y*q;y=r+y*m;m=l+u*-m;q=y+u*q;u=l;var e=y;q<e&&(e=q);r<e&&(e=r);b<e&&(e=r);q>y&&(y=q);r>y&&(y=r);b>y&&(y=b);m>u&&(u=m);v>u&&(u=v);B>u&&(u=B);m<l&&(l=m);v<l&&(l=v);B<l&&(l=B);0>(e|0)||(y|0)>=this.width||0>(l|0)||(u|0)>=this.height?0===this.qb?this.bh&&1<=this.na&&1===this.V&&(this.na|0)!==this.na?(this.Kd(1),this.width!==this.ka?this.Go(a,c,e,l,y,u,this.ze[0],
f,n):this.Go(a,c,e,l,y,u,this.Il,f,n)):this.$N(a,c,d,f):this.TN(a,c,d,f):0===this.qb?this.bh&&1<=this.na&&1===this.V&&(this.na|0)!==this.na?(this.Kd(1),this.Go(a,c,e,l,y,u,this.ze[0],f,n)):this.dO(a,c,d,f):this.bO(a,c,d,f)};p.prototype.Ju=function(){var a;if(this.Vj){if(!this.Xc.data.buffer){var c=this.Xc.data;var d=this.Ok;var f=d.length;for(a=0;a<f;)c[a]=d[a],a+=1,c[a]=d[a],a+=1,c[a]=d[a],a+=1,c[a]=d[a],a+=1}this.context.putImageData(this.Xc,0,0)}};p.prototype.py=function(a){this.ce.fill(a)};window.LifeConstants=
k;window.Life=p}(),function(){function w(g,h){var p=0,k=0,a=g.length,c=!1,d=!1,f=!1,n=0,m=new Uint32Array(a),q=new Uint16Array(a),u=new Uint32Array(a),y=0,v=0;-1!==g.indexOf("&")&&(g=g.replace(/&amp;/g,"&"),g=g.replace(/&lt;/g,"<"),g=g.replace(/&gt;/g,">"),a=g.length);for(;p<a;){var r=g.charCodeAt(p);switch(r){case 32:case 13:case 9:case 123:case 125:!d&&c&&(m[n]=k,q[n]=p-k,u[n]=(y<<1)+1&v,n+=1,c=!1);break;case 44:h?!d&&c&&(m[n]=k,q[n]=p-k,u[n]=(y<<1)+1&v,n+=1,c=!1):c||(c=!0,v=0,d=!1,k=p);break;case 10:c&&
(m[n]=k,q[n]=p-k,u[n]=(y<<1)+1&v,n+=1,c=!1);d=!1;h&&(0<n&&"\n"!==g[m[n-1]]&&(m[n]=p,q[n]=1,u[n]=0,n+=1),f=!1);break;case 58:case 61:h?d||(c&&(m[n]=k,q[n]=p-k,u[n]=(y<<1)+1&v,n+=1,c=!1),m[n]=p,q[n]=1,u[n]=0,n+=1):c||(c=!0,v=0,d=!1,k=p);break;case 34:h?d||(f=!f,c||(c=!0,k=p)):c||(c=!0,v=0,k=p);break;case 35:h?f||d||(c&&(m[n]=k,q[n]=p-k,u[n]=(y<<1)+1&v,n+=1,c=!1),d=!0):c||(c=!0,v=0,d=!1,k=p);break;default:d||(c?48<=r&&57>=r?y=10*y+r-48:v=0:(c=!0,k=p,48<=r&&57>=r?(v=-1,y=r-48):v=0))}p+=1}c&&(m[n]=k,q[n]=
p-k,u[n]=(y<<1)+1&v,n+=1);this.s=m.slice(0,n);this.G=q.slice(0,n);this.U=u.slice(0,n);this.current=0;this.source=g}w.prototype.VJ=function(g,h){return 0>g||g>=this.s.length||0>h||h>=this.s.length||g>h?"":this.source.substring(this.s[g],this.s[h]+this.G[h])};w.prototype.AG=function(){0<this.current&&--this.current};w.prototype.mq=function(){for(;this.current<this.s.length&&10!==this.source.charCodeAt(this.s[this.current]);)this.current+=1;this.current<this.s.length&&(this.current+=1)};w.prototype.ww=
function(){for(;this.current<this.s.length&&10===this.source.charCodeAt(this.s[this.current]);)this.current+=1};w.prototype.hL=function(){var g=!1;this.current<this.s.length&&10!==this.source.charCodeAt(this.s[this.current])&&(g=!0);return g};w.prototype.Wr=function(){var g=!1;this.current<this.s.length&&10===this.source.charCodeAt(this.s[this.current])&&(g=!0);return g};w.prototype.W=function(){var g="";this.current<this.s.length&&(g=this.source.substr(this.s[this.current],this.G[this.current]),
this.current+=1);return g};w.prototype.YD=function(){var g;for(g=this.W();"\n"===g;)g=this.W();return g};w.prototype.Ha=function(){var g="";this.current<this.s.length&&(g=this.source.substr(this.s[this.current],this.G[this.current]));return g};w.prototype.RD=function(){return this.ja(Keywords.yo,-1,!1)};w.prototype.ir=function(g,h){return this.ja(g,h,!0)};w.prototype.ja=function(g,h,p){var k=-1,a=this.current;for(-1!==h&&0<=h&&h<this.s.length&&(a=h);a<this.s.length&&-1===k;){if(g.length===this.G[a]){var c=
0;for(h=!0;h&&c<g.length;)g[c]!==this.source[this.s[a]+c]?h=!1:c+=1}else h=!1;h&&(p&&0!==a&&10!==this.source.charCodeAt(this.s[a-1])&&(h=!1),h&&(k=a));a+=1}-1!==k&&(this.current=a);return k};w.prototype.nm=function(g){return!isNaN(parseFloat(g))&&isFinite(Number(g))};w.prototype.$=function(g){var h=!1,p=g.indexOf("/");-1!==p&&(h=g.substr(0,p),g=g.substr(p+1),h=this.nm(h)&&this.nm(g));return h};w.prototype.Kx=function(g){var h=0;if(this.$(g)){var p=g.indexOf("/");var k=g.substr(0,p);g=g.substr(p+1);
0!==Number(g)&&(h=Number(k)/Number(g))}else this.nm(g)&&(h=parseFloat(g));return h};w.prototype.M=function(){var g=0;this.current<this.s.length&&(0!==this.U[this.current]?(g=this.U[this.current]>>1,this.current+=1):(g=this.W(),g=this.Kx(g)));return g};w.prototype.K=function(){var g=!1;if(this.current<this.s.length)if(this.U[this.current])g=!0;else{var h=this.source.substr(this.s[this.current],this.G[this.current]);this.$(h)?g=!0:g=this.nm(h)}return g};w.prototype.NJ=function(){var g=!1;var h=this.current+
1;h<this.s.length&&(this.U[h]?g=!0:(h=this.source.substr(this.s[h],this.G[h]),this.$(h)?g=!0:g=this.nm(h)));return g};w.prototype.zJ=function(){this.current=this.s.length};window.Script=w}(),function(){function w(c){this.D=c;this.uo=this.Fh=this.xp=!1;this.Yg=a.Zz;this.uk=a.Xp;this.gb=this.ac=-1;this.angle=this.y=this.x=0;this.depth=this.V=this.zoom=1;this.Fc=0;this.Cc=60;this.step=1;this.ed=this.fc=0;this.Rf="";this.ys=this.$k=this.Aw=this.mt=this.zl=this.yl=this.MB=this.DG=this.Ps=this.rm=this.$m=
this.Gi=this.oi=this.ng=this.ki=this.wi=this.Wd=this.th=this.xf=this.Sf=this.jd=this.Wm=this.$h=this.Yh=this.Vh=this.lf=!1}function g(c,d,f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C){this.coords=c;this.jz=d;this.zoom=f;this.za=n;this.Ya=m;this.Og=q;this.alpha=u;this.size=y;this.rc=v;this.lh=r;this.Dd=B;this.angle=b;this.El=l;this.Lm=e;this.hn=t;this.jn=x;this.Qf=z;this.Yl=A;this.Zl=C;-2E3===this.Ya&&-2E3===this.za?(this.za=this.zoom/4,this.Ya=4*this.zoom):-2E3===this.za&&(this.za=this.zoom)}function h(c,d,
f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C,G,D,I){this.QC=c;this.RC=d;this.oH=f;this.pH=n;this.zoom=m;this.za=q;this.Ya=u;this.Og=y;this.alpha=v;this.size=r;this.jE=B;this.rc=b;this.lh=l;this.Dd=e;this.angle=t;this.El=x;this.Lm=z;this.hn=A;this.jn=C;this.Qf=G;this.Yl=D;this.Zl=I;-2E3===this.Ya&&-2E3===this.za?(this.za=this.zoom/4,this.Ya=4*this.zoom):-2E3===this.za&&(this.za=this.zoom)}function p(c,d,f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C,G){this.message="";this.x=c;this.y=d;this.zoom=f;this.za=n;this.Ya=m;this.Og=
q;this.alpha=u;this.size=y;this.iN=v;this.rc=r;this.lh=B;this.Dd=b;this.angle=l;this.El=e;this.Lm=t;this.hn=x;this.jn=z;this.Qf=A;this.Yl=C;this.Zl=G;-2E3===this.Ya&&-2E3===this.za?(this.za=this.zoom/4,this.Ya=4*this.zoom):(-2E3===this.za&&(this.za=this.zoom),this.zoom=this.za*Math.pow(this.Ya/this.za,.5))}function k(){this.Ua=[];this.uc=[];this.Pe=[];this.zf=[];this.Mf=[];this.current=new w(this);this.Wa=new w(this);this.G=new w(this);this.U=!1;this.Hi=0;this.qr=this.$=!1}var a={Zz:0,play:1,stop:2,
Xp:12,MF:0,LF:200};w.prototype.set=function(c){this.xp=c.xp;this.Fh=c.Fh;this.uo=c.uo;this.Yg=c.Yg;this.uk=c.uk;this.ac=c.ac;this.gb=c.gb;this.x=c.x;this.y=c.y;this.Vh=c.Vh;this.Yh=c.Yh;this.$h=c.$h;this.lf=c.lf;this.angle=c.angle;this.zoom=c.zoom;this.V=c.V;this.depth=c.depth;this.Fc=c.Fc;this.Cc=c.Cc;this.step=c.step;this.fc=c.fc;this.ed=c.ed;this.Rf=c.Rf;this.Wm=c.Wm;this.jd=c.jd};w.prototype.s=function(){var c="";switch(this.Yg){case a.play:c=Keywords.Yp;break;case a.stop:c=Keywords.Zp}return c};
w.prototype.XM=function(c){this.Fh?(this.Yg!==a.Zz&&(c[c.length]=[Keywords.Yp,"overwrites "+this.s()]),this.Yg=a.play):c[c.length]=[Keywords.Yp,"only valid at POI"]};w.prototype.aN=function(c){this.Fh?(this.Yg!==a.Zz&&(c[c.length]=[Keywords.Zp,"overwrites "+this.s()]),this.Yg=a.stop):c[c.length]=[Keywords.Zp,"only valid at POI"]};w.prototype.YM=function(c){this.Fh?(this.uo&&(c[c.length]=[Keywords.ss,"already defined"]),this.uo=!0):c[c.length]=[Keywords.ss,"only valid at POI"]};w.prototype.cN=function(c,
d){this.Fh?(this.uk!==a.Xp&&(d[d.length]=[Keywords.ts+" "+c,"overwrites "+this.uk]),this.uk=c):d[d.length]=[Keywords.ts,"only valid at POI"]};w.prototype.G=function(c,d,f){var n=c.ed+0,m=d.ed+0,q=c.angle+0,u=d.angle+0,y=1,v=1,r=1,B=1,b=1;f>m&&(f=m);m-n===ViewConstants.hN&&(n=m);m!==n&&(y=Math.round((f-n)/(m-n)*1E6)/1E6,v=this.D.gD(y)+0);d.Vh||d.lf?r=y:r=v;d.Yh||d.lf?B=y:B=v;d.$h||d.lf?b=y:b=v;this.x=c.x+r*(d.x-c.x);this.y=c.y+B*(d.y-c.y);this.zoom=c.zoom*Math.pow(d.zoom/c.zoom,b);180<u-q?q+=360:-180>
u-q&&(u+=360);this.angle=(q+v*(u-q))%360;this.V=c.V+y*(d.V-c.V)|0;this.depth=c.depth+y*(d.depth-c.depth);this.Fc=d.Fc;this.Cc=d.Cc;this.step=d.step;this.fc=c.fc+y*(d.fc-c.fc)|0;this.ed=f;this.Rf=d.Rf;this.lf=d.lf;this.xp=d.xp};k.prototype.ZI=function(c,d,f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C){return new g(c,d,f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C)};k.prototype.Bb=function(){this.Mf=[]};k.prototype.WH=function(c){this.Mf[this.Mf.length]=c};k.prototype.UI=function(c,d,f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C,G,D,
I){return new h(c,d,f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C,G,D,I)};k.prototype.bb=function(){this.zf=[]};k.prototype.TH=function(c){this.zf[this.zf.length]=c};k.prototype.XI=function(c,d,f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C,G){return new p(c,d,f,n,m,q,u,y,v,r,B,b,l,e,t,x,z,A,C,G)};k.prototype.ob=function(){this.Pe=[]};k.prototype.VC=function(c){this.Pe[this.Pe.length]=c};k.prototype.Ip=function(){return this.Pe.length+this.zf.length+this.Mf.length};k.prototype.wI=function(){this.ob();this.bb();this.Bb()};
k.prototype.IL=function(c){var d="",f="";0<=c&&c<this.Mf.length&&(c=this.Mf[c],c.Lm&&(f="*"),d=c.jz?"FILL\t":"LINE\t",d+="X1"+f+" "+c.coords[0]+"\tY1"+f+" "+c.coords[1]);return d};k.prototype.JL=function(c){var d="",f="";0<=c&&c<this.Mf.length&&(d=this.Mf[c],c=d.zoom,0<=c&&1>c&&(c=-1/c),d.El&&(f="*"),d="Z "+c.toFixed(1)+"\tA"+f+" "+d.angle.toFixed(1));return d};k.prototype.KL=function(c){var d="";0<=c&&c<this.Mf.length&&(c=this.Mf[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.rc&&(d+="\tT1 "+c.rc+"\tT2 "+
c.lh,0<c.Dd&&(d+="\tFade "+c.Dd)));return d};k.prototype.LL=function(c){var d="";0<=c&&c<this.Mf.length&&(d=this.Mf[c].Og);return d};k.prototype.iI=function(c){var d="",f="";0<=c&&c<this.zf.length&&(c=this.zf[c],c.Lm&&(f="*"),d="X1"+f+" "+c.QC+"\tY1"+f+" "+c.RC,d+="\tX2"+f+" "+c.oH+"\tY2"+f+" "+c.pH);return d};k.prototype.jI=function(c){var d="",f="";0<=c&&c<this.zf.length&&(d=this.zf[c],c=d.zoom,0<=c&&1>c&&(c=-1/c),d.El&&(f="*"),d="Z "+c.toFixed(1)+"\tA"+f+" "+d.angle.toFixed(1));return d};k.prototype.kI=
function(c){var d="";0<=c&&c<this.zf.length&&(c=this.zf[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.rc&&(d+="\tT1 "+c.rc+"\tT2 "+c.lh,0<c.Dd&&(d+="\tFade "+c.Dd)));return d};k.prototype.Vt=function(c){var d="";0<=c&&c<this.zf.length&&(d=this.zf[c].Og);return d};k.prototype.LK=function(c){var d="",f="",n="";if(0<=c&&c<this.Pe.length){var m=this.Pe[c];c=m.zoom;0<=c&&1>c&&(c=-1/c);m.Lm&&(f="*");m.El&&(n="*");d="X"+f+" "+m.x+"\tY"+f+" "+m.y;d+="\tZ "+c.toFixed(1)+"\tA"+n+" "+m.angle.toFixed(1)}return d};
k.prototype.MK=function(c){var d="";0<=c&&c<this.Pe.length&&(c=this.Pe[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.rc&&(d+="\tT1 "+c.rc+"\tT2 "+c.lh,0<c.Dd&&(d+="\tFade "+c.Dd)));return d};k.prototype.NK=function(c){var d="";0<=c&&c<this.Pe.length&&(c=this.Pe[c],d="Size "+c.size+'\t"'+c.message+'"');return d};k.prototype.OK=function(c){var d="";0<=c&&c<this.Pe.length&&(d=this.Pe[c].Og);return d};k.prototype.Wc=function(){this.Pe.sort(function(c,d){return c.zoom-d.zoom})};k.prototype.pc=function(){this.zf.sort(function(c,
d){return c.zoom-d.zoom})};k.prototype.Xc=function(){this.Mf.sort(function(c,d){return c.zoom-d.zoom})};k.prototype.kN=function(){this.Wc();this.pc();this.Xc()};k.prototype.ja=function(c,d){var f,n=c.g,m=n.context,q=n.width/2-n.Da-n.$b,u=n.height/2-n.wa-n.Xb,y=n.zoom*n.xc,v=n.zoom*n.xc*(n.R?ViewConstants.he:1),r=n.J/2,B=n.H/2,b=c.g.counter,l=n.S?-(n.height>>2):0,e=0,t=0,x=0,z=0,A=0;n.S&&(q+=u/2);d&&(m.strokeStyle=ViewConstants.mI);for(f=0;f<this.zf.length;f+=1){var C=this.zf[f];var G=!0;-1!==C.rc&&
(b<C.rc||b>C.lh)&&(G=!1);if(G){var D=C.size*y/C.zoom;d&&(e=1,24<=D&&(e=2,48<=D&&(e=3)));if(y>=C.za&&y<=C.Ya){var I=Math.log(y/C.za)/Math.log(C.Ya/C.za);I=.25>=I?4*I:.75<=I?4*(1-I):1;var F=1;-1!==C.rc&&0<C.Dd&&(b-C.rc<C.Dd?F=(b-C.rc+1)/C.Dd:C.lh-b<C.Dd&&(F=(C.lh-b+1)/C.Dd));G=!0;var E=1;if(-1!==C.Qf){var H=Math.sqrt((-(q+l)-C.hn)*(-(q+l)-C.hn)+(-u-C.jn)*(-u-C.jn));H>C.Qf?G=!1:0<C.Qf&&.75<H/C.Qf&&(E=4*(1-H/C.Qf))}G&&(m.globalAlpha=I*C.alpha*F*E,E=C.RC+u-(c.lb>>1)+.5,I=C.QC+q+l-(c.hb>>1)+.5,C.Lm||(I+=
n.$b,E+=n.Xb),-1!==C.rc?(I+=C.Yl*(c.wb-C.rc),E+=C.Zl*(c.wb-C.rc)):(I+=C.Yl*c.wb,E+=C.Zl*c.wb),0!==n.qb&&(F=Math.sqrt(I*I+E*E),G=180/Math.PI*Math.atan2(E,I),G+=n.qb,I=F*Math.cos(Math.PI/180*G),E=F*Math.sin(Math.PI/180*G)),n.S&&(I-=E/2),G=E*v+B,H=I*y+r,I=(C.oH-C.QC)*y,F=(C.pH-C.RC)*v,n.S&&(I-=F/2),E=0===C.jE?0:Math.sqrt(I*I+F*F)*C.jE,m.save(),m.translate(H,G),G=C.angle,C.El||(G+=n.qb),m.rotate(G/180*Math.PI),m.lineWidth=D,d||(m.strokeStyle=C.Og),m.lineCap="round",m.lineJoin="round",0<E&&(C=Math.atan2(F,
I),t=Math.cos(.85*Math.PI+C),x=Math.sin(.85*Math.PI+C),z=Math.cos(.85*-Math.PI+C),A=Math.sin(.85*-Math.PI+C)),0<e&&m.translate(e,e),m.beginPath(),m.moveTo(0,0),m.lineTo(I,F),0<E&&(m.moveTo(I,F),m.lineTo(I+E*t,F+E*x),m.moveTo(I,F),m.lineTo(I+E*z,F+E*A)),m.stroke(),m.restore())}}}m.globalAlpha=1};k.prototype.Gb=function(c){this.ja(c,!0);this.ja(c,!1)};k.prototype.ua=function(c,d){var f,n=c.g,m=n.context,q=n.width/2-n.Da-n.$b,u=n.height/2-n.wa-n.Xb,y=n.zoom*n.xc,v=n.zoom*n.xc*(n.R?ViewConstants.he:1),
r=n.J/2,B=n.H/2,b=c.g.counter,l=n.S?-(n.height>>2):0,e=0;d&&(m.strokeStyle=ViewConstants.OF,m.fillStyle=ViewConstants.OF);n.S&&(q+=u/2);for(f=0;f<this.Mf.length;f+=1){var t=this.Mf[f];var x=t.coords;var z=x.length;var A=!0;-1!==t.rc&&(b<t.rc||b>t.lh)&&(A=!1);if(A){var C=t.size*y/t.zoom;d&&(e=1,24<=C&&(e=2,48<=C&&(e=3)));if(y>=t.za&&y<=t.Ya){var G=Math.log(y/t.za)/Math.log(t.Ya/t.za);G=.25>=G?4*G:.75<=G?4*(1-G):1;var D=1;-1!==t.rc&&0<t.Dd&&(b-t.rc<t.Dd?D=(b-t.rc+1)/t.Dd:t.lh-b<t.Dd&&(D=(t.lh-b+1)/
t.Dd));A=!0;var I=1;if(-1!==t.Qf){var F=Math.sqrt((-(q+l)-t.hn)*(-(q+l)-t.hn)+(-u-t.jn)*(-u-t.jn));F>t.Qf?A=!1:0<t.Qf&&.75<F/t.Qf&&(I=4*(1-F/t.Qf))}if(A){m.globalAlpha=G*t.alpha*D*I;G=0;I=x[G]+q+l-(c.hb>>1)+.5;D=x[G+1]+u-(c.lb>>1)+.5;G+=2;t.Lm||(I+=n.$b,D+=n.Xb);-1!==t.rc?(I+=t.Yl*(c.wb-t.rc),D+=t.Zl*(c.wb-t.rc)):(I+=t.Yl*c.wb,D+=t.Zl*c.wb);0!==n.qb&&(A=Math.sqrt(I*I+D*D),D=180/Math.PI*Math.atan2(D,I),D+=n.qb,I=A*Math.cos(Math.PI/180*D),D=A*Math.sin(Math.PI/180*D));n.S&&(I-=D/2);D=D*v+B;F=I*y+r;I=
(x[G]-x[0])*y;A=(x[G+1]-x[1])*v;n.S&&(I-=A/2);G+=2;m.save();m.translate(F,D);D=t.angle;t.El||(D+=n.qb);m.rotate(D/180*Math.PI);m.lineWidth=C;d||(t.jz?m.fillStyle=t.Og:m.strokeStyle=t.Og);m.lineCap="round";m.lineJoin="round";0<e&&m.translate(e,e);m.beginPath();m.moveTo(0,0);for(m.lineTo(I,A);G<z;)I=(x[G]-x[0])*y,A=(x[G+1]-x[1])*v,n.S&&(I-=A/2),G+=2,m.lineTo(I,A);t.jz?m.fill():m.stroke();m.restore()}}}}m.globalAlpha=1};k.prototype.Yb=function(c){this.ua(c,!0);this.ua(c,!1)};k.prototype.Vb=function(c){var d,
f=c.g,n=f.context,m=f.width/2-f.Da-f.$b,q=f.height/2-f.wa-f.Xb,u=f.zoom*f.xc,y=f.zoom*f.xc*(f.R?ViewConstants.he:1),v=f.J/2,r=f.H/2,B=0,b=ViewConstants.RK,l="px "+ViewConstants.PK,e=c.g.counter,t=f.S?-(f.height>>2):0;f.S&&(m+=q/2);for(d=0;d<this.Pe.length;d+=1){var x=this.Pe[d];var z=!0;-1!==x.rc&&(e<x.rc||e>x.lh)&&(z=!1);if(z){x.iN?B=x.size:B=x.size*u/x.zoom;var A=1;24<=B&&(A=2,48<=B&&(A=3));if(u>=x.za&&u<=x.Ya){var C=Math.log(u/x.za)/Math.log(x.Ya/x.za);n.font=B+l;C=.25>=C?4*C:.75<=C?4*(1-C):1;
var G=1;-1!==x.rc&&0<x.Dd&&(e-x.rc<x.Dd?G=(e-x.rc+1)/x.Dd:x.lh-e<x.Dd&&(G=(x.lh-e+1)/x.Dd));z=!0;var D=1;if(-1!==x.Qf){var I=Math.sqrt((-(m+t)-x.hn)*(-(m+t)-x.hn)+(-q-x.jn)*(-q-x.jn));I>x.Qf?z=!1:0<x.Qf&&.75<I/x.Qf&&(D=4*(1-I/x.Qf))}if(z){n.globalAlpha=C*x.alpha*G*D;z=x.x+m+t-(c.hb>>1)+.5;D=x.y+q-(c.lb>>1)+.5;x.Lm||(z+=f.$b,D+=f.Xb);-1!==x.rc?(z+=x.Yl*(c.wb-x.rc),D+=x.Zl*(c.wb-x.rc)):(z+=x.Yl*c.wb,D+=x.Zl*c.wb);0!==f.qb&&(C=Math.sqrt(z*z+D*D),D=180/Math.PI*Math.atan2(D,z),D+=f.qb,z=C*Math.cos(Math.PI/
180*D),D=C*Math.sin(Math.PI/180*D));f.S&&(z-=D/2);C=x.message;G=C.indexOf("\\n");D=D*y+r;z=z*u+v;n.save();n.translate(z,D);D=x.angle;x.El||(D+=f.qb);n.rotate(D/180*Math.PI);for(D=0;-1!==G;)z=C.substr(0,G),C=C.substr(G+2),G=n.measureText(z).width>>1,n.fillStyle=b,n.fillText(z,-G+A,D+A),n.fillStyle=x.Og,n.fillText(z,-G,D),D+=B,G=C.indexOf("\\n");G=n.measureText(C).width>>1;n.fillStyle=b;n.fillText(C,-G+A,D+A);n.fillStyle=x.Og;n.fillText(C,-G,D);n.restore()}}}}n.globalAlpha=1};k.prototype.zy=function(c){this.Yb(c);
this.Gb(c);this.Vb(c)};k.prototype.oN=function(c){var d;for(d=this.Ua.length-1;0<=d;--d){var f=this.Ua[d];f.ed>c&&f.ys&&(this.Hi=d,f.ys=!1)}};k.prototype.tM=function(){var c;for(c=0;c<this.Ua.length;c+=1)this.Ua[c].ys=!1;this.Hi=0;this.$=!1};k.prototype.gp=function(){return new w(this)};k.prototype.gD=function(c){return-2*Math.pow(c,3)+3*Math.pow(c,2)+0*c};k.prototype.reset=function(){this.Ua=[];this.uc=[];this.U=!1;this.Hi=0};k.prototype.SK=function(){return this.Ua[this.Ua.length-1]};k.prototype.BJ=
function(c){var d=this.Ja(c),f=this.Ua[d];c>f.fc?c=f.ed+1E3*(c-f.fc)/(f.Cc*f.step):0<d?(d=this.Ua[d-1],c=d.ed+1E3*(c-d.fc)/(f.Cc*f.step)):c=1E3*c/(f.Cc*f.step);return c};k.prototype.$I=function(c,d,f,n,m,q,u,y,v,r,B){var b=this.Wa;b.x=c;b.y=d;b.zoom=f;b.angle=n;b.Cc=y;b.step=v;b.V=m;b.depth=q;b.Fc=u;b.fc=r;this.U&&(B=this.G.ed);b.ed=B-1E3;this.update(null,B,r);this.G.set(this.current);this.G.lf=!1;this.G.ed=B;this.U=!0;return b.ed};k.prototype.jr=function(){return this.Ua[0]};k.prototype.qL=function(){return this.Ua.length};
k.prototype.add=function(c){if(c.Fh)this.uc[this.uc.length]=c;else if(this.Ua[this.Ua.length]=c,c.Sf||c.xf||c.Wd||c.th||c.lf)this.qr=!0};k.prototype.fD=function(c){var d=!1;this.Hi>=this.Ua.length-1&&c>=this.Ua[this.Hi].ed&&(d=!0);return d};k.prototype.s=function(c){return c===(c|0)?String(c|0):String(c.toFixed(1))};k.prototype.DL=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.Sf&&(d+=" X "+-c.x),c.xf&&(d+=" Y "+-c.y),c.Wd&&(d+=" ZOOM "+this.s(c.zoom)),c.th&&(d+=" ANGLE "+c.angle));
return d.substr(1)};k.prototype.KF=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.uo&&(d+=" POIRESET"),c.Yg===a.play?d+=" POIPLAY":c.Yg===a.stop&&(d+=" POISTOP"),c.uk!==a.Xp&&(d+=" POITRANS "+c.uk));return d.substr(1)};k.prototype.EL=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.rm&&(d+=" LOOP "+(-1===c.gb?"OFF":c.gb)),c.$m&&(d+=" STOP "+(-1===c.ac?"OFF":c.ac)),c.oi&&(d+=" GPS "+c.Cc),c.Gi&&(d+=" STEP "+c.step));return d.substr(1)};k.prototype.KF=function(c){var d="";
0<=c&&c<this.uc.length&&(c=this.uc[c],c.uo&&(d+=" POIRESET"),c.Yg===a.play?d+=" POIPLAY":c.Yg===a.stop&&(d+=" POISTOP"),c.uk!==a.Xp&&(d+=" POITRANS "+c.uk));return d.substr(1)};k.prototype.HL=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.ng&&(d+=" THEME "+c.Fc),c.ki&&(d+=" DEPTH "+this.s(c.depth)),c.wi&&(d+=" LAYERS "+c.V));return d.substr(1)};k.prototype.GL=function(c){var d="";0<=c&&c<this.uc.length&&(c=this.uc[c],c.Ps&&(d+=" POIT "+c.fc));return d.substr(1)};k.prototype.FL=function(c){var d=
Keywords.wd,f="";0<=c&&c<this.uc.length&&(c=this.uc[c],""!==c.Rf&&(f+=" "+d+c.Rf+d));return f.substr(1)};k.prototype.ZN=function(c){var d=Keywords.wd,f="";if(0<=c&&c<this.Ua.length){var n=this.Ua[c];0<c?(c=this.Ua[c-1],f=n.fc===c.fc?"P "+this.s((n.ed-c.ed|0)/1E3):"T "+n.fc,n.lf?f+=" F":(n.x!==c.x&&(f+=" X "+-n.x),n.y!==c.y&&(f+=" Y "+-n.y),n.zoom!==c.zoom&&(f+=" Z "+this.s(n.zoom))),n.angle!==c.angle&&(f+=" A "+n.angle),n.V!==c.V&&(f+=" L "+n.V),n.depth!==c.depth&&(f+=" D "+this.s(n.depth)),n.Fc!==
c.Fc&&(f+=" C "+n.Fc),n.Cc!==c.Cc&&(f+=" G "+n.Cc),n.step!==c.step&&(f+=" S "+n.step),""!==n.Rf&&(f+=" "+d+n.Rf+d)):f="T "+n.fc+" X "+-n.x+" Y "+-n.y+" Z "+this.s(n.zoom)+" A "+n.angle+" L "+n.V+" D "+this.s(n.depth)+" C "+n.Fc+" G "+n.Cc+" S "+n.step}return f};k.prototype.update=function(c,d,f){var n=this.Ua.length,m=!1,q=this.Hi,u=q,y=!1;if(this.U)this.current.G(this.Wa,this.G,d),d>=this.G.ed&&(this.U=!1);else{for(;q<n&&!m;){var v=this.Ua[q];v.ed>=d||!v.ys?m=!0:q+=1}m?(this.Ua[q].ys=!0,0<q?(this.Ua[q].lf&&
(this.Ua[q].x=this.current.x,this.Ua[q].y=this.current.y,this.Ua[q].zoom=this.current.zoom),this.current.G(this.Ua[q-1],this.Ua[q],d)):(q=0,this.current.set(this.Ua[q]))):(q=n-1,this.current.set(this.Ua[q]),f>=this.current.fc&&this.$&&(y=!0),this.$=!0);this.Hi=q}this.Hi!==u&&this.current.xp&&c&&c.o.aI();return y};k.prototype.Ja=function(c){for(var d=0,f=!1,n=this.Ua,m=this.Ua.length;d<m&&!f;)n[d].fc>=c?f=!0:d+=1;f||(d=m-1);return d};k.prototype.HJ=function(c){this.Hi=this.Ja(c);var d=this.Ua[this.Hi];
var f=this.Ua[this.Hi-1];return(d.ed-f.ed)*(c-f.fc)/(d.fc-f.fc)+f.ed};k.prototype.Jd=function(c,d,f,n){if(0===this.Ua.length)f[f.length]=[c+" "+Keywords.nc,"no initial waypoint defined"];else switch(c){case Keywords.wf:d.Sf&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+-d.x]);d.x=this.Ua[0].x;d.Sf=!0;break;case Keywords.yf:d.xf&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+-d.y]);d.y=this.Ua[0].y;d.xf=!0;break;case Keywords.Xd:d.Wd&&(f[f.length]=[c+" "+Keywords.nc,
n?"already defined":"overwrites "+this.s(1>d.zoom?-(1/d.zoom):d.zoom)]);d.zoom=this.Ua[0].zoom;d.Wd=!0;break;case Keywords.Fl:d.th&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+d.angle]);d.angle=this.Ua[0].angle;d.th=!0;break;case Keywords.Cn:d.ki&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+this.s(d.depth)]);d.depth=this.Ua[0].depth;d.ki=!0;break;case Keywords.Vn:d.wi&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+d.V]);d.V=this.Ua[0].V;
d.wi=!0;break;case Keywords.ul:d.ng&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+d.Fc]);d.Fc=this.Ua[0].Fc;d.ng=!0;break;case Keywords.Ln:d.oi&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+d.Cc]);d.Cc=this.Ua[0].Cc;d.oi=!0;break;case Keywords.Fo:d.Gi&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+d.step]);d.step=this.Ua[0].step;d.Gi=!0;break;case Keywords.Kj:d.$m&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+(-1===
d.ac?"OFF":d.ac)]);d.ac=this.Ua[0].ac;d.$m=!0;break;case Keywords.lj:d.rm&&(f[f.length]=[c+" "+Keywords.nc,n?"already defined":"overwrites "+(-1===d.gb?"OFF":d.gb)]);d.gb=this.Ua[0].gb;d.rm=!0;break;default:f[f.length]=[c+" "+Keywords.nc,"illegal command before "+Keywords.nc]}};k.prototype.JI=function(c,d){this.Jd(Keywords.wf,c,d,!1);this.Jd(Keywords.yf,c,d,!1);this.Jd(Keywords.Xd,c,d,!1);this.Jd(Keywords.Fl,c,d,!1);this.Jd(Keywords.Vn,c,d,!1);this.Jd(Keywords.Cn,c,d,!1);this.Jd(Keywords.ul,c,d,!1);
this.Jd(Keywords.Ln,c,d,!1);this.Jd(Keywords.Fo,c,d,!1);this.Jd(Keywords.lj,c,d,!1);this.Jd(Keywords.Kj,c,d,!1)};k.prototype.NL=function(c){var d,f=this.Ua,n=this.Ua.length;for(d=1;d<n;d+=1){var m=f[d-1];var q=f[d];q.Sf||(q.x=m.x);q.xf||(q.y=m.y);q.yl||(q.Vh=m.Vh);q.zl||(q.Yh=m.Yh);q.mt||(q.$h=m.$h);q.th||(q.angle=m.angle);q.Wd||(q.zoom=m.zoom);q.wi||(q.V=m.V);q.ki||(q.depth=m.depth);q.ng||(q.Fc=m.Fc);q.oi||(q.Cc=m.Cc);q.Gi||(q.step=m.step);q.Ps?q.fc<=m.fc&&(c[c.length]=[Keywords.Os+" "+q.fc,"target generation must be later than previous ("+
m.fc+")"]):q.fc=m.fc;q.ed=q.DG?1E3*q.ed+m.ed:m.ed+1E3*(q.fc-m.fc)/(q.Cc*q.step);q.Aw||(q.Wm=m.Wm);q.$k||(q.jd=m.jd)}};window.Waypoint=w;window.WaypointManager=k;window.WaypointConstants=a}(),function(){function w(g,h){var p=this,k=g.getElementsByTagName("div")[0];this.Nw=!1;this.xh=-1;this.vf=1;this.nH=g;this.view=h;this.o=h.o;this.top=this.left=0;""!==g.style.left&&(this.left=parseInt(g.style.left,10));""!==g.style.top&&(this.top=parseInt(g.style.top,10));this.Mc=this.Dn=!1;this.hl=this.gl=-1;this.dB=
0;registerEvent(k,"mousedown",function(a){p.G(p,a)},!1);registerEvent(document,"mousemove",function(a){p.U(p,a)},!1);registerEvent(document,"mouseup",function(a){p.$(p,a)},!1);registerEvent(k,"touchstart",function(a){p.s(p,a)},!1);registerEvent(k,"touchmove",function(a){p.s(p,a)},!1);registerEvent(k,"touchend",function(a){p.s(p,a)},!1);registerEvent(window,"resize",function(){p.gG(p)},!1)}w.prototype.mp=function(g,h){for(var p=null,k=0;null===p&&k<g.length;)g[k].identifier===h?p=g[k]:k+=1;return p};
w.prototype.reset=function(){this.Mc=!1;this.xh=-1};w.prototype.s=function(g,h){var p=h.changedTouches;this.Nw=!0;switch(h.type){case "touchstart":-1===g.xh&&(p=p[0],g.xh=p.identifier,g.os(g,p.pageX,p.pageY));break;case "touchend":p=g.mp(p,g.xh);null!==p&&(g.qs(g,p.pageX,p.pageY),g.xh=-1);break;case "touchmove":p=g.mp(p,g.xh),null!==p&&g.ps(g,p.pageX,p.pageY)}h.stopPropagation&&h.stopPropagation();h.cancelable&&h.preventDefault()};w.prototype.gG=function(g){var h=this.view;h.J=h.Np;h.H=h.Mp;h.oG();
h.dr.style.transform="scale("+h.vf+","+h.vf+")";h.dr.style.transformOrigin="top left";h.Pv&&(this.o.Jg(!0),h.resize());g.tG(g.left+g.dB,g.top,g.nH);g.dB=0};w.prototype.HN=function(g,h){this.tG(this.left+g,this.top+h,this.nH)};w.prototype.tG=function(g,h,p){var k=window.innerWidth-p.clientWidth*this.vf,a=window.innerHeight-p.clientHeight*this.vf;k-=(window.innerWidth-document.body.clientWidth)*this.vf;g>k&&(g=k);h>a&&(h=a);0>g&&(g=0);0>h&&(h=0);p.style.left=g+"px";p.style.top=h+"px";p.style.position=
"fixed";this.left=g;this.top=h};w.prototype.os=function(g,h,p){g.Aq(g,h,p);g.Mc=!0;g.o.ko=!0};w.prototype.qs=function(g,h,p){g.Aq(g,h,p);g.Mc=!1;g.o.ko=!1};w.prototype.ps=function(g,h,p){g.Mc&&g.HN(h-g.gl,p-g.hl);g.gl=h;g.hl=p};w.prototype.G=function(g,h){if(!g.Nw){if(h.pageX||h.pageY){var p=h.pageX;var k=h.pageY}else p=h.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=h.clientY+document.body.scrollTop+document.documentElement.scrollTop;g.os(g,p,k)}h.stopPropagation&&h.stopPropagation();
h.preventDefault()};w.prototype.$=function(g,h){if(!g.Nw&&g.Dn&&g.Mc){if(h.pageX||h.pageY){var p=h.pageX;var k=h.pageY}else p=h.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=h.clientY+document.body.scrollTop+document.documentElement.scrollTop;g.qs(g,p,k)}h.stopPropagation&&h.stopPropagation();h.preventDefault()};w.prototype.U=function(g,h){if(!g.Nw&&g.Dn&&g.Mc){if(h.pageX||h.pageY){var p=h.pageX;h=h.pageY}else p=h.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
h=h.clientY+document.body.scrollTop+document.documentElement.scrollTop;g.ps(g,p,h)}};w.prototype.Aq=function(g,h,p){g.gl=h|0;g.hl=p|0};window.PopupWindow=w}(),function(){function w(){this.key=new Uint8Array(256);this.G=this.s=0}w.prototype.nf=function(g){var h,p,k=this.key;for(h=0;256>h;h+=1)k[h]=h;for(h=p=0;256>h;h+=1){p=p+k[h]+g.charCodeAt(h%g.length)&255;var a=k[h];k[h]=k[p];k[p]=a}this.G=this.s=0};w.prototype.random=function(){var g,h=0,p=1,k=this.key,a=this.s,c=this.G;for(g=0;8>g;g+=1){a=a+1&
255;c=c+k[a]&255;var d=k[a];k[a]=k[c];k[c]=d;h+=k[k[a]+k[c]&255]*p;p*=256}this.s=a;this.G=c;return h/1.8446744073709552E19};window.Random=w}(),function(){function w(g,h){this.Gv=g;this.x=h.P(Float32,0,"Stars.x");this.y=h.P(Float32,0,"Stars.y");this.z=h.P(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.Tb=new Random;this.Tb.nf(Date.now().toString());this.sin=h.P(Float32,0,"Stars.sin");this.cos=h.P(Float32,0,"Stars.cos");this.s=Math.PI/180;this.U=180/Math.PI;this.v=h;this.G=!1}w.prototype.nf=
function(g,h,p){var k,a=this.Gv,c=g*g+h*h;this.x=this.v.P(Float32,a,"Stars.x");this.y=this.v.P(Float32,a,"Stars.y");this.z=this.v.P(Float32,a,"Stars.z");for(k=0;k<a;k+=1){var d=k/a*(k/a)*(k/a)*(k/a)*p+1;do{var f=3*(this.Tb.random()*g-g/2);var n=3*(this.Tb.random()*h-h/2)}while(f*f+n*n>c);this.x[k]=f;this.y[k]=n;this.z[k]=d}this.sin=this.v.P(Float32,2880,"Stars.sin");this.cos=this.v.P(Float32,2880,"Stars.cos");for(k=0;2880>k;)this.sin[k]=Math.sin(k/8*this.s),this.cos[k]=Math.cos(k/8*this.s),k+=1};
w.prototype.IK=function(g,h,p,k,a,c,d,f){var n;this.G||(this.nf(8192,8192,1024),this.G=!0);if(littleEndian){var m=f>>16&255;var q=f>>8&255;var u=f&255}else u=f>>24&255,q=f>>16&255,m=f>>8&255;for(n=0;n<this.Gv;n+=1){var y=this.x[n]+g;var v=this.y[n]+h;if(0!==k){var r=Math.sqrt(y*y+v*v);v=Math.atan2(v,y)*this.U;v+=k;0>v?v+=360:360<=v&&(v-=360);v*=8;v|=0;y=r*this.cos[v];v=r*this.sin[v]}r=this.z[n]/p*2;y=a/2+y/r|0;v=c/2+v/r|0;if(0<y&&y<a-1&&0<v&&v<c-1){y+=v*a;r=1536/r|0;255<r&&(r=255);r/=255;if(d[y]===
f){v=u+(this.red-u)*r;var B=q+(this.green-q)*r;var b=m+(this.blue-m)*r;v=littleEndian?-16777216|b<<16|B<<8|v:v<<24|b<<16|B<<8|255;d[y]=v}r/=2;v=u+(this.red-u)*r;B=q+(this.green-q)*r;b=m+(this.blue-m)*r;v=littleEndian?-16777216|b<<16|B<<8|v:v<<24|b<<16|B<<8|255;--y;d[y]===f&&(d[y]=v);y+=2;d[y]===f&&(d[y]=v);--y;y-=a;d[y]===f&&(d[y]=v);y+=a+a;d[y]===f&&(d[y]=v)}}};window.Stars=w}(),function(){window.ScriptParser={UC:"",$w:0,Sn:function(w){switch(w){case Keywords.Iy:case Keywords.gz:case Keywords.Yz:case Keywords.eB:case Keywords.LB:case Keywords.Hy:case Keywords.wB:case Keywords.yB:case Keywords.Jy:case Keywords.xB:case Keywords.Xz:case Keywords.Gh:case Keywords.Wi:case Keywords.uO:case Keywords.Vy:case Keywords.yw:case Keywords.Nx:case Keywords.YA:case Keywords.VA:case Keywords.XA:case Keywords.SA:case Keywords.RA:case Keywords.TA:case Keywords.WA:case Keywords.Vv:case Keywords.Uv:case Keywords.bw:case Keywords.wy:case Keywords.Nv:case Keywords.vq:case Keywords.JA:case Keywords.Ov:case Keywords.HA:case Keywords.KA:case Keywords.LA:case Keywords.IA:case Keywords.MA:case Keywords.PF:case Keywords.Gq:case Keywords.Dx:case Keywords.Fx:case Keywords.Gx:case Keywords.Ex:case Keywords.Hx:case Keywords.Ix:case Keywords.Mr:case Keywords.pz:case Keywords.rz:case Keywords.sz:case Keywords.qz:case Keywords.uz:case Keywords.vz:case Keywords.Tz:case Keywords.Vz:case Keywords.Uz:case Keywords.$y:case Keywords.at:case Keywords.Ty:case Keywords.ss:case Keywords.Zp:case Keywords.Yp:case Keywords.Mv:case Keywords.ts:case Keywords.GA:case Keywords.nc:case Keywords.rg:case Keywords.Wb:case Keywords.DB:case Keywords.Qo:case Keywords.$s:case Keywords.Ru:case Keywords.Fv:case Keywords.Qy:case Keywords.Ry:case Keywords.Ms:case Keywords.Gz:case Keywords.Yt:case Keywords.az:case Keywords.dv:case Keywords.Qt:case Keywords.Os:case Keywords.Fo:case Keywords.BA:case Keywords.nr:case Keywords.mr:case Keywords.WF:case Keywords.HB:case Keywords.Na:case Keywords.Yx:case Keywords.wf:case Keywords.yf:case Keywords.Sw:case Keywords.Tw:case Keywords.Xd:case Keywords.Bx:case Keywords.pE:case Keywords.lj:case Keywords.jt:case Keywords.Sz:case Keywords.Rz:case Keywords.YB:case Keywords.TB:case Keywords.RB:case Keywords.VB:case Keywords.XB:case Keywords.$t:case Keywords.yo:case Keywords.kq:case Keywords.Fl:case Keywords.ul:case Keywords.Ln:case Keywords.Kj:case Keywords.Vn:case Keywords.Cn:case Keywords.Bq:case Keywords.qp:case Keywords.vs:case Keywords.us:case Keywords.oz:case Keywords.eq:case Keywords.vo:case Keywords.Sp:case Keywords.gr:case Keywords.hs:case Keywords.cA:case Keywords.sA:case Keywords.yA:case Keywords.kA:case Keywords.fA:case Keywords.uA:case Keywords.gA:case Keywords.xA:case Keywords.wA:case Keywords.rA:case Keywords.nA:case Keywords.tA:case Keywords.pA:case Keywords.hA:case Keywords.oA:case Keywords.iA:case Keywords.mA:case Keywords.qA:case Keywords.lA:w=
!0;break;default:w=!1}return w},co:function(w,g,h,p,k){var a=w.Ha();""===a||this.Sn(a)?g[g.length]=[h,p+" missing"]:(g[g.length]=[h+" "+a,p+" must be "+k],w.W())},kc:function(w,g,h,p,k){var a=!0,c=0,d=0,f=0,n=g.W();if(g.K()){c=g.M()|0;if(0>c||255<c)h[h.length]=[k+" "+n+" "+c,"RED out of range"];if(g.K()){d=g.M();if(0>d||255<d)h[h.length]=[k+" "+n+" "+c+" "+d,"GREEN out of range"];g.K()?(f=g.M(),0>f||255<f?h[h.length]=[k+" "+n+" "+c+" "+d+" "+f,"BLUE out of range"]:a=!1):this.co(g,h,k+" "+n+" "+c+
" "+d,"BLUE","numeric")}else this.co(g,h,k+" "+n+" "+c,"GREEN","numeric")}else{var m=g.Ha();var q=ColourManager.Je[m.toLowerCase()];void 0!==q?(g.W(),c=q[1],d=q[2],f=q[3],a=!1):""===m||this.Sn(m)?h[h.length]=[k+" "+n,"name missing"]:(h[h.length]=[k+" "+n+" "+m,"name not known"],g.W())}if(!a)switch(-1!==w.ra[p]&&p!==ViewConstants.Uq&&p!==ViewConstants.Qq&&p!==ViewConstants.Vq&&(h[h.length]=[k+" "+n+" "+c+" "+d+" "+f,"overwrites "+(w.ra[p]>>16)+" "+(w.ra[p]>>8&255)+" "+(w.ra[p]&255)]),w.ra[p]=c<<16|
d<<8|f,p){case ViewConstants.Sq:w.ID=w.ra[p];w.zh=!0;break;case ViewConstants.Tq:w.JD=w.ra[p];w.zh=!0;break;case ViewConstants.zu:w.sl.red=c;w.sl.green=d;w.sl.blue=f;break;case ViewConstants.Au:w.yh=[c,d,f];break;case ViewConstants.tu:w.Sk=[c,d,f];w.ej="rgb("+c+","+d+","+f+")";break;case ViewConstants.Uq:w.hy="rgb("+c+","+d+","+f+")";break;case ViewConstants.Qq:w.gy="rgb("+c+","+d+","+f+")";break;case ViewConstants.Vq:w.iy="rgb("+c+","+d+","+f+")";break;case ViewConstants.ru:w.Sl=[c,d,f];w.g.Il=w.g.fe?
-16777216|f<<16|d<<8|c:c<<24|d<<16|f<<8|255;break;case ViewConstants.ky:w.Tl=[c,d,f];w.g.Jl=w.g.fe?-16777216|f<<16|d<<8|c:c<<24|d<<16|f<<8|255;break;case ViewConstants.ny:w.Wl=[c,d,f];w.g.rB="rgb("+c+","+d+","+f+")";break;case ViewConstants.my:w.Vl=[c,d,f];w.g.bA="rgb("+c+","+d+","+f+")";break;case ViewConstants.jy:w.Rl=[c,d,f];w.g.Pt="rgb("+c+","+d+","+f+")";break;case ViewConstants.wu:w.g.hj=[c,d,f];break;case ViewConstants.vu:w.g.gj=[c,d,f];break;case ViewConstants.uu:w.g.fj=[c,d,f];break;case ViewConstants.xu:w.g.ij=
[c,d,f];break;case ViewConstants.yu:w.g.jj=[c,d,f];break;case ViewConstants.Yq:case ViewConstants.Wq:case ViewConstants.Zq:case ViewConstants.ar:case ViewConstants.$q:case ViewConstants.Xq:break;default:w.zh=!0}},fN:function(w){var g=w.g.nb[w.g.Re],h=w.ra;g.Mn=w.g.Hf;-1===h[ViewConstants.aj]&&(w=h[ViewConstants.ji],-1!==w?h[ViewConstants.aj]=16777215-w:(w=h[ViewConstants.Sg],h[ViewConstants.aj]=-1!==w?16777215-w:16777215));-1===h[ViewConstants.Sg]&&-1===h[ViewConstants.ji]&&(h[ViewConstants.Sg]=16777215-
h[ViewConstants.aj]);w=h[ViewConstants.Sg];-1===w&&(w=h[ViewConstants.ji]);g.fb.red=w>>16;g.fb.green=w>>8&255;g.fb.blue=w&255;w=h[ViewConstants.aj];g.vb.Z.red=w>>16;g.vb.Z.green=w>>8&255;g.vb.Z.blue=w&255;w=h[ViewConstants.qu];-1===w&&(w=h[ViewConstants.aj]);g.vb.aa.red=w>>16;g.vb.aa.green=w>>8&255;g.vb.aa.blue=w&255;w=h[ViewConstants.ji];-1===w&&(w=h[ViewConstants.Sg]);g.kb.aa.red=w>>16;g.kb.aa.green=w>>8&255;g.kb.aa.blue=w&255;w=h[ViewConstants.Rq];-1===w&&(w=h[ViewConstants.ji],-1===w&&(w=h[ViewConstants.Sg]));
g.kb.Z.red=w>>16;g.kb.Z.green=w>>8&255;g.kb.Z.blue=w&255;w=h[ViewConstants.Sg];-1===w&&(w=h[ViewConstants.ji]);g.Ki.red=w>>16;g.Ki.green=w>>8&255;g.Ki.blue=w&255;w=h[ViewConstants.aj];g.qg.red=w>>16;g.qg.green=w>>8&255;g.qg.blue=w&255;w=h[ViewConstants.ji];-1===w&&(w=h[ViewConstants.Sg]);g.Ic.aa.red=w>>16;g.Ic.aa.green=w>>8&255;g.Ic.aa.blue=w&255;w=h[ViewConstants.Rq];-1===w&&(w=h[ViewConstants.ji],-1===w&&(w=h[ViewConstants.Sg]));g.Ic.Z.red=w>>16;g.Ic.Z.green=w>>8&255;g.Ic.Z.blue=w&255;w=h[ViewConstants.su];
-1===w?g.$l=!0:(g.$l=!1,g.Zb.aa.red=w>>16,g.Zb.aa.green=w>>8&255,g.Zb.aa.blue=w&255);w=h[ViewConstants.ly];-1===w&&(w=h[ViewConstants.su],-1===w&&(w=h[ViewConstants.Sg]));g.Zb.Z.red=w>>16;g.Zb.Z.green=w>>8&255;g.Zb.Z.blue=w&255;g.TM(h[ViewConstants.Sq],h[ViewConstants.Tq])},vw:function(w,g){var h=w;w.length>g&&(h=w.substr(0,g-1)+"...");return h},VG:function(w,g,h,p){var k=w.indexOf("\\n");-1!==k&&(h?g[g.length]=[Keywords.vq+" "+Keywords.wd+this.vw(w,23)+Keywords.wd,"only one line allowed"]:(k=w.substr(k+
2).indexOf("\\n"),-1===k||p||(g[g.length]=[Keywords.wd+this.vw(w,23),"only two lines allowed"])))},QA:function(w,g,h,p){var k=Keywords.ul+" ",a="overwrites ";k=h>=w.g.Re?k+Keywords.uq:k+h;a=p>=w.g.Re?a+Keywords.uq:a+p;g[g.length]=[k,a]},hp:function(w,g,h,p,k,a,c){var d=0,f=0,n=0;if(g.K())if(d=g.M()|0,0>d||255<d)h[h.length]=[k+" "+c+" "+d,"RED out of range"],a=!0;else if(g.K())if(f=g.M()|0,0>f||255<f)h[h.length]=[k+" "+c+" "+d+" "+f,"GREEN out of range"],a=!0;else if(g.K()){if(n=g.M()|0,0>n||255<n)h[h.length]=
[k+" "+c+" "+d+" "+f+" "+n,"BLUE out of range"],a=!0}else this.co(g,h,k+" "+c+" "+d+" "+f,"BLUE","numeric"),a=!0;else this.co(g,h,k+" "+c+" "+d,"GREEN","numeric"),a=!0;else{var m=g.Ha();var q=ColourManager.Je[m.toLowerCase()];void 0!==q?(g.W(),d=q[1],f=q[2],n=q[3]):(a=!0,""===m||this.Sn(m)?h[h.length]=[k+" "+c,"name missing"]:(h[h.length]=[k+" "+c+" "+m,"name not known"],g.W()))}a||(-1!==w.bc[p]&&(h[h.length]=[k+" "+c+" "+d+" "+f+" "+n,"overwrites "+(w.bc[p]>>16)+" "+(w.bc[p]>>8&255)+" "+(w.bc[p]&
255)]),w.bc[p]=d<<16|f<<8|n)},Hk:function(w,g){var h=Keywords.og+String(g);w=w.o.WJ(g);-1!==w&&(h=w.toFixed(1));return h},tq:function(w,g){var h="",p=g.indexOf(Keywords.og);if(-1===p)h=g;else{for(;-1!==p;)if(h+=g.substr(0,p),p+1<g.length){var k=g[p+1];g=g.substr(p+2);switch(k){case "B":h+=ViewConstants.Ow;break;case "N":h+=w.Tp;break;case "R":h+=w.zb;break;case "A":h=""===w.pd?h+w.zb:h+w.pd;break;case "O":h+=w.ks;break;case "T":h+=ViewConstants.FJ;break;case "0":h+=this.Hk(w,0);break;case "1":h+=
this.Hk(w,1);break;case "2":h+=this.Hk(w,2);break;case "3":h+=this.Hk(w,3);break;case "4":h+=this.Hk(w,4);break;case "5":h+=this.Hk(w,5);break;case "6":h+=this.Hk(w,6);break;case "7":h+=this.Hk(w,7);break;case "8":h+=this.Hk(w,8);break;case "9":h+=this.Hk(w,9);break;case Keywords.og:h+=Keywords.og;break;default:h+=Keywords.og+k}p=g.indexOf(Keywords.og)}else g=g.substr(p+1),p=-1;h+=g}return h},xi:function(w,g,h,p){p[p.length]=w?g===Keywords.Gh?[g+" "+h,"already defined"]:[g+" "+h,"overwrites "+Keywords.Gh]:
g===Keywords.Gh?[g+" "+h,"overwrites "+Keywords.Wi]:[g+" "+h,"already defined"]},Ji:function(w,g){var h="";w===(w|0)?h=String(w):h=w.toFixed(g);return h},RN:function(w){var g=w.substr(0,1);w=w.substr(1);var h=!1;if("B"===g||"S"===g){this.UC=g;g=0;for(h=!0;h&&g<w.length;)"0"<=w[g]&&"9">=w[g]?g+=1:h=!1;h&&(this.$w=Number(w))}return h},KM:function(w,g){if("B"===this.UC){var h=w.Kh.length;w.Kh[h]=this.$w;w.Kh[h+1]=g}else h=w.xj.length,w.xj[h]=this.$w,w.xj[h+1]=g},vL:function(w,g,h){var p=new Script(g,
!1),k=!1,a=!1,c="",d="",f="",n="",m=!1,q="",u=0,y=!1,v=!1,r=w.qd,B=null,b=0,l=0,e="",t=!1,x=w.X.gp(),z=null,A=!1,C=!1,G=null,D=1,I=ViewConstants.dD,F=-1,E=-1,H=0,N=0,K=!1,P=!1,J=0,T=0,Y=-1,U=0,M=0,fa=null,X=1,ia=ViewConstants.dD,na=ViewConstants.lI,ba=-1,W=-1,ca=0,da=0,ma=!1,la=!1,V=0,R=0,Z=-1,ea=0,ha=0,aa=null,L=1,Q=ViewConstants.QK,ka=!1,S=-1,O=-1,ja=0,oa=0,qa=!1,ra=!1,ta=0,pa=0,sa=-1,za=0,Da=0,xa=!1,wa=!1,Ga="numeric",Ea=-1,Ca=-1,ya=-1,Ka=-1,Ja=-1,Na=-1,Ha=0,La=0,Ra=0,Sa=0,ua=0,Aa=0,va=0,Oa=0,
Ba=0,lb=0,mb=0,Ma=[],Ia=0,nb=new Pattern("decode",w.D),Za=!1,$a=!1,ab=!1,bb=!1,cb=!1,db=!1,Ua=!1,eb=!1,fb=!1,Va=!1,Wa=!1,gb=!1,hb=!1,ib=!1,jb=!1;w.X.qr=!1;w.fo=0;w.$z=0;w.pu=!1;w.zh=!1;w.ra[ViewConstants.Sg]=-1;w.ra[ViewConstants.aj]=-1;w.ra[ViewConstants.qu]=-1;w.ra[ViewConstants.ji]=-1;w.ra[ViewConstants.Rq]=-1;w.ra[ViewConstants.Sq]=-1;w.ra[ViewConstants.Tq]=-1;w.ra[ViewConstants.zu]=-1;w.ra[ViewConstants.Au]=-1;w.ra[ViewConstants.ru]=-1;w.ra[ViewConstants.wu]=-1;w.ra[ViewConstants.vu]=-1;w.ra[ViewConstants.uu]=
-1;w.ra[ViewConstants.xu]=-1;w.ra[ViewConstants.yu]=-1;w.ra[ViewConstants.tu]=-1;w.ra[ViewConstants.Uq]=-1;w.ra[ViewConstants.Yq]=-1;w.ra[ViewConstants.Wq]=-1;w.ra[ViewConstants.Zq]=-1;w.ra[ViewConstants.ar]=-1;w.ra[ViewConstants.$q]=-1;w.ra[ViewConstants.Xq]=-1;w.ra[ViewConstants.Qq]=-1;w.ra[ViewConstants.Vq]=-1;w.bc=null;if(-1!==p.RD()){w.bc=w.g.v.P(Int32,256,"View.customColours");w.bc.fill(-1);for(c=p.W();""!==c;){Ga="numeric";if(m)c[c.length-1]===Keywords.wd?(q=q+" "+c.substr(0,c.length-1),m=
!1,this.VG(q,r,a,xa),a?(""!==w.Li&&(r[r.length]=[Keywords.vq+" "+Keywords.wd+this.vw(q,20)+Keywords.wd,"overwrites "+Keywords.wd+w.Li+Keywords.wd]),w.Li=q,a=!1):xa?(aa.message=this.tq(w,q),xa=!1,w.X.VC(aa)):(x.Rf=this.tq(w,q),x.MB=!0)):q=q+" "+c;else if(c[0]===Keywords.wd)q=c.substr(1),m=!0,c[c.length-1]===Keywords.wd&&(m=!1,q=q.substr(0,q.length-1),this.VG(q,r,a,xa),a?(""!==w.Li&&(r[r.length]=[Keywords.vq+" "+Keywords.wd+this.vw(q,20)+Keywords.wd,"overwrites "+Keywords.wd+w.Li+Keywords.wd]),w.Li=
q,a=!1):xa?(aa.message=this.tq(w,q),xa=!1,w.X.VC(aa)):(x.Rf=this.tq(w,q),x.MB=!0));else{y=v=!1;w.fo+=1;switch(c){case Keywords.vq:y=a=!0;break;case Keywords.KA:p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Bv&&u<=ViewConstants.vv&&(I=u,y=!0));break;case Keywords.PF:p.K()?(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(ua=u,v=!1,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(U=ua,M=u,y=!0)))):(d=p.Ha(),d===Keywords.Ld&&(d=p.W(),M=U=0,y=!0));break;case Keywords.MA:p.K()?(v=!0,u=p.M(),
u>=-w.g.ka/2&&u<=w.g.ka/2&&(v=!1,ua=u,p.K()&&(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.M(),0<=u&&u<=w.g.ka/2&&(J=ua,T=Aa,Y=u,y=!0)))))):(d=p.Ha(),d===Keywords.Wb&&(d=p.W(),T=J=0,Y=-1,y=!0));break;case Keywords.IA:p.K()&&(v=!0,u=p.M(),0<=u&&360>u&&(N=u,K=!1,d=p.Ha(),d===Keywords.Ld&&(d=p.W(),K=!0),y=!0));break;case Keywords.LA:p.K()?(v=!0,u=p.M()|0,0<=u&&(ua=u,p.K()?(u=p.M()|0,u>=ua?(Aa=u,p.K()?(u=p.M()|0,0<=u&&u<=Aa-ua>>1?(F=ua,E=Aa,H=u,y=!0):(y=!0,r[r.length]=[c+" "+ua+
" "+Aa+" "+u,"third argument must from 0 to "+(Aa-ua>>1)])):v=!1):(y=!0,r[r.length]=[c+" "+ua+" "+u,"second argument must be >= first"])):v=!1)):(d=p.Ha(),d===Keywords.rg?(d=p.W(),E=F=-1,H=0,y=!0):v=!1);break;case Keywords.HA:p.K()&&(v=!0,u=p.M(),0<=u&&1>=u&&(D=u,y=!0));break;case Keywords.JA:case Keywords.Ov:Ma=[];y=!0;va=-1E3;for(Ba=Oa=-2E3;y&&p.K();)ua=p.M(),p.K()?(Aa=p.M(),ua>=-w.g.ka&&ua<2*w.g.ka&&Aa>=-w.g.ka&&Aa<2*w.g.ka?(Ma[Ma.length]=ua,Ma[Ma.length]=Aa):(r[r.length]=[c+" "+ua+" "+Aa,"coordinate out of range"],
va=0,y=!1)):ua>=ViewConstants.za&&ua<=ViewConstants.Ya?va=ua:ua>=ViewConstants.pj&&ua<=ViewConstants.nj?va=-(1/ua):(r[r.length]=[c+" "+ua,"zoom out of range"],va=0,y=!1);-1E3===va&&(4<Ma.length?(ua=Ma[Ma.length-2],ua>=ViewConstants.za&&ua<=ViewConstants.Ya?va=ua:ua>=ViewConstants.pj&&ua<=ViewConstants.nj?va=-(1/ua):(r[r.length]=[c+" "+ua,"zoom out of range"],va=0,y=!1),y&&(ua=Ma[Ma.length-1],ua>=ViewConstants.za&&ua<=ViewConstants.Ya?Ba=ua:ua>=ViewConstants.pj&&ua<=ViewConstants.nj?Ba=-(1/ua):(r[r.length]=
[c+" "+ua,"zoom out of range"],Ba=0,y=!1)),y&&(Ma=Ma.slice(0,Ma.length-2))):(r[r.length]=[c,"missing zoom value"],y=!1));y&&4>Ma.length&&(r[r.length]=[c,"requires at least 2 coordinate pairs"],y=!1);y?(d=p.Ha(),P=!1,d===Keywords.Ld&&(d=p.W(),P=!0,d=p.Ha()),G=w.X.ZI(Ma,c===Keywords.Ov,va,Oa,Ba,w.iy,D,I,F,E,H,N,K,P,J,T,Y,U,M),w.X.WH(G)):y=!0;break;case Keywords.Fx:p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Bv&&u<=ViewConstants.vv&&(ua=u,v=!1,p.K()&&(v=!0,u=p.M(),0<=u&&1>=u&&(na=u,ia=ua,y=!0))));break;case Keywords.Ix:p.K()?
(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(ua=u,v=!1,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(ea=ua,ha=u,y=!0)))):(d=p.Ha(),d===Keywords.Ld&&(d=p.W(),ha=ea=0,y=!0));break;case Keywords.Hx:p.K()?(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(v=!1,ua=u,p.K()&&(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.M(),0<=u&&u<=w.g.ka/2&&(V=ua,R=Aa,Z=u,y=!0)))))):(d=p.Ha(),d===Keywords.Wb&&(d=p.W(),R=V=0,Z=-1,y=!0));break;case Keywords.Ex:p.K()&&(v=!0,u=p.M(),
0<=u&&360>u&&(da=u,ma=!1,d=p.Ha(),d===Keywords.Ld&&(d=p.W(),ma=!0),y=!0));break;case Keywords.Gx:p.K()?(v=!0,u=p.M()|0,0<=u&&(ua=u,p.K()?(u=p.M()|0,u>=ua?(Aa=u,p.K()?(u=p.M()|0,0<=u&&u<=Aa-ua>>1?(ba=ua,W=Aa,ca=u,y=!0):(y=!0,r[r.length]=[c+" "+ua+" "+Aa+" "+u,"third argument must from 0 to "+(Aa-ua>>1)])):v=!1):(y=!0,r[r.length]=[c+" "+ua+" "+u,"second argument must be >= first"])):v=!1)):(d=p.Ha(),d===Keywords.rg?(d=p.W(),W=ba=-1,ca=0,y=!0):v=!1);break;case Keywords.Dx:p.K()&&(v=!0,u=p.M(),0<=u&&
1>=u&&(X=u,y=!0));break;case Keywords.Gq:p.K()&&(v=!0,u=p.M(),u>=-w.g.ka&&u<2*w.g.ka&&(v=!1,ua=u,p.K()&&(v=!0,u=p.M(),u>=-w.g.ka&&u<2*w.g.ka&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.M(),u>=-w.g.ka&&u<2*w.g.ka&&(v=!1,lb=u,p.K()&&(v=!0,u=p.M(),u>=-w.g.ka&&u<2*w.g.ka&&(v=!1,mb=u,p.K()&&(v=!0,u=p.M(),va=-1E3,u>=ViewConstants.za&&u<=ViewConstants.Ya?va=u:u>=ViewConstants.pj&&u<=ViewConstants.nj&&(va=-(1/u)),-1E3!==va&&(Ba=Oa=-2E3,p.K()&&(v=!0,u=p.M(),Ba=-1E3,u>=ViewConstants.za&&u<=ViewConstants.Ya?Ba=u:u>=ViewConstants.pj&&
u<=ViewConstants.nj&&(Ba=-(1/u))),-1E3!==Ba&&p.K()&&(v=!0,u=p.M(),Oa=Ba,Ba=-1E3,u>=ViewConstants.za&&u<=ViewConstants.Ya?Ba=u:u>=ViewConstants.pj&&u<=ViewConstants.nj&&(Ba=-(1/u)),-1E3!==Ba&&Ba<Oa&&(Ba=-1E3)),-1E3!==Ba&&(d=p.Ha(),la=!1,d===Keywords.Ld&&(d=p.W(),la=!0,d=p.Ha()),fa=w.X.UI(ua,Aa,lb,mb,va,Oa,Ba,w.gy,X,ia,na,ba,W,ca,da,ma,la,V,R,Z,ea,ha),w.X.TH(fa),y=!0)))))))))));break;case Keywords.rz:p.K()&&(v=!0,u=p.M(),u>=ViewConstants.TE&&u<=ViewConstants.LE&&(Q=u,y=!0,d=p.Ha(),d===Keywords.Ld?(d=
p.W(),ka=!0):ka=!1));break;case Keywords.vz:p.K()?(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(ua=u,v=!1,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(za=ua,Da=u,y=!0)))):(d=p.Ha(),d===Keywords.Ld&&(d=p.W(),Da=za=0,y=!0));break;case Keywords.uz:p.K()?(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(v=!1,ua=u,p.K()&&(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.M(),0<=u&&u<=w.g.ka/2&&(ta=ua,pa=Aa,sa=u,y=!0)))))):(d=p.Ha(),d===Keywords.Wb&&(d=p.W(),pa=ta=
0,sa=-1,y=!0));break;case Keywords.qz:p.K()&&(v=!0,u=p.M(),0<=u&&360>u&&(oa=u,qa=!1,d=p.Ha(),d===Keywords.Ld&&(d=p.W(),qa=!0),y=!0));break;case Keywords.sz:p.K()?(v=!0,u=p.M()|0,0<=u&&(ua=u,p.K()?(u=p.M()|0,u>=ua?(Aa=u,p.K()?(u=p.M()|0,0<=u&&u<=Aa-ua>>1?(S=ua,O=Aa,ja=u,y=!0):(y=!0,r[r.length]=[c+" "+ua+" "+Aa+" "+u,"third argument must from 0 to "+(Aa-ua>>1)])):v=!1):(y=!0,r[r.length]=[c+" "+ua+" "+u,"second argument must be >= first"])):v=!1)):(d=p.Ha(),d===Keywords.rg?(d=p.W(),O=S=-1,ja=0,y=!0):
v=!1);break;case Keywords.pz:p.K()&&(v=!0,u=p.M(),0<=u&&1>=u&&(L=u,y=!0));break;case Keywords.Mr:p.K()&&(v=!0,u=p.M(),u>=-w.g.ka&&u<2*w.g.ka&&(v=!1,ua=u,p.K()&&(v=!0,u=p.M(),u>=-w.g.ka&&u<2*w.g.ka&&(v=!1,Aa=u,p.K()&&(v=!0,u=p.M(),va=-1E3,u>=ViewConstants.za&&u<=ViewConstants.Ya?va=u:u>=ViewConstants.pj&&u<=ViewConstants.nj&&(va=-(1/u)),-1E3!==va&&(Ba=Oa=-2E3,p.K()&&(v=!0,u=p.M(),Ba=-1E3,u>=ViewConstants.za&&u<=ViewConstants.Ya?Ba=u:u>=ViewConstants.pj&&u<=ViewConstants.nj&&(Ba=-(1/u))),-1E3!==Ba&&
p.K()&&(v=!0,u=p.M(),Oa=Ba,Ba=-1E3,u>=ViewConstants.za&&u<=ViewConstants.Ya?Ba=u:u>=ViewConstants.pj&&u<=ViewConstants.nj&&(Ba=-(1/u)),-1E3!==Ba&&Ba<Oa&&(Ba=-1E3)),-1E3!==Ba&&(d=p.Ha(),ra=!1,d===Keywords.Ld&&(d=p.W(),ra=!0,d=p.Ha()),d[0]===Keywords.wd?(aa=w.X.XI(ua,Aa,va,Oa,Ba,w.hy,L,Q,ka,S,O,ja,oa,qa,ra,ta,pa,sa,za,Da),y=xa=!0):v=!1)))))));break;case Keywords.WF:y=w.g.bh=!0;break;case Keywords.oz:y=w.g.Yi=!0;break;case Keywords.eq:y=!1;d=p.W();if(""!==d){for(w.cq=[];p.K();)u=p.M(),w.cq[w.cq.length]=
u;w.VH(r,d,w.cq);w.cq=[];y=!0}break;case Keywords.vo:y=!1;d=p.W();if(""!==d&&(f=p.Ha(),""!==f)){p.W();for(n=p.Ha();""!==n&&!this.Sn(n)&&!p.K()&&-1!==w.D.ip(nb,n,!1,w.g.v);)p.W(),f+=n,n=p.Ha();Aa=ua=0;p.K()&&(v=!0,ua=p.M());p.K()&&(v=!0,Aa=p.M());va=-1;n=p.Ha();if(""!==n){switch(n){case Keywords.nC:va=ViewConstants.bt;break;case Keywords.kC:va=ViewConstants.dC;break;case Keywords.lC:va=ViewConstants.eC;break;case Keywords.mC:va=ViewConstants.fC;break;case Keywords.qC:va=ViewConstants.iC;break;case Keywords.rC:va=
ViewConstants.jC;break;case Keywords.pC:va=ViewConstants.hC;break;case Keywords.oC:va=ViewConstants.gC}-1!==va&&p.W()}-1===va&&(va=ViewConstants.bt);w.UH(r,d,f,ua,Aa,va);y=!0}break;case Keywords.Sp:f=p.Ha();if(""!==f){p.W();for(n=p.Ha();""!==n&&!this.Sn(n)&&!p.K()&&-1!==w.D.ip(nb,n,!1,w.g.v);)p.W(),f+=n,n=p.Ha();Aa=ua=0;p.K()&&(v=!0,ua=p.M());p.K()&&(v=!0,Aa=p.M());va=-1;n=p.Ha();if(""!==n){switch(n){case Keywords.nC:va=ViewConstants.bt;break;case Keywords.kC:va=ViewConstants.dC;break;case Keywords.lC:va=
ViewConstants.eC;break;case Keywords.mC:va=ViewConstants.fC;break;case Keywords.qC:va=ViewConstants.iC;break;case Keywords.rC:va=ViewConstants.jC;break;case Keywords.pC:va=ViewConstants.hC;break;case Keywords.oC:va=ViewConstants.gC}-1!==va&&p.W()}-1===va&&(va=ViewConstants.bt);w.YH(w.Qp,w.es,w.Pp,w.fs,w.$c,w.dA,w.eA,f,ua,Aa,va)||(r[r.length]=[Keywords.Sp+" "+f,"invalid name or rle"]);y=!0}break;case Keywords.cA:p.K()&&(v=!0,u=p.M(),-4096<=u&&4096>=u&&(w.dA=u,v=!1,p.K()&&(v=!0,u=p.M(),-4096<=u&&4096>=
u&&(w.eA=u,y=!0))));break;case Keywords.hs:if(p.K()){if(v=!0,u=p.M(),0<=u){w.Qp=u;w.fs=0;w.es=-1;w.Pp=[];for(k=!0;k;)p.K()?(u=p.M(),w.Pp[w.Pp.length]=u):(d=p.Ha(),w.ZH(d,w.Pp)?p.W():k=!1);y=!0}}else d=p.Ha(),d===Keywords.gr&&(d=p.W(),p.K()&&(v=!0,u=p.M(),1<=u&&(w.fs=u,w.Qp=0,w.es=-1,p.K()?(u=p.M(),0<=u&&(w.Qp=u,p.K()?(u=p.M(),u>=w.Qp+w.fs&&(w.es=u,y=!0)):y=!0)):y=!0)));break;case Keywords.FG:y=x.xp=!0;break;case Keywords.sA:y=!0;v=!1;Ga="paste mode";d=p.Ha();switch(d){case Keywords.yA:w.$c=ViewConstants.xF;
break;case Keywords.kA:w.$c=ViewConstants.jA;break;case Keywords.fA:w.$c=ViewConstants.lF;break;case Keywords.uA:w.$c=ViewConstants.uF;break;case Keywords.gA:w.$c=ViewConstants.mF;break;case Keywords.xA:w.$c=ViewConstants.wF;break;case Keywords.wA:w.$c=ViewConstants.vA;break;case Keywords.rA:w.$c=ViewConstants.gs;break;case Keywords.nA:w.$c=ViewConstants.qF;break;case Keywords.tA:w.$c=ViewConstants.vF;break;case Keywords.pA:w.$c=ViewConstants.sF;break;case Keywords.hA:w.$c=ViewConstants.nF;break;
case Keywords.oA:w.$c=ViewConstants.rF;break;case Keywords.iA:w.$c=ViewConstants.oF;break;case Keywords.mA:w.$c=ViewConstants.pF;break;case Keywords.qA:w.$c=ViewConstants.tF;break;case Keywords.lA:w.$c=ViewConstants.Iv;break;default:if(4===d.length){for(Ia=u=0;4>Ia&&y;){u<<=1;switch(d.substr(Ia,1)){case "1":u|=1;break;case "0":break;default:y=!1}Ia+=1}y&&(w.$c=u)}else p.K()?(v=!0,u=p.M()|0,0<=u&&15>=u?w.$c=u:y=!1):y=!1}y&&!v&&p.W();break;case Keywords.$y:y=w.si=!0;break;case Keywords.Uz:w.vj=!1;y=
!0;break;case Keywords.Tz:y=w.xe=!0;break;case Keywords.Vz:w.op=!1;y=!0;break;case Keywords.Gz:p.K()&&(v=!0,u=p.M()|0,u>=ViewConstants.SE&&u<=ViewConstants.KE&&(w.g.ka=1<<u,y=!0));break;case Keywords.Ms:d=p.Ha();d===Keywords.Wb?(d=p.W(),x.Wm=!1):x.Wm=!0;y=x.Aw=!0;break;case Keywords.Yt:d=p.Ha();d===Keywords.Wb?(d=p.W(),x.lf=!1):x.lf=!0;y=!0;break;case Keywords.dv:p.K()&&(v=!0,u=p.M()|0,0<=u&&u<=w.Ur&&(w.O=u,y=!0));break;case Keywords.Qt:p.K()&&(v=!0,u=p.M()|0,0<=u&&u<=w.Ur&&(w.Ti=u,y=!0));break;case Keywords.az:d=
p.Ha();d===Keywords.Wb?(d=p.W(),w.ti=!1):w.ti=!0;y=!0;break;case Keywords.nr:d=p.Ha();d===Keywords.Wb?(d=p.W(),x.jd=!1):x.jd=!0;y=x.$k=!0;break;case Keywords.mr:p.K()&&(v=!0,u=p.M()|0,u>=ViewConstants.aL&&u<=ViewConstants.WK&&(w.g.Hf=u,y=w.pu=!0));break;case Keywords.Na:case Keywords.Yx:e=c;wa=!1;if(p.K()){l=p.M()|0;if(0>l||255<l)r[r.length]=[c+" "+l,"STATE out of range"],wa=!0;this.hp(w,p,r,l,c,wa,l)}else switch(d=p.Ha(),d){case Keywords.gF:this.kc(w,p,r,ViewConstants.Sg,e);break;case Keywords.hF:this.kc(w,
p,r,ViewConstants.aj,e);break;case Keywords.kE:this.kc(w,p,r,ViewConstants.ji,e);break;case Keywords.AE:d=p.W();this.hp(w,p,r,ViewConstants.BE,c,!1,d);break;case Keywords.EE:d=p.W();this.hp(w,p,r,ViewConstants.FE,c,!1,d);break;case Keywords.CE:d=p.W();this.hp(w,p,r,ViewConstants.DE,c,!1,d);break;case Keywords.tE:d=p.W();this.hp(w,p,r,ViewConstants.uE,c,!1,d);break;case Keywords.Ew:this.kc(w,p,r,ViewConstants.Sg,e);break;case Keywords.Dw:this.kc(w,p,r,ViewConstants.aj,e);break;case Keywords.NB:this.kc(w,
p,r,ViewConstants.qu,e);break;case Keywords.Gw:this.kc(w,p,r,ViewConstants.ji,e);break;case Keywords.Fw:this.kc(w,p,r,ViewConstants.Rq,e);break;case Keywords.PB:this.kc(w,p,r,ViewConstants.su,e);break;case Keywords.OB:this.kc(w,p,r,ViewConstants.ly,e);break;case Keywords.nr:this.kc(w,p,r,ViewConstants.Sq,e);break;case Keywords.mr:this.kc(w,p,r,ViewConstants.Tq,e);break;case Keywords.Ms:this.kc(w,p,r,ViewConstants.zu,e);break;case Keywords.LB:this.kc(w,p,r,ViewConstants.Au,e);break;case Keywords.Hy:this.kc(w,
p,r,ViewConstants.tu,e);break;case Keywords.Mr:this.kc(w,p,r,ViewConstants.Uq,e);break;case Keywords.Gq:this.kc(w,p,r,ViewConstants.Qq,e);break;case Keywords.QF:this.kc(w,p,r,ViewConstants.Vq,e);break;case Keywords.iD:this.kc(w,p,r,ViewConstants.ru,e);break;case Keywords.kD:this.kc(w,p,r,ViewConstants.ky,e);break;case Keywords.sG:this.kc(w,p,r,ViewConstants.ny,e);break;case Keywords.Sp:this.kc(w,p,r,ViewConstants.my,e);break;case Keywords.YC:this.kc(w,p,r,ViewConstants.jy,e);break;case Keywords.aE:this.kc(w,
p,r,ViewConstants.wu,e);break;case Keywords.$D:this.kc(w,p,r,ViewConstants.vu,e);break;case Keywords.ZD:this.kc(w,p,r,ViewConstants.uu,e);break;case Keywords.bE:this.kc(w,p,r,ViewConstants.xu,e);break;case Keywords.cE:this.kc(w,p,r,ViewConstants.yu,e);break;case Keywords.NG:this.kc(w,p,r,ViewConstants.Yq,e);break;case Keywords.LG:this.kc(w,p,r,ViewConstants.Wq,e);break;case Keywords.OG:this.kc(w,p,r,ViewConstants.Zq,e);break;case Keywords.SG:this.kc(w,p,r,ViewConstants.ar,e);break;case Keywords.PG:this.kc(w,
p,r,ViewConstants.$q,e);break;case Keywords.MG:this.kc(w,p,r,ViewConstants.Xq,e);break;default:l=-1;if(w.g.N){switch(d){case "N":l=1;break;case "E":l=2;break;case "NE":l=3;break;case "S":l=4;break;case "NS":l=5;break;case "ES":l=6;break;case "NES":l=7;break;case "W":l=8;break;case "NW":l=9;break;case "EW":l=10;break;case "NEW":l=11;break;case "SW":l=12;break;case "NSW":l=13;break;case "ESW":l=14;break;case "NESW":l=15}-1!==l&&(d=p.W(),this.hp(w,p,r,l,c,wa,l))}-1===l&&(r[r.length]=[c+" "+d,"illegal element"],
d=p.W())}y=!0;break;case Keywords.kq:-1===p.RD()&&p.zJ();y=!0;--w.fo;break;case Keywords.jt:y=w.Ta=!0;break;case Keywords.Xz:y=w.Wz=!0;break;case Keywords.eB:y=w.ow=!0;break;case Keywords.Yz:w.Kl=!1;y=!0;break;case Keywords.Iy:y=w.Ou=!0;break;case Keywords.gz:y=w.Cr=!0;break;case Keywords.Sz:w.Sc=!0;y=w.Ev=!0;break;case Keywords.Rz:y=w.il=!0;break;case Keywords.HB:y=jb=ib=hb=gb=Wa=Va=fb=eb=Ua=db=cb=bb=ab=$a=Za=!0;break;case Keywords.Wb:r[r.length]=[Keywords.Wb,"must follow LOOP or STOP"];y=!0;break;
case Keywords.rg:d=p.Ha();d===Keywords.nc?(d=p.W(),x.Fh?(w.X.JI(x,r),w.VM()):r[r.length]=[Keywords.rg+" "+Keywords.nc,"only valid at a POI"]):r[r.length]=[Keywords.rg,"must be followed by INITIAL"];y=!0;break;case Keywords.nc:r[r.length]=[Keywords.nc,"must follow POI, ALL or a POI setting"];y=!0;break;case Keywords.$t:d=p.Ha();d===Keywords.Wb?(d=p.W(),w.ef=!1):w.Aa&&(w.ef=!0);y=!0;break;case Keywords.Mv:p.K()&&(v=!0,u=p.M()|0,0<=u&&(x.Fh?(x.fc=u,x.Ps=!0):r[r.length]=[Keywords.Mv+" "+u,"only valid at a POI"],
y=!0));break;case Keywords.Yp:x.XM(r);y=!0;break;case Keywords.Zp:x.aN(r);y=!0;break;case Keywords.ss:x.YM(r);y=!0;break;case Keywords.ts:p.K()&&(v=!0,u=p.M(),u>=WaypointConstants.MF&&u<=WaypointConstants.LF&&(x.cN(u,r),y=!0));break;case Keywords.GA:y=t=!0;break;case Keywords.Ty:y=w.Xu=!0;break;case Keywords.DB:d=p.Ha();d===Keywords.Wb?(d=p.W(),w.Ei=!1):w.Ei=!0;y=!0;break;case Keywords.at:p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(Ja=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&
u<=ViewConstants.Vg&&(Na=u,y=!0,w.ie&&(r[r.length]=[Keywords.at+" "+Ja+" "+Na,"overwrites "+Ca+" "+ya]),Ca=Ja,ya=Na,w.ie=!0))));break;case Keywords.$s:p.K()&&(v=!0,u=p.M()|0,0<u&&(Ka=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(Ja=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(Na=u,y=!0,w.Ro&&(r[r.length]=[Keywords.$s+" "+Ka+" "+Ja+" "+Na,"overwrites "+Ea+" "+Ca+" "+ya]),Ea=Ka,Ca=Ja,ya=Na,w.Ro=!0,w.ie=!0))))));break;case Keywords.Qo:p.K()&&
(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(Ra=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(La=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(Sa=u,v=!1,c+=" "+u,p.K()&&(v=!0,u=p.M(),u>=ViewConstants.Xg&&u<=ViewConstants.Vg&&(Ha=u,y=!0,Sa>Ra?r[r.length]=[Keywords.Qo+" W "+this.Ji(Sa,2)+" E "+this.Ji(Ra,2),"W is greater than E"]:Ha>La?r[r.length]=[Keywords.Qo+" N "+this.Ji(Ha,2)+" S "+this.Ji(La,2),"N is greater than S"]:
(w.No&&(r[r.length]=[Keywords.Qo+" "+this.Ji(Ra,2)+" "+this.Ji(La,2)+" "+this.Ji(Sa,2)+" "+this.Ji(Ha,2),"overwrites "+this.Ji(w.en,2)+" "+this.Ji(w.fn,2)+" "+this.Ji(w.Po,2)+" "+this.Ji(w.Oo,2)]),w.No=!0,w.ie=!0,w.Oo=Ha,w.en=Ra,w.fn=La,w.Po=Sa)))))))));break;case Keywords.Kj:z=x;!x.Fh&&0<w.X.qL&&(x=w.X.jr());p.K()?(v=!0,u=p.M()|0,0<u&&(!x.$m||w.mm||Wa||(r[r.length]=-1===x.ac?[Keywords.Kj+" "+u,"overwrites "+Keywords.Wb]:[Keywords.Kj+" "+u,"overwrites "+x.ac]),x.ac=u,x.$m=!0,Wa=w.mm=!1,y=!0)):(d=
p.Ha(),d===Keywords.Wb?(d=p.W(),!x.$m||w.mm||Wa||(r[r.length]=-1!==x.ac||w.mm?[Keywords.Kj+" "+Keywords.Wb,"overwrites "+x.ac]:[Keywords.Kj+" "+Keywords.Wb,"overwrites "+Keywords.Wb]),x.ac=-1,x.$m=!0,Wa=w.mm=!1,y=!0):d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.Kj,x,r,w.mm),y=w.mm=!0));x=z;break;case Keywords.lj:z=x;!x.Fh&&0<w.X.Ua.length&&(x=w.X.jr());p.K()?(v=!0,u=p.M()|0,0<u&&(!x.rm||w.Pn||Va||(r[r.length]=-1===x.gb?[Keywords.lj+" "+u,"overwrites "+Keywords.Wb]:[Keywords.lj+" "+u,"overwrites "+x.gb]),
x.gb=u,x.rm=!0,Va=w.Pn=!1,y=!0)):(d=p.Ha(),d===Keywords.Wb?(d=p.W(),!x.rm||w.Pn||Va||(r[r.length]=-1===x.gb?[Keywords.lj+" "+Keywords.Wb,"overwrites "+Keywords.Wb]:[Keywords.lj+" "+Keywords.Wb,"overwrites "+x.gb]),x.gb=-1,x.rm=!0,Va=w.Pn=!1,y=!0):d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.lj,x,r,w.Pn),y=w.Pn=!0));x=z;break;case Keywords.Fl:p.K()?(v=!0,u=p.M()|0,0<=u&&359>=u&&(!x.th||w.Fr||bb||(r[r.length]=[Keywords.Fl+" "+u,"overwrites "+x.angle]),x.angle=u,x.th=!0,bb=w.Fr=!1,y=!0)):(d=p.Ha(),d===
Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.Fl,x,r,w.Fr),y=w.Fr=!0));break;case Keywords.Vn:p.K()?(v=!0,u=p.M()|0,u>=ViewConstants.Av&&u<=ViewConstants.uv&&(!x.wi||w.Ir||cb||(r[r.length]=[Keywords.Vn+" "+u,"overwrites "+x.V]),x.V=u,x.wi=!0,cb=w.Ir=!1,y=!0)):(d=p.Ha(),d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.Vn,x,r,w.Ir),y=w.Ir=!0));break;case Keywords.Cn:p.K()?(v=!0,u=p.M(),u>=ViewConstants.zv&&u<=ViewConstants.JE&&(!x.ki||w.Gr||db||(r[r.length]=[Keywords.Cn+" "+u,"overwrites "+x.depth]),x.depth=u,x.ki=
!0,db=w.Gr=!1,y=!0)):(d=p.Ha(),d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.Cn,x,r,w.Gr),y=w.Gr=!0));break;case Keywords.Sw:p.K()&&(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(w.Mb=u,y=!0));break;case Keywords.Tw:p.K()&&(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(w.Nb=u,y=!0));break;case Keywords.wf:p.K()?(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(!x.Sf||w.Kr||Za||(r[r.length]=[Keywords.wf+" "+u,"overwrites "+-x.x]),x.x=-u,x.Sf=!0,Za=w.Kr=!1,y=!0)):(d=p.Ha(),d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.wf,x,
r,w.Kr),y=w.Kr=!0));break;case Keywords.yf:p.K()?(v=!0,u=p.M(),u>=-w.g.ka/2&&u<=w.g.ka/2&&(!x.xf||w.Lr||$a||(r[r.length]=[Keywords.yf+" "+u,"overwrites "+-x.y]),x.y=-u,x.xf=!0,$a=w.Lr=!1,y=!0)):(d=p.Ha(),d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.yf,x,r,w.Lr),y=w.Lr=!0));break;case Keywords.pE:y=w.oE=!0;break;case Keywords.XB:p.K()&&(v=!0,u=p.M(),u>=ViewConstants.za&&u<=ViewConstants.Ya?(w.Iw=!0,w.WB=u,y=!0):u>=ViewConstants.pj&&u<=ViewConstants.nj&&(w.Iw=!0,w.WB=-(1/u),y=!0));break;case Keywords.Bx:case Keywords.Xd:p.K()?
(v=!0,u=p.M(),u>=ViewConstants.za&&u<=ViewConstants.Ya?(!x.Wd||w.Qn||ab||(r[r.length]=1>x.zoom?[Keywords.Xd+" "+u,"overwrites "+-(1/x.zoom)]:[Keywords.Xd+" "+u,"overwrites "+x.zoom]),x.zoom=u,x.Wd=!0,ab=w.Qn=!1,y=!0):u>=ViewConstants.pj&&u<=ViewConstants.nj&&(x.Wd&&!w.Qn&&(r[r.length]=1>x.zoom?[Keywords.Xd+" "+u,"overwrites "+-(1/x.zoom)]:[Keywords.Xd+" "+u,"overwrites "+x.zoom]),x.zoom=-(1/u),x.Wd=!0,w.Qn=!1,y=!0)):(d=p.Ha(),d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.Xd,x,r,w.Qn),y=w.Qn=!0));break;
case Keywords.Ln:p.K()?(v=!0,u=p.M()|0,u>=ViewConstants.Wg&&u<=ViewConstants.tm&&(!x.oi||w.Hr||eb||(r[r.length]=[Keywords.Ln+" "+u,"overwrites "+x.Cc]),x.Cc=u,x.oi=!0,eb=w.Hr=!1,y=!0)):(d=p.Ha(),d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.Ln,x,r,w.Hr),y=w.Hr=!0));break;case Keywords.YB:d=p.Ha();d===Keywords.Wb?(d=p.W(),w.zd||(w.rb=!1,w.vl=!1)):w.zd||(w.rb=!0,w.vl=!0);y=!0;break;case Keywords.VB:y=w.UB=!0;break;case Keywords.RB:d=p.Ha();d===Keywords.Wb?(d=p.W(),w.zd||(w.rb=!1,w.vl=!1,w.Mj=!1,w.o.Mj=
!1)):w.zd||(w.rb=!0,w.vl=!0,w.Mj=!0,w.o.Mj=!0);y=!0;break;case Keywords.TB:p.K()&&(v=!0,u=p.M()|0,u>=ViewConstants.XE&&u<=ViewConstants.PE&&(w.Ee=u,y=!0));break;case Keywords.ul:p.K()?(v=!0,u=p.M()|0,0<=u&&u<w.g.Re&&(!x.ng||w.dl||Ua||this.QA(w,r,u,x.Fc),x.Fc=u,x.ng=!0,Ua=w.dl=!1,y=!0)):(d=p.Ha(),d===Keywords.uq?(d=p.W(),w.zh?(x.ng&&!w.dl&&this.QA(w,r,w.g.Re,x.Fc),x.Fc=w.g.Re,x.ng=!0,w.dl=!1):r[r.length]=[Keywords.ul+" "+Keywords.uq,"no custom THEME defined"],y=!0):(u=w.vN(d),-1!==u?(d=p.W(),!x.ng||
w.dl||Ua||this.QA(w,r,u,x.Fc),x.Fc=u,x.ng=!0,Ua=w.dl=!1,y=!0):d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.ul,x,r,w.dl),y=w.dl=!0)));break;case Keywords.XF:y=w.g.Qd=!0;break;case Keywords.yo:r[r.length]=[c,"already in a script block"];y=!0;break;case Keywords.xB:w.kd=!w.kd;y=!0;break;case Keywords.yB:w.np.current=w.Wo([!0],!0,w);y=!0;break;case Keywords.Jy:w.Ws.current=w.KC([!0],!0,w);y=!0;break;case Keywords.wB:w.Qw([!0],!0,w);w.mf&&(w.mf.current=[w.jh],w.o.Ph=!0);y=!0;break;case Keywords.wy:p.K()&&
(v=!0,u=p.M()|0,u>=ViewConstants.RE&&u<=ViewConstants.IE&&(y=!0,w.g.Cs=u));break;case Keywords.Fv:y=w.Pc=!0;break;case Keywords.Ru:y=w.ad=!0;break;case Keywords.Qy:p.K()&&(v=!0,u=p.M(),0<=u&&1>=u&&(y=!0,w.vd=u));break;case Keywords.Ry:w.$g=!1;y=!0;break;case Keywords.KG:w.g.R&&(w.g.vc=!0);y=!0;break;case Keywords.Vy:w.g.S&&(w.g.vc=!0);y=!0;break;case Keywords.yw:w.g.vc=!1;y=!0;break;case Keywords.Nx:y=w.g.ud=!0;break;case Keywords.XA:p.K()&&(v=!0,u=p.M()|0,u>=ViewConstants.WE&&u<=ViewConstants.OE&&
(w.ew=u,y=!0));break;case Keywords.SA:p.K()&&(v=!0,u=p.M()|0,u>=ViewConstants.VE&&u<=ViewConstants.NE&&(w.Zv=u,y=!0));break;case Keywords.RA:p.K()&&(v=!0,u=p.M()|0,u>=ViewConstants.Cv&&u<=ViewConstants.wv&&(w.Xv=u,y=!0));break;case Keywords.TA:y=w.aw=!0;break;case Keywords.WA:y=w.dw=!0;break;case Keywords.Vv:d=p.Ha();switch(d){case Keywords.Ld:d=p.W();y=!0;w.As=!0;break;case Keywords.rg:d=p.W();p.K()&&(v=!0,u=p.M()|0,0<=u&&100>=u&&(w.kl=u,y=!0));break;case Keywords.Uv:d=p.W();p.K()&&(v=!0,u=p.M()|
0,0<=u&&100>=u&&(w.ll=u,y=!0));break;case Keywords.bw:d=p.W();p.K()&&(v=!0,u=p.M()|0,0<=u&&100>=u&&(w.Mm=u,y=!0));break;default:this.RN(d)&&(d=p.W(),p.K()&&(v=!0,u=p.M()|0,0<=u&&100>=u&&(this.KM(w,u),y=!0)))}break;case Keywords.YA:y=w.fw=!0;break;case Keywords.VA:w.cw=p.W();y=w.UA=!0;break;case Keywords.Gh:d=p.Ha();switch(d){case Keywords.wf:x.yl&&this.xi(x.Vh,Keywords.Gh,Keywords.wf,r);x.Vh=!0;x.yl=!0;d=p.W();break;case Keywords.yf:x.zl&&this.xi(x.Yh,Keywords.Gh,Keywords.yf,r);x.Yh=!0;x.zl=!0;d=
p.W();break;case Keywords.Xd:x.TC&&this.xi(x.$h,Keywords.Gh,Keywords.Xd,r);x.$h=!0;x.mt=!0;d=p.W();break;case Keywords.rg:x.yl&&this.xi(x.Vh,Keywords.Gh,Keywords.wf,r);x.zl&&this.xi(x.Yh,Keywords.Gh,Keywords.yf,r);x.TC&&this.xi(x.$h,Keywords.Gh,Keywords.Xd,r);x.Vh=!0;x.yl=!0;x.Yh=!0;x.zl=!0;x.$h=!0;x.mt=!0;d=p.W();break;default:this.co(p,r,Keywords.Gh,"argument",Keywords.rg+", "+Keywords.wf+", "+Keywords.yf+" or "+Keywords.Xd)}y=!0;break;case Keywords.Wi:d=p.Ha();switch(d){case Keywords.wf:x.yl&&
this.xi(x.Vh,Keywords.Wi,Keywords.wf,r);x.Vh=!1;x.yl=!0;d=p.W();break;case Keywords.yf:x.zl&&this.xi(x.Yh,Keywords.Wi,Keywords.yf,r);x.Yh=!1;x.zl=!0;d=p.W();break;case Keywords.Xd:x.TC&&this.xi(x.$h,Keywords.Wi,Keywords.Xd,r);x.$h=!1;x.mt=!0;d=p.W();break;case Keywords.rg:x.yl&&this.xi(x.Vh,Keywords.Wi,Keywords.wf,r);x.zl&&this.xi(x.Yh,Keywords.Wi,Keywords.yf,r);x.TC&&this.xi(x.$h,Keywords.Wi,Keywords.Xd,r);x.Vh=!1;x.yl=!0;x.Yh=!1;x.zl=!0;x.$h=!1;x.mt=!0;d=p.W();break;default:this.co(p,r,Keywords.Wi,
"argument",Keywords.rg+", "+Keywords.wf+", "+Keywords.yf+" or "+Keywords.Xd)}y=!0;break;case Keywords.Nv:C=!0;w.X.add(x);x=w.X.gp();x.Fh=!0;d=p.Ha();d===Keywords.nc&&(d=p.W(),-1!==w.An&&(r[r.length]=[Keywords.Nv+" "+Keywords.nc,"overrides previous initial POI"]),w.An=w.X.uc.length);w.xI();y=!0;break;case Keywords.Os:p.K()&&(v=!0,u=p.M()|0,0<=u&&(A||(A=!0),0<u&&(w.X.add(x),x=w.X.gp()),x.fc=u,y=x.Ps=!0));break;case Keywords.Fo:p.K()?(v=!0,u=p.M()|0,u>=ViewConstants.Zn&&u<=ViewConstants.Bg&&(!x.Gi||
w.Jr||fb||(r[r.length]=[Keywords.Fo+" "+u,"overwrites "+x.step]),x.step=u,x.Gi=!0,fb=w.Jr=!1,y=!0)):(d=p.Ha(),d===Keywords.nc&&(d=p.W(),w.X.Jd(Keywords.Fo,x,r,w.Jr),y=w.Jr=!0));break;case Keywords.BA:p.K()&&(v=!0,u=p.M(),0<=u&&(A||(A=!0),w.X.add(x),x=w.X.gp(),u<ViewConstants.vG&&(u=ViewConstants.vG),x.ed=u,y=x.DG=!0));break;case Keywords.Bq:p.K()&&(v=!0,u=p.M()|0,w.zd||(-1===w.Se||gb||(r[r.length]=[Keywords.Bq+" "+u,"overwrites "+w.Se]),w.Se=u),gb=!1,y=!0);break;case Keywords.qp:p.K()&&(v=!0,u=p.M()|
0,w.zd||(-1===w.eh||hb||(r[r.length]=[Keywords.qp+" "+u,"overwrites "+w.eh]),w.eh=u),hb=!1,y=!0);break;case Keywords.vs:p.K()&&(v=!0,u=p.M()|0,-1===w.Nf||ib||(r[r.length]=[Keywords.vs+" "+u,"overwrites "+w.Nf]),w.Nf=u,ib=!1,y=!0);break;case Keywords.us:p.K()&&(v=!0,u=p.M()|0,-1===w.zi||jb||(r[r.length]=[Keywords.us+" "+u,"overwrites "+w.zi]),w.zi=u,jb=!1,y=!0);break;default:r[r.length]=[c,"unknown or misspelt command"],y=!0}y||(v?r[r.length]=[c+" "+u,"argument out of range"]:this.co(p,r,c,"argument",
Ga))}""!==c&&(c=p.W())}m&&(r[r.length]=[Keywords.wd+q,"unterminated string"]);A&&w.ie&&(B=w.No?Keywords.Qo:w.Ro?Keywords.$s:Keywords.at,r[r.length]=[B,"can not be used with Waypoints"],w.ie=!1,w.No=!1,w.Ro=!1);w.No||!w.ie&&!w.Ro||(w.Ro&&(0<w.g.Hf&&(Ea*=w.g.Hf),x.gb=Ea),w.Oo=ya,w.en=Ca,w.fn=ya,w.Po=Ca);if(A||C){w.X.add(x);x=w.X.jr();A?w.Vc=!0:-1!==w.An&&(w.Qg=w.An,z=w.X.uc[w.An],z.Sf&&(x.Sf=z.Sf,x.x=z.x),z.xf&&(x.xf=z.xf,x.y=z.y),z.Wd&&(x.Wd=z.Wd,x.zoom=z.zoom),z.th&&(x.th=z.th,x.angle=z.angle),z.ki&&
(x.ki=z.ki,x.depth=z.depth),z.wi&&(x.wi=z.wi,x.V=z.V),z.ng&&(x.ng=z.ng,x.Fc=z.Fc),z.oi&&(x.oi=z.oi,x.Cc=z.Cc),z.Gi&&(x.Gi=z.Gi,x.step=z.step),z.BG&&(x.BG=z.BG,x.stop=z.stop),z.yE&&(x.yE=z.yE,x.loop=z.loop));if(A){for(Ia=0;Ia<w.X.Ua.length;Ia+=1)x=w.X.Ua[Ia],x.lf&&(x.Sf||x.xf||x.Wd)&&(q="",x.Sf?(q="X "+x.x,x.xf?q=x.Wd?q+(", Y "+x.y+" and ZOOM "+x.zoom):q+(" and Y "+x.y):x.Wd&&(q+=" and ZOOM "+x.zoom)):x.xf?(q="Y "+x.y,x.Wd&&(q+=" and ZOOM "+x.zoom)):x.Wd&&(q="ZOOM "+x.zoom),r[r.length]=[Keywords.Yt,
"overwrites "+q]);x=w.X.jr()}C&&x.Yg===WaypointConstants.play&&w.Aa&&(w.ef=!0)}x.lf&&(w.zc=!0);x.Sf&&(w.g.Da=w.g.width/2-x.x);x.xf&&(w.g.wa=w.g.height/2-x.y);x.Wd&&(w.g.zoom=x.zoom);x.th&&(w.g.angle=x.angle);x.ki&&(w.g.ue=x.depth/ViewConstants.Bn+ViewConstants.zv);x.wi&&(w.g.V=x.V);x.ng&&(w.QB=x.Fc);x.oi&&(w.wg=x.Cc);x.Gi&&(w.Fa=x.step);x.MB&&w.o.notification.notify(x.Rf,15,1E3,15,!1);w.ac=x.ac;w.gb=x.gb;x.Wd&&(w.vy=!0);x.Sf&&(w.ty=!0);x.xf&&(w.uy=!0);x.$k&&(w.g.jc=x.jd);x.Aw&&(w.Di=x.Wm);for(Ia=
0;Ia<h;Ia+=1)-1!==w.bc[Ia]&&(b+=1);if(0<b){w.Rt=!0;for(Ia=0;Ia<h;Ia+=1)w.D.Eo[Ia]?-1===w.bc[Ia]?(w.Rt=!1,w.zn[Ia]=ViewConstants.zG):w.zn[Ia]=ViewConstants.yG:w.zn[Ia]=ViewConstants.EB;w.cp=w.Rt?"(custom)":w.cp+" (custom*)"}else w.bc=null;w.zh&&(this.fN(w),w.wN&&(w.wN.upper=w.g.Re));w.Ta&&(B="not possible due to "+Keywords.jt,w.ef&&(r[r.length]=[Keywords.$t,B],w.ef=!1),-1!==w.ac&&(r[r.length]=[Keywords.Kj+" "+w.ac,B]),-1!==w.gb&&(r[r.length]=[Keywords.lj+" "+w.gb,B]));0!==w.Mb&&w.hb+ViewConstants.Bg+
2*Math.abs(w.Mb)>=w.g.ka&&(r[r.length]=[Keywords.Sw+" "+w.Mb,"pattern does not fit on grid at view offset"],w.Mb=0);0!==w.Nb&&w.lb+ViewConstants.Bg+2*Math.abs(w.Nb)>=w.g.ka&&(r[r.length]=[Keywords.Tw+" "+w.Nb,"pattern does not fit on grid at view offset"],w.Nb=0);w.$z=r.length}""!==w.Li&&(w.Li=this.tq(w,w.Li));w.zc&&(w.Xt=!0);w.ad&&w.Pc&&(r[r.length]=[Keywords.Ru,"not valid with "+Keywords.Fv],w.ad=!1);var Ta=0,Xa=!1;-1!==w.Se&&(Ta=ViewConstants.Lc,w.Se>=ViewConstants.UE&&w.Se<Ta&&(w.Se=Ta),w.Sc&&
(Ta=ViewConstants.cL),w.Se<Ta||w.Se>w.rk)&&(r[r.length]=[Keywords.Bq+" "+w.Se,"argument out of range"],Xa=!0);-1!==w.eh&&(Ta=ViewConstants.qj,w.Sc&&(Ta=ViewConstants.bL),w.eh<Ta||w.eh>ViewConstants.xv)&&(r[r.length]=[Keywords.qp+" "+w.eh,"argument out of range"],Xa=!0);w.zd&&(-1!==w.Nf&&(w.Nf>=ViewConstants.UE&&w.Nf<ViewConstants.Lc&&(w.Nf=ViewConstants.Lc),w.Nf<ViewConstants.Lc||w.Nf>w.rk)&&(r[r.length]=[Keywords.vs+" "+w.Nf,"argument out of range"],w.Nf=-1,Xa=!0),-1!==w.zi&&(w.zi<ViewConstants.qj||
w.zi>ViewConstants.xv)&&(r[r.length]=[Keywords.us+" "+w.zi,"argument out of range"],w.zi=-1,Xa=!0));if(Xa||r.length)-1!==w.Se&&w.Se<ViewConstants.Lc&&(w.Se=ViewConstants.Lc),-1!==w.eh&&w.eh<ViewConstants.vm&&(w.eh=ViewConstants.vm),w.Sc=!1;w.u.l=w.Sc;w.o.Sc=w.Sc;w.o.il=w.il;w.Sc&&(w.ef=!1,w.rb=!1,w.Mj=!1,w.ad=!1,w.Wo([!1],!0,w),w.KC([!1],!0,w),w.Qw([!1],!0,w),w.kd=!1,w.si=!1);w.Wz&&(w.element.style="display:none",w.element.parentNode&&w.element.parentNode.parentNode&&w.element.parentNode.parentNode.className===
DocConfig.Iu&&(w.element.parentNode.parentNode.style="display:none;"));t&&w.YI();w.X.kN()}}}(),function(){function w(b,l,e,t,x){this.name=b;this.pattern=l;this.BM=e;this.width=t;this.height=x}function g(b){var l;this.Dv=this.er=this.ow=this.UB=this.Cr=this.Ou=!1;this.D=new PatternManager;this.zj=this.On=!1;this.Bz="";this.bg=!1;this.pv=this.nv=this.Cp=this.Qr=this.Pr=this.Ap=this.ov=this.Nr=this.Ep=this.Dp=this.Or=this.Cb=this.Bp="";this.dc=!1;this.Ar=this.vr=this.gv=this.yr=this.zr=this.jv=this.hv=
this.fv=this.ev=this.xr=this.Br=this.Oi=this.Uj=this.Qj=this.Vj=this.Si=this.Tj=this.Sj=this.Rj=this.Ri=this.Pi=this.Qi=this.Cf=this.wr=null;this.vf=1;this.Zv=this.ew=r.aq;this.Xv=50;this.dw=this.aw=this.As=!1;this.Mm=this.ll=this.kl=-1;this.Kh=[];this.xj=[];this.NC=!1;this.dr=this.Xy=this.Rx=this.iz=this.Cx=null;this.rr=18;this.rp="18px "+r.TD;this.jm="18px "+r.AC;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.Kl=!0;this.Cw=this.wh=this.Ck=this.Ak=this.Dk=this.Bk=this.Gj=
!1;this.Lf=[];for(l=0;10>l;l+=1)this.Lf[l]=null;this.yd=!1;this.rf=this.sf=this.tg=0;this.Fg=r.Rp;this.rh=this.Kq=!1;this.yb=null;this.ld=!1;this.lp=new BoundingBox(0,0,0,0);this.Eb=new BoundingBox(0,0,0,0);this.um=new BoundingBox(0,0,0,0);this.Tb=new Random;this.Tb.nf(Date.now().toString());this.yj=50;this.rG=this.qG=0;this.kk=this.xb=!1;this.Cm=2;this.Xf=[];this.eo=this.wc=0;this.yn=[];this.gd=0;this.Zd=[];this.Gd=0;this.ua=[];this.ua[r.bt]=[1,0,0,1];this.ua[r.dC]=[-1,0,0,-1];this.ua[r.eC]=[-1,
0,0,1];this.ua[r.fC]=[1,0,0,-1];this.ua[r.iC]=[0,1,1,0];this.ua[r.jC]=[0,-1,-1,0];this.ua[r.hC]=[0,-1,1,0];this.ua[r.gC]=[0,1,-1,0];this.xk=[];this.cq=[];this.Aj=[];this.Eg=[];this.$c=r.gs;this.Qp=0;this.es=-1;this.Pp=[];this.eA=this.dA=this.fs=0;this.mk=!1;this.fl=0;this.mv=!1;this.fd=this.Fm=this.Am=this.Em=this.Bm=0;this.lv=!1;this.Y=null;this.Vo=0;this.Ok=!0;this.hh=0;this.Df=1;this.Um=this.lz=this.tk=this.rs=!1;this.Hh=7;this.Co=!0;this.gk=this.fk=0;this.Hn=!1;this.Ti=this.GE=this.O=this.Ur=
63;this.Pn=this.mm=this.Hr=this.Jr=this.dl=this.Ir=this.Gr=this.Fr=this.Qn=this.Lr=this.Kr=this.Wz=!1;this.fg=this.wb=0;this.Ja=null;this.Uc=this.Tc=0;this.MC=!1;this.An=this.Ek=this.Fk=-1;this.cw=Date.now().toString();this.fw=this.UA=!1;this.im=r.xl;this.Ci=!0;this.ad=!1;this.$g=!0;this.vd=r.ND;this.oE=this.Pc=!1;this.element=b;this.kd=!1;this.Po=this.en=this.fn=this.Oo=this.nu=this.ku=this.mu=this.lu=0;this.tf=this.Ro=this.ie=this.No=!1;this.op=!0;this.Zk=!1;this.ni=0;this.Yk=!1;this.Km=this.Jm=
0;this.ah=!1;this.C="";this.Nb=this.Mb=0;this.Gy=this.Fy=this.fr=this.Jn=this.In=this.Vk=this.CB=this.BB=this.Xm=this.Do=this.Zm=this.Ym=this.Qg=-1;this.sv=this.Gu=!1;this.Qs=this.kh=-1;this.Nq=this.wn=!1;this.iu=-1;this.Ho=this.cn=null;this.Rs="";this.Io=this.Gk=0;this.uN=32768;this.gu=!1;this.$x=this.by=0;this.Zx=!0;this.Xt=this.zc=this.ak=!1;this.nn=0;this.pI=.01;this.Ei=this.ti=!1;this.Sk=this.yh=null;this.ej=r.ej;this.Sl=[96,96,96];this.Tl=[128,128,128];this.Wl=[0,255,0];this.Vl=[255,0,0];this.Rl=
[255,255,0];this.Jw=null;this.Li="";this.vj=!0;this.Di=this.Aa=this.xe=!1;this.sl=null;this.zd=!1;this.ca=1;this.tj=this.uj=0;this.Id=this.mz=!1;this.X=new WaypointManager;this.Rr="";this.Cz=-1;this.Ag=this.Vc=!1;this.Fa=1;this.Ky=this.$z=this.fo=0;this.rk=r.ZK;this.zi=this.Nf=this.eh=this.Se=this.cj=-1;this.ks=this.Tp="";this.ls=this.Hm=this.lb=this.hb=0;this.no=null;this.Gm=this.pd=this.zb=this.sj="";this.pu=this.zh=!1;this.ra=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1];this.JD=this.ID=-1;this.hy=r.vE;this.gy=r.Vt;this.iy=r.NF;this.cp="";this.AI=0;this.Je=[];this.Rt=!1;this.bc=null;this.zn=[];this.qd=[];this.ic=1;this.la=0;this.Ks=!1;this.Jp=100;this.od=10;this.ea=[64,200,290,530,700];this.Mg=!1;this.ia=[];this.Zu=[];this.$u=[];this.ac=-1;this.We=!1;this.gb=-1;this.Xu=this.sg=this.ef=this.md=this.il=this.Ev=this.Sc=this.di=this.si=this.Ta=this.Fe=this.Qc=!1;this.GB=this.Ny=this.FA=-1;this.g=null;this.elapsedTime=0;this.dJ=this.fJ=512;this.J=
640;this.H=512;this.Np=640;this.Mp=512;this.Pv=!1;this.Xj=640;this.Vp=!0;this.jh=this.zB=this.yi=this.cb=this.Wp=!1;this.Tm=this.dn=this.Ii=this.Rc=this.fp=this.so=this.Oj=this.Yd=this.Td=this.lc=null;this.G=[];this.s=this.Cd=this.sq=this.nq=this.ms=this.Jh=this.Wa=this.If=this.ag=this.$f=this.Jf=this.dg=this.eg=this.He=this.oe=this.cg=this.me=this.ne=this.mo=this.wk=this.xd=this.$=this.lo=this.Ad=this.Ab=this.dh=this.Xl=this.Xc=this.ek=this.dk=this.Im=this.sd=this.Pm=this.Pj=this.Gn=this.$d=this.Yf=
this.Kn=this.Ws=this.np=this.Yr=this.xs=this.pq=this.up=this.qk=this.cr=this.js=this.Gl=this.Lh=this.Oh=this.vp=this.bq=this.Yj=this.Nk=this.Zj=this.Mk=this.Dr=this.wp=this.Sh=this.Ni=this.fm=this.Jq=this.Eh=this.$p=this.mn=this.Zo=this.$o=this.Xr=this.ws=this.zp=this.qm=this.U=this.hg=this.Wk=this.br=this.on=this.Nl=this.ke=this.le=this.gg=this.Oq=this.Xn=this.pi=this.Vi=this.ja=this.af=this.rd=this.$e=this.bf=this.hf=this.Ye=this.ff=this.cf=this.ai=this.ph=this.Gg=this.bi=this.bl=this.an=this.sm=
this.mh=this.pn=this.Bb=this.Vb=this.Gb=this.ob=this.Uh=this.Zh=this.Wh=this.Th=this.Wj=this.bb=this.Ef=this.pc=this.Gf=this.Yb=this.Ff=this.Fp=this.Lp=this.ml=this.zs=this.fq=this.mf=this.ee=this.hd=this.yc=this.Hd=this.qh=this.am=this.em=this.Ll=this.cm=null;this.vi=this.Un=-1;this.wheelDelta=0;this.Dc=this.Zc=this.Om=null;this.wg=60;this.u=this.o=null;this.bj=this.Me=this.jp=0;this.Du=this.PD=1;this.sy=60;this.kp=this.Cu=1;this.ry=.1;this.QB=-1;this.Ej=this.Te=this.mB=0;this.jq=1;this.vl=this.rb=
this.uy=this.ty=this.vy=!1;this.Ee=r.OD;this.hm=this.om=this.SB=this.lm=0;this.Iw=this.Mj=!1;this.Hs=this.WB=0;this.de=this.mg=!1;this.ns=-1}function h(b,l,e,t,x){var z,A=l.parentNode,C=null;for(z=0;z<B.Fd.length&&!C;)B.Fd[z][0].tabIndex===l.tabIndex?C=B.Fd[z][1]:z+=1;C||(C=new g(x),C.zd=t,v.Sr&&!t&&(C.rk=e&-8,C.rk<r.Lc&&(C.rk=r.Lc)),l.tabIndex=B.Fd.length+1,C.$n(l),"none"===A.style.display&&(B.Qv=new PopupWindow(A,C)),B.Fd[B.Fd.length]=[l,C,B.Qv]);t||C.Nh(b,!1)}function p(b){b=b.parentNode;for(var l=
!1;!l;)"div"!==b.localName||b.className!==v.Hu&&b.className!==v.Iu||(l=!0),l||(b=b.parentNode);return b}function k(){var b=B.zw(),l=b[1],e=b[2];b[0].parentNode.style.display="none";e.Dn=!1;l.cb&&(l.Ab.current=l.Ed(r.Qe,!0,l))}function a(b){k();b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function c(b){b=b.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,
"").trim();b=b.replace(/\n[ ]+/g,"\n");return b=b.replace(/\n\t+/g,"\n")}function d(b){var l=p(b).getElementsByTagName(v.Up)[0];b=B.Fd[0];l.value&&(l.innerHTML=l.value);l=c(l);b[1].IC(b[1]);b[1].o.notification.clear(!0,!0);b[1].o.notification.clear(!1,!0);b[1].Nh(l,!1)}function f(b){var l=28,e=18,t=B.zw()[2];b.dr.style.transform="scale("+b.vf+","+b.vf+")";b.dr.style.transformOrigin="top left";b.resize();t.Dn=!0;t.gG(t);1!==b.u.oh&&(l=l*b.u.oh|0,e=e*b.u.oh|0,b.Cx.style.height=l+"px",b.Cx.style.fontSize=
e+"px",b.Xy.style.height=l+"px",b.Xy.style.fontSize=e+"px",b.Rx.style.height=l+"px",b.Rx.style.fontSize=e+"px",b.iz.style.height=l+"px",b.iz.style.lineHeight=l+"px");b.Dc.canvas.focus();b.Dc.canvas.blur();return b.Dv=!1}function n(b){var l=p(b);l=l.getElementsByTagName(v.Up)[0];b=c(l);var e=B.zw(),t;if(e)(t=e[2])&&t.reset(),t=e[1],t.element=l,t.IC(t);else{e=document.createElement("canvas");e.width=r.Lc;e.height=r.vm+80;e.style.display="block";var x=document.createElement("a");x.setAttribute("href",
"#");x.innerHTML="&nbsp;X&nbsp;";x.style.textDecoration="none";x.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";x.style.color="#FFFFFF";x.style.backgroundColor="#C75050";x.style.cssFloat="right";x.style.height="28px";x.style.fontSize="18px";var z=document.createElement("a");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";z.style.visibility="hidden";z.style.cssFloat="left";z.style.height="28px";z.style.fontSize=
"18px";var A=document.createElement("div");A.style.textAlign="center";A.style.color="rgb(83,100,130)";A.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";A.style.fontSize="18px";A.style.height="28px";var C=document.createTextNode("LifeViewer");A.style.cursor="default";A.appendChild(C);registerEvent(x,"click",a,!1);registerEvent(x,"touchend",a,!1);var G=document.createElement("div");G.style.display="none";G.style.position="fixed";G.style.border="1px solid rgb(128,128,128)";G.style.zIndex="101";
G.style.left="2048px";G.style.top="0px";G.style.textAlign="right";G.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";G.style.margin="1px";var D=document.createElement("div");D.className=v.Iu;D.style.backgroundColor="#FFFFFF";D.style.height="28px";D.style.lineHeight="28px";D.style.margin="0px";D.style.border="0px";D.appendChild(z);D.appendChild(x);D.appendChild(A);G.appendChild(D);G.appendChild(e);document.body.appendChild(G);h(b,e,r.Lc,!0,l);B.AB=B.Fd.length-1;e=B.zw();
t=e[1];t.Jw=C;t.Cx=x;t.Xy=z;t.Rx=A;t.iz=D;t.dr=G}l=e[0].parentNode;""!==l.style.display&&(l.style.display="");t.J=r.Lc;t.H=r.vm+80;t.resize();t.o.notification.clear(!0,!0);t.o.notification.clear(!1,!0);t.Dv=!0;t.Nh(b,!0);t.Dv||f(t)}function m(b,l){var e=l[0],t=l[1];l=l[2];if(b&&b.ve){if(null!==t){t=t.getElementsByTagName("a")[0];var x=document.createElement("a");x.setAttribute("href","#");x.innerHTML="Show in Viewer";registerEvent(x,"click",u,!1);t?(l=document.createTextNode(" / "),t.parentNode.appendChild(l),
t.parentNode.appendChild(x)):l.parentNode.appendChild(x)}v.Va&&(B.ye[B.ye.length]=new w(b.name,e,b.I+b.ap,b.width,b.height))}}function q(b,l,e,t,x){l=e.create("",b,l,m,null,[b,t,x],!1,null);e.tv||m(l,[b,t,x])}function u(b){n(this);b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function y(){var b=document.getElementsByTagName("div"),l,e;var t=new Allocator;var x=new PatternManager;var z=document.getElementsByTagName("meta");for(l=0;l<z.length;l+=1){var A=z[l];if(A.name===v.tagName&&
(v.Yy=!1,v.Sr=!1,A=A.content,(e=A.match(/\S+/g))&&2<=e.length&&6>=e.length))for(v.Hu=e[0],v.Up=e[1],A=2;A<e.length;A+=1)switch(e[A]){case v.xK:v.Yy=!0;break;case v.UK:v.Sr=!0;break;case v.jL:v.Va=!0;break;case v.RJ:v.fullScreen=!0;break;default:if("/"===e[A][0])v.bB=e[A];else if("."===e[A][0])v.mG=e[A];else{var C=e[A];!isNaN(parseFloat(C))&&isFinite(Number(C))&&(v.Kv=parseFloat(C)|0)}}}AliasManager.nf();for(z=0;z<b.length;z+=1)(A=b[z],A.className===v.Hu)?(l=A.getElementsByTagName(v.Up)[0],A=A.getElementsByTagName("canvas")[0],
(e=l.getElementsByTagName(v.Up)[0])&&(l=e),typedArrays&&l&&(e=c(l),v.Va&&q(e,t,x,null,null),A&&A.getContext?(-1<v.Kv&&l.clientHeight>v.Kv&&(l.style.height=v.Kv+"px"),h(e,A,l.offsetWidth,!1,l)):v.Yy&&A&&(A.style.display="none"))):typedArrays&&A.className===v.Iu&&A.parentNode.className!==v.Hu&&(l=A.getElementsByTagName(v.Up)[0])&&(e=c(l),q(e,t,x,A,l));b=document.getElementsByTagName("a");for(z=0;z<b.length;z+=1)t=b[z],""!==t.accessKey&&-1!==r.fI.indexOf(t.accessKey)&&(t.accessKey="")}var v={tagName:"LifeViewer",
RJ:"fullscreen",xK:"hide",jL:"multi",UK:"limit",Hu:"rle",Up:"code",Kv:37,Yy:!0,fullScreen:!1,Sr:!1,Va:!1,Iu:"codebox",bB:"",mG:"",ye:[]},r={fI:"0123456789rtyopasghjklxcbn",Xk:0,Qu:1,SD:2,aq:64,WE:1,OE:1024,VE:1,NE:1024,Cv:1,wv:100,xN:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],Ts:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],Rp:0,AF:1,BF:2,yF:3,DF:4,CF:5,EF:6,FF:7,zF:8,fF:9,xL:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),Mu:15,pL:5,bk:1E8,bt:0,dC:1,
eC:2,fC:3,iC:4,jC:5,hC:6,gC:7,xF:0,jA:1,lF:2,uF:3,mF:4,wF:5,vA:6,gs:7,qF:8,vF:9,sF:10,nF:11,rF:12,oF:13,pF:14,tF:15,Iv:3,QG:[1,3,7,6],lN:[0,1],mN:[0,1],zK:[0,1,0,1,0,1,0],AK:[0,1,2,3,4,5,6],sN:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],rN:[0,1,2,3,4,5,6,3,4,1,0,1,0,1,2,1,2,1,2,1,2,1,2,1,2,1],he:Math.sqrt(3),OI:65536,RI:500,SI:17,fE:13750737,gE:15066597,Uu:7368816,Vu:5263440,vG:.016,hN:16,eF:16384,ND:.7,Gv:1E4,PM:"Script errors",Xg:-2,Vg:2,XE:2,PE:4,OD:4,UG:16.7,SE:9,KE:14,eJ:13,ur:null,
RE:1,IE:16,MD:3,Sg:0,aj:1,qu:2,ji:3,Rq:4,Sq:5,Tq:6,zu:7,Au:8,ru:9,wu:10,vu:11,uu:12,xu:13,yu:14,tu:15,Uq:16,su:17,ly:18,Yq:19,Wq:20,Zq:21,ar:22,$q:23,Xq:24,Qq:25,Vq:26,ky:27,ny:28,my:29,jy:30,sL:0,tL:1,yK:2,BE:3,FE:4,DE:5,uE:6,Xa:[0,6,2,5,3,4,1],xG:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),sO:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),BL:0,AL:160,IF:10,DA:100,HF:20,OJ:18.5,wG:1E3/60,gO:!1,Nu:1800,FJ:"LifeViewer",oB:"LifeViewer Image",XG:"LifeViewer",Ow:599,WG:"Chris Rowett",
Av:1,uv:10,Pz:0,Hp:1,Qe:2,sk:3,wm:0,Gp:1,xm:2,Ww:1.25,DK:.99,zv:0,JE:10,Bn:10,HE:32,za:.0625,Ya:64,pj:-16,nj:-1,Wg:1,tm:60,Zn:1,Bg:64,TD:"Courier",AC:"Arial",ih:"18px Arial",gh:"14px Arial",xw:"9px Arial",Vt:"rgb(240,255,255)",mI:"rgb(0,0,0)",NF:"rgb(240,255,255)",OF:"rgb(0,0,0)",dD:2,Bv:1,vv:64,lI:.2,vE:"rgb(240,255,255)",RK:"rgb(0,0,0)",QK:18,TE:4,LE:128,PK:"Arial",sp:"rgb(32,255,255)",sr:"#000000",ej:"rgb(255,96,96)",Su:"rgb(128,128,128)",cL:64,bL:64,UE:480,Lc:560,ZK:4096,tK:80,qj:240,xv:4096,
vm:480,RF:560,nt:132,Xw:292,EB:0,yG:1,zG:2,aL:0,WK:16,xl:0,sE:1,pB:2,Er:3,EG:4,vD:5,ZC:6,QE:7,eD:8},B={v:new Allocator,Fd:[],AB:-1,Qv:null,ye:[],zw:function(){var b=null;-1!==this.AB&&(b=this.Fd[this.AB]);return b},XJ:function(b){var l=null;0<=b&&b<this.Fd.length&&(l=this.Fd[b][1]);return l},oO:function(){return this.Fd.length},YN:function(){var b=0,l;for(l=0;l<this.Fd.length;l+=1){var e=this.Fd[l][1];e.cb&&(b+=1)}return b},qM:function(){var b,l=0;for(b=0;b<this.Fd.length;b+=1){var e=this.Fd[b][1];
e.Ab.current=e.Ed(r.Pz,!0,e);e.o.Jg(!0);l+=1}return l},pN:function(){var b,l=0;for(b=0;b<this.Fd.length;b+=1){var e=this.Fd[b][1];e.cb&&!e.Cr&&(e.Ab.current=e.Ed(r.Qe,!0,e),l+=1)}return l},CG:function(b){var l,e=0;for(l=0;l<this.Fd.length;l+=1){var t=this.Fd[l][1];t!==b&&t.cb&&!t.Cr&&(t.Ab.current=t.Ed(r.Qe,!0,t),e+=1)}return e}};g.prototype.ju=function(){var b,l=this.Lf,e=this.tg,t=[];for(b=0;10>b;b+=1){var x=b===e?"current ":"activate ";x+="clipboard";null!==l[b]?(x+=" ("+l[b].width+" x "+l[b].height+
", "+l[b].count+" cell",1!==l[b].count&&(x+="s"),x+=")"):x+=" (empty)";t[b]=x}this.Oq.F=t};g.prototype.xE=function(b){window.confirm("Open last saved pattern?")&&d(b.element)};g.prototype.Wc=function(){var b=1<<r.Mu,l=this.gd>>r.Mu;l===this.yn.length&&(this.yn[l]=this.g.v.P(Int16,b,"View.currentEdit"+l));return this.yn[l]};g.prototype.dd=function(b,l,e){var t=this.g.getState(b,l,!1),x=this.gd,z=r.Mu;var A=x>>z;var C=1<<z,G=C-1,D=this.yn,I=(this.g.width>>1)-(this.hb>>1),F=(this.g.height>>1)-(this.lb>>
1);var E=this.g.i;var H=2<E&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T),N=!1;0<t&&H&&(t=E-t);-1===E&&(E=this.g.Ga?7:2);0>e?e=0:e>=E&&(e=E-1);if(e!==t){if(!this.xe){A>=D.length&&this.Wc();E=D[A];x&=G;H=e<<8|t;if(0<x)if(4<=x){var K=E[x-1];16384<=K?E[x-3]===H&&E[x-2]===l-F&&E[x-4]===b-I-(K-16384)-2&&(E[x-1]+=1,N=!0):E[x-2]===H&&E[x-1]===l-F&&E[x-3]===b-I-1&&(E[x]=16384,x+=1,this.gd+=1,x===C&&this.Wc(),N=!0)}else A=this.gd,K=D[A-1>>z][A-1&G],16384<=K?E[A-3>>z][A-3&G]===H&&E[A-2>>z][A-2&G]===l-F&&E[A-
4>>z][A-4&G]===b-I-(K-16384)-2&&(E[A-1>>z][A-1&G]+=1,N=!0):D[A-2>>z][A-2&G]===H&&D[A-1>>z][A-1&G]===l-F&&D[A-3>>z][A-3&G]===b-I-1&&(E[x]=16384,x+=1,this.gd+=1,x===C&&(E=this.Wc()),N=!0);N||(E[x]=b-I,x+=1,this.gd+=1,x===C&&(E=this.Wc(),x=0),E[x]=e<<8|t,x+=1,this.gd+=1,x===C&&(E=this.Wc(),x=0),E[x]=l-F,this.gd+=1,x+1===C&&this.Wc())}this.cj=-1;return this.g.Fj(b,l,e,!0)}};g.prototype.zA=function(b,l){var e=0,t=(this.g.width>>1)-(this.hb>>1),x=(this.g.height>>1)-(this.lb>>1);if(b)if(l)for(e=b.length;0<
e;){var z=b[e-1];16384<=z&&--e;e-=3;l=b[e]+t;var A=b[e+1]&255;var C=b[e+2]+x;this.g.Fj(l,C,A,!0);if(16384<=z)for(z-=16384;0<=z;)l+=1,this.g.Fj(l,C,A,!0),--z}else for(;e<b.length;)if(l=b[e]+t,A=b[e+1]>>8,C=b[e+2]+x,this.g.Fj(l,C,A,!0),e+=3,z=b[e],16384<=z)for(e+=1,z-=16384;0<=z;)l+=1,this.g.Fj(l,C,A,!0),--z};g.prototype.vB=function(b){for(var l=this.wc-1,e=this.Eb,t=!1;0<=l&&!t;)this.Xf[l].Bh<=b?("advance outside"===this.Xf[l].action&&--l,t=!0):--l;t&&(this.wc=l+1,b=this.wc>=this.eo?this.Xf[this.wc-
1]:this.Xf[this.wc],b.selection?(e.j=b.selection.j,e.m=b.selection.m,e.A=b.selection.A,e.B=b.selection.B,this.xb=!0):this.xb=!1,this.rh=!1,this.ci())};g.prototype.ci=function(){var b=this.wc,l=this.eo,e=this.Xf;if(1<b){var t="undo ";var x=e[b-1];if(null===x.Fn){var z=x.Bh;1<b&&(z=e[b-2].Bh);this.g.counter===z?t+=x.action:(t=1<this.g.counter-z?t+"play":t+"step",t+=" from "+z)}else t=""===x.action?t+"edit":t+x.action;"undo "===t&&(t="undo");this.Oj.F=t+" [Ctrl Z]"}b<l&&(t="redo ",x=e[b],null===x.Fn?
(z=x.Bh,z===this.g.counter?t+=x.action:(t=1<z-this.g.counter?t+"play":t+"step",t+=" to "+z)):t=""===x.action?t+"edit":t+x.action,"redo "===t&&(t="redo"),this.so.F=t+" [Ctrl Y]")};g.prototype.Go=function(b){var l=this.xb?this.Eb:null;return null===b&&null===l?!0:null===b&&null!==l||null!==b&&null===l?!1:b.j===l.j&&b.m===l.m&&b.A===l.A&&b.B===l.B?!0:!1};g.prototype.Bl=function(b,l,e,t){var x=!1;if(0<this.wc){var z=this.Xf[this.wc-1];z.Bh===b&&null===l&&""===e&&this.Go(z.selection)&&(x=!0)}x||(this.Xf[this.wc]=
{Bh:b,Fn:l,action:e,selection:t},this.wc+=1)};g.prototype.ub=function(b){var l=this.g.counter,e=null,t=null,x=this.Eb,z=null,A=r.Mu,C=1<<A,G=C-1;A=this.gd>>A;if(!this.xe){this.cb&&(0<this.wc&&(z=this.Xf[this.wc-1]),z&&z.selection&&(t=new BoundingBox(z.selection.j,z.selection.m,z.selection.A,z.selection.B)),this.Bl(l,e,"",t),t=null);this.xb&&(t=new BoundingBox(x.j,x.m,x.A,x.B));if(0<this.gd){e=this.g.v.P(Int16,this.gd,"View.editCells"+this.wc);for(z=x=0;x<A;)e.set(this.yn[x].slice(),z),x+=1,z+=C;this.gd&
G&&e.set(this.yn[x].slice(0,this.gd&G),z);this.gd=0}this.Bl(l,e,b,t);this.eo=this.wc;this.ci()}};g.prototype.uC=function(b){var l=b.g.counter,e=b.wc,t=b.Eb,x=1,z=!1;if(!b.xe){this.cb&&(b.Ab.current=b.Ed(r.Qe,!0,b),e=b.wc);if(0<e)for(;0<x;){var A=b.Xf[e-1];var C=A.Bh;var G=A.selection;z||"advance outside"!==A.action||(z=!0,x=3);null===A.Fn&&1<e&&(C=b.Xf[e-2].Bh);1<e&&(G=b.Xf[e-2].selection);C<l?(0===C?b.reset(b):b.Es(C),l=b.g.counter):b.zA(A.Fn,!0);G?(t.j=G.j,t.m=G.m,t.A=G.A,t.B=G.B,b.xb=!0):b.xb=
!1;b.rh=!1;"reverse playback"===A.action&&(b.g.cd=!0);--e;b.wc=e;--x}else 0<l&&b.reset(b);this.ci();this.g.Ah();this.g.Ga&&this.g.po()}};g.prototype.aB=function(b){var l=b.g.counter,e=b.Eb,t=1,x=!1;if(!b.xe){for(;0<t&&b.wc<b.eo;){var z=b.Xf[b.wc];x||"advance outside"!==z.action||(x=!0,t=3);z.Bh===l&&null===z.Fn&&""===z.action&&(b.wc+=1);z.Bh>l?(b.JM(z.Bh),l=b.g.counter):b.zA(z.Fn,!1);z.selection?(e.j=z.selection.j,e.m=z.selection.m,e.A=z.selection.A,e.B=z.selection.B,b.xb=!0):b.xb=!1;b.rh=!1;"reverse playback"===
z.action&&(b.g.cd=!0);b.wc+=1;--t}this.ci();this.g.Ah();this.g.Ga&&this.g.po()}};g.prototype.Cl=function(b,l,e,t){var x=[],z,A=this.g.i,C=this.ua[t];t=C[0];var G=C[1],D=C[2];C=C[3];var I=new Pattern("rleToCellList",this.D),F=2<A&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T);b+=" ";if(-1!==this.D.ip(I,b,!1,this.g.v)){if(-1!==this.D.ip(I,b,!0,this.g.v))for(z=0;z<I.height;z+=1){var E=I.Zg[z];for(b=0;b<I.width;b+=1){var H=E[b];F&&0<H&&(H=A-H);x[x.length]=l+b*t+z*G;x[x.length]=e+b*D+z*C;x[x.length]=H}}}else x[0]=
"error";return x};g.prototype.qt=function(b){var l=0,e=b.indexOf("["),t=b.indexOf("]");if(-1!==e&&-1!==t&&e<t&&t===b.length-1){for(e+=1;e<t&&0<=l;){var x=b.charCodeAt(e)-48;0>x||9<x?l=-1:(l=10*l+x,e+=1)}0<l&&(this.mv=!0)}return l};g.prototype.DI=function(b){var l=0>this.Bm?-this.Bm:this.Bm,e=0>this.Em?-this.Em:this.Em;l=2*(l<e?e:l);b<l&&(b=l);return b};g.prototype.CI=function(b){var l=0>this.Am?-this.Am:this.Am,e=0>this.Fm?-this.Fm:this.Fm;l=2*(l<e?e:l);b<l&&(b=l);return b};g.prototype.ZH=function(b,
l){var e,t=!1;for(e=0;!t&&e<this.xk.length;)b===this.xk[e].name?t=!0:e+=1;if(t)for(b=this.xk[e].hJ,e=0;e<b.length;e+=1)l[l.length]=b[e];return t};g.prototype.VH=function(b,l,e){var t,x=!1;if(ScriptParser.Sn(l))b[b.length]=[Keywords.eq+" "+l,"name is reserved word"];else{for(t=0;!x&&t<this.xk.length;)l===this.xk[t].name?x=!0:t+=1;if(x)b[b.length]=[Keywords.eq+" "+l,"name already defined"];else{x=!1;for(t=0;!x&&t<e.length;)1>e[t]?x=!0:t+=1;x?b[b.length]=[Keywords.eq+" "+l+" "+e[t],"invalid delta"]:
(b=e.slice(),this.xk[this.xk.length]={name:l,hJ:b})}}};g.prototype.UH=function(b,l,e,t,x,z){var A,C=!1;if(ScriptParser.Sn(l))b[b.length]=[Keywords.vo+" "+l,"name is reserved word"];else if(-1!==l.indexOf("["))b[b.length]=[Keywords.vo+" "+l,"name can not contain ["];else{for(A=0;!C&&A<this.Aj.length;)l===this.Aj[A].name?C=!0:A+=1;C?b[b.length]=[Keywords.vo+" "+l,"name already defined"]:(e=this.Cl(e,t,x,z),"error"!==e[0]?this.Aj[this.Aj.length]={name:l,cells:e}:b[b.length]=[Keywords.vo+" "+l,"invalid RLE"])}};
g.prototype.YH=function(b,l,e,t,x,z,A,C,G,D,I){var F=0,E=!1,H=[],N=this.ua[I],K=N[0],P=N[1],J=N[2],T=N[3];N=r.bk;var Y=-r.bk,U=r.bk,M=-r.bk,fa=C.indexOf("["),X=C,ia=0,na=[];-1!==fa&&(X=C.substr(0,fa),ia=this.qt(C));for(;F<this.Aj.length&&!E;)this.Aj[F].name===X?(E=!0,H=this.Aj[F].cells.slice()):F+=1;if(E)for(F=0;F<H.length;)C=H[F],I=H[F+1],H[F]=G+C*K+I*P,H[F+1]=D+C*J+I*T,F+=3;else H=this.Cl(C,G,D,I),"error"!==H[0]&&(E=!0);-1===ia&&(E=!1);if(E&&0<H.length){for(F=0;F<H.length;)G=H[F],D=H[F+1],G<N&&
(N=G),G>Y&&(Y=G),D<U&&(U=D),D>M&&(M=D),F+=3;G<this.Bm&&(this.Bm=G);G>this.Em&&(this.Em=G);D<this.Am&&(this.Am=D);D>this.Fm&&(this.Fm=D);K=Array.ga(Uint8,M-U+1,Y-N+1,0,this.g.v,"View.rle"+this.Eg.length);for(F=0;F<H.length;)G=H[F],D=H[F+1],K[D-U][G-N]=H[F+2],F+=3;na[0]=b;for(F=0;F<e.length;F+=1)na[na.length]=na[na.length-1]+e[F];this.Eg[this.Eg.length]={mi:na,end:l,every:t,mode:x,cells:H,map:K,j:N,m:U,width:Y-N+1,height:M-U+1,DJ:ia,deltaX:z,deltaY:A};0<t&&(this.mk=!0);na[na.length-1]>this.fl&&(this.fl=
na[na.length-1])}return E};g.prototype.PL=function(){var b,l,e=this.g.width,t,x=this.g.L;for(b=0;b<this.Eg.length;b+=1){var z=this.Eg[b];var A=z.DJ;if(0<A){var C=z.cells;var G=(e>>1)-(z.width>>1);var D=(e>>1)-(z.height>>1);var I=0;x.j=G;x.A=G+z.width-1;x.m=D;x.B=D+z.height-1;for(this.g.counter=0;I<C.length;)this.g.Fj(G+C[I]-z.j,D+C[I+1]-z.m,C[I+2],!0),I+=3;for(;0<A;)this.g.qf(!1,!0,!0,this.dc),this.g.Ke(),--A;C=[];I=0;var F=t=r.bk;for(l=x.m;l<=x.B;l+=1)for(A=x.j;A<=x.A;A+=1){var E=this.g.getState(A,
l,!1);0!==E&&(C[I]=A-G+z.j,C[I+1]=l-D+z.m,C[I+2]=E,C[I]<t&&(t=C[I]),C[I+1]<F&&(F=C[I+1]),I+=3)}z.cells=C.slice();z.width=x.A-x.j+1;z.height=x.B-x.m+1;z.m=F;z.j=t;z.map=Array.ga(Uint8,z.height,z.width,0,this.g.v,"View.rle"+b);for(I=0;I<C.length;)A=C[I],l=C[I+1],z.map[l-z.m][A-z.j]=C[I+2],I+=3;this.g.Lq(!1)}}this.mv&&this.g.Lq(!1)};g.prototype.Al=function(b){var l=!1,e=this.g.counter;var t=!1;if(this.g.ma||this.g.N)e=this.g.Wf;0!==b.every&&(this.g.ma||this.g.N)&&null!==this.g.Jc&&e<this.g.mj&&(l=!1,
t=!0);if(!t)if(0!==b.every&&e>=b.mi[0]&&0===(e-b.mi[0])%b.every)-1!==b.end&&e>b.end||(l=!0);else for(t=0;t<b.mi.length&&!l;)e===b.mi[t]?l=!0:t+=1;return l};g.prototype.gI=function(){for(var b=!1,l=0,e=this.Eg.length;l<e&&!b;)b=this.Al(this.Eg[l]),l+=1;return b};g.prototype.rj=function(){var b,l=this.g.counter;var e=0;var t=this.g.width,x=this.g.i-1;-2==x&&(x=this.g.Ga?6:1);for(b=0;b<this.Eg.length;b+=1){var z=this.Eg[b];if(this.Al(z)){var A=z.mode;var C=(t>>1)-(this.hb>>1);var G=(t>>1)-(this.lb>>
1);var D=z.map;if(0!==z.every&&(0!==z.deltaX||0!==z.deltaY)){var I=(l-z.mi[0])/z.every;C+=z.deltaX*I;G+=z.deltaY*I}C+=z.j;G+=z.m;for(z=0;z<D.length;z+=1){var F=D[z];if(this.g.N||this.g.fa)for(I=0;I<F.length;I+=1){var E=F[I];var H=this.g.getState(C+I,G+z,!1);switch(A){case r.xF:e=0;break;case r.jA:e=E&H;break;case r.lF:e=E&x-H;break;case r.uF:e=E;break;case r.mF:e=x-E&H;break;case r.wF:e=H;break;case r.vA:e=E^H;break;case r.gs:e=E|H;break;case r.qF:e=x-(E|H);break;case r.vF:e=x-(E^H);break;case r.sF:e=
x-H;break;case r.nF:e=E|x-H;break;case r.rF:e=x-E;break;case r.oF:e=x-E|H;break;case r.pF:e=x-(E&H);break;case r.tF:e=1}0>e?e=0:e>=x&&(e=x-1);this.g.Fj(C+I,G+z,e,!0)}else if(this.g.Ga||this.g.T)for(I=0;I<F.length;I+=1)E=F[I],A===r.Iv?e=E:(e=E&1,H=this.g.getState(C+I,G+z,!1),H&=1,e=0===(A&8>>(e+e|H))?0:1),this.g.Fj(C+I,G+z,e,!0);else for(I=0;I<F.length;I+=1)E=F[I],e=0===E?0:1,H=this.g.getState(C+I,G+z,!1),H=0===H?0:1,e=0===(A&8>>(e+e|H))?0:1,this.g.Fj(C+I,G+z,e,!0)}}}if(this.mk||l<=this.fl)this.g.da=
1;this.kF()};g.prototype.kF=function(){var b,l=this.g.counter;for(b=0;b<this.wc;b+=1)this.Xf[b].Bh===l&&this.zA(this.Xf[b].Fn,!1);this.g.Ah()};g.prototype.Hl=function(b){this.Pn=this.mm=this.Hr=this.Jr=this.dl=this.Ir=this.Gr=this.Fr=this.Qn=this.Lr=this.Kr=b};g.prototype.xI=function(){this.Hl(!1)};g.prototype.VM=function(){this.Hl(!0)};g.prototype.rD=function(){this.Zu=[];this.$u=[]};g.prototype.tI=function(b){var l=b.Zc.toDataURL("image/png"),e;(e=document.getElementById("screenshot"))?e.src=l:
(e=window.open("",r.oB))?(e.width=b.J+20,e.height=b.H+20,e.document.open(),e.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+r.oB+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+b.J+'" height="'+b.H+'" src="'+l+'" alt="'+r.oB+'"/>\n\t</body>\n</html>\n'),e.document.close(),b.o.notification.notify("Image Captured",15,300,15,!0)):b.o.notification.notify("Could not open Image window!",15,r.Nu,15,!0)};g.prototype.MI=function(b){var l=this.g.eb,e=this.g.ba,
t=this.g.Ma,x=this.g.ec,z=b.width,A=b.height,C=this.Tc,G=this.Uc,D=this.g.Fb,I=this.g.Fb>>4,F=this.g.Jb,E=null,H=z,N=A;var K=Math.round(-this.g.Ba/2);var P=Math.floor((this.g.Ba-1)/2);var J=Math.round(-this.g.xa/2);var T=Math.floor((this.g.xa-1)/2);var Y=C-(this.g.width>>1);var U=Y+z-1;var M=G-(this.g.height>>1),fa=M+A-1;A=this.g.i;var X=!0;z=2===A&&this.g.sa;-1!==this.g.ya&&(0!==this.g.Ba&&(Y<K||U>P)&&(X=!1),0!==this.g.xa&&(M<J||fa>T)&&(X=!1),X||(this.MC=!0,0!==this.g.Ba?(C=Math.round(this.g.width/
2)+K,H>P-K+1&&(H=P-K+1)):C=Math.round(this.g.width/2),0!==this.g.xa?(G=Math.round(this.g.height/2)+J,N>T-J+1&&(N=T-J+1)):G=Math.round(this.g.height/2)));b.R&&(0!==(C&1)&&(C+=1),0!==(G&1)&&(G+=1));b.ma&&(0===(C&1)&&--C,0===(G&1)&&--G);for(P=0;P<N;P+=1){Y=b.ve[P];U=l[P+G&F];if(this.md||this.g.N||this.g.fa||this.g.T)for(J=b.Zg[P],E=e[P+G&F],K=0;K<H;K+=1)T=J[K],0<T&&(T+=this.O),E[K+C&D]=T;else if(2<A)for(J=b.Zg[P],E=e[P+G&F],K=0;K<H;K+=1)T=J[K],0<T&&!this.g.Pa&&(T=A+this.O-T),E[K+C&D]=T;z&&(E=e[P+G&F]);
for(K=0;K<H;K+=1)0!==(Y[K>>4]&1<<(~K&15))&&(U[K+C>>4&I]|=1<<(~(K+C)&15),z&&(E[K+C&D]=LifeConstants.Hb))}if(x)for(P=0;P<N;P+=1)for(J=b.Zg[P],l=x[P+G&F],K=0;K<H;K+=1)(T=J[K])&&(l[K+C&D]=r.Xa[T]+128);(this.g.N||this.g.fa||this.g.T)&&t.jb.set(e.jb)};g.prototype.Pu=function(){var b=!1;-1!==this.g.ya&&0!==this.g.Ba&&0!==this.g.xa&&(b=!0);return b};g.prototype.tt=function(){var b=!1;-1===this.g.ya||0!==this.g.Ba&&0!==this.g.xa||(b=!0);return b};g.prototype.Pw=function(b,l,e){b=b[0];l&&(e.vd=b);return[b,
100*b]};g.prototype.HC=function(b,l,e){l&&(e.Fg=b[0]);return[e.Fg,r.xL[e.Fg+.5|0]]};g.prototype.aJ=function(b){b.Ta||(b.Fg=(b.Fg+.5|0)+1,b.Fg>=r.fF&&(b.Fg=0),b.mo.current=b.HC([b.Fg,b.Fg],!0,b))};g.prototype.jH=function(b,l,e){l&&(e.yj=b[0],e.yj<r.Cv&&(e.yj=r.Cv),e.yj>r.wv&&(e.yj=r.wv));return[e.yj,e.yj]};g.prototype.pm=function(b,l,e){l&&(e.hh=(e.g.i-e.Hh)*b[0]|0);b[1]=e.hh+"-"+(e.hh+e.Hh-1);return b};g.prototype.Lk=function(b,l,e){var t=b[0],x=0;l?(e.Ag=!0,e.g.zoom=r.za*Math.pow(r.Ya/r.za,b[0])/
e.g.xc):(t=Math.log(e.g.zoom*e.g.xc/r.za)/Math.log(r.Ya/r.za),0>t?t=0:1<t&&(t=1));this.ie&&!this.tf?x=e.g.zoom*e.g.xc:x=e.g.zoom;x<r.za?x=r.za:x>r.Ya&&(x=r.Ya);1>x&&(x=-1/x);return[t,x]};g.prototype.nI=function(b){var l=b/6E4|0;b=b%6E4/1E3;var e="";0<l&&(e=l+":",10>b&&(e+="0"));return e+=b.toFixed(2)};g.prototype.Tg=function(b,l,e){var t=this.g.zoom,x=this.g.Da,z=this.g.wa,A=6,C=this.um,G=this.Eb;var D=(this.g.width>>1)-(this.hb>>1)+(this.Mb<<1);var I=(this.g.height>>1)-(this.lb>>1)+(this.Nb<<1);
e===r.Qu&&(C.j=G.j+D,C.A=G.A+D,C.j>C.A&&(D=C.A,C.A=C.j,C.j=D),C.m=G.m+I,C.B=G.B+I,C.m>C.B&&(D=C.B,C.B=C.m,C.m=D));this.rb?(e=this.g.Tg(e,C,this.wb,this.J*this.Ee,this.H*this.Ee,r.za,r.Ya,r.Ww,this.hb,this.lb,this.Ta&&this.md,this.ti,this.Ei,this.zc),e[0]/=this.Ee):(G=r.tK,this.Sc&&(G=0),e=this.g.Tg(e,C,this.wb,this.J,this.H-G,r.za,r.Ya,r.Ww,this.hb,this.lb,this.Ta&&this.md,this.ti,this.Ei,this.zc));this.zc&&!b?(24<this.g.zoom&&(A=3),1<this.Fa&&(A=1),this.g.zoom=(this.g.zoom*(A-1)+e[0])/A,this.g.Da=
(this.g.Da*(A-1)+e[1])/A,this.g.wa=(this.g.wa*(A-1)+e[2])/A,b=this.g.zoom>t?this.g.zoom/t-1:t/this.g.zoom-1,x=this.g.Da>x?this.g.Da-x:x-this.g.Da,z=this.g.wa>z?this.g.wa-z:z-this.g.wa,this.nn=b,x>this.nn&&(this.nn=x),z>this.nn&&(this.nn=z),.01>=this.nn&&(this.g.zoom=e[0],this.g.Da=e[1],this.g.wa=e[2])):(this.Ym=this.g.width/2-this.g.Da,this.Zm=this.g.height/2-this.g.wa,this.Do=this.g.zoom,this.Xm=this.g.angle,this.Vk=this.g.width/2-e[1],this.In=this.g.height/2-e[2],this.Jn=e[0],this.fr=this.Xm,this.Qs=
WaypointConstants.Xp,l?this.kh=0:(this.kh=WaypointConstants.Xp,this.vC()));this.yc&&(this.yc.current=this.Lk([this.g.zoom,this.g.zoom],!1,this));this.Hd&&(this.Hd.current=this.ht([this.g.angle,this.g.angle],!1,this))};g.prototype.EI=function(b,l){-1!==this.g.ya&&this.ah?(this.Tc=(this.g.width>>1)+this.Mb,this.Uc=(this.g.height>>1)+this.Nb):(this.Tc=Math.round((this.g.width-b)/2)+this.Mb,this.Uc=Math.round((this.g.height-l)/2)+this.Nb);!this.Ta&&this.g.Ga||!this.D.lk||-1===this.g.i||(this.Ta=this.md=
!0)};g.prototype.Js=function(b){var l=b;0>b&&(b=-b);var e=b+String();1E9<=b?e="1B+":1E8<=b?e=(b/1E6|0)+"M":1E7<=b?e=(Math.floor(Number(b/1E5))/10).toFixed(1)+"M":1E6<=b?e=(Math.floor(Number(b/1E4))/100).toFixed(2)+"M":1E5<=b&&(e=(b/1E3|0)+"K");0>l&&(e="-"+e);return e};g.prototype.Dq=function(b,l){var e=this.o.gl,t=this.o.hl;l=b+l;var x=-this.g.angle,z=Math.sin(x/180*Math.PI);x=Math.cos(x/180*Math.PI);0>l?l=0:1<l&&(l=1);b=r.za*Math.pow(r.Ya/r.za,b);l=r.za*Math.pow(r.Ya/r.za,l);l<r.za?l=r.za:l>r.Ya&&
(l=r.Ya);e-=this.J/2;t-=this.H/2;e=(e-l/b*e)/l;b=(t-l/b*t)/l;this.g.Da-=e*x+b*-z;this.g.wa-=e*z+b*x;l=Math.log(l/r.za)/Math.log(r.Ya/r.za);this.yc.current=this.Lk([l,l],!0,this)};g.prototype.Sx=function(b,l){var e=r.Bg;b.g.sa&&(e=4*b.g.Ia.Xh+1,-1!==b.g.ya&&(e+=2*b.g.Ia.Xh),b.g.Ia.type===this.D.uf&&(e=-1!==b.g.ya?e+b.g.xa/2:e+(b.g.L.B-b.g.L.m+1)/2),e<r.Bg&&(e=r.Bg));for(;b.g.vI(l,e);)b.Me+=b.g.width>>2,b.bj+=b.g.height>>2,b.Te+=b.g.width>>2,b.Ej+=b.g.height>>2,b.g.S&&(b.Me-=b.g.height>>3,b.Te-=b.g.height>>
3),b.Tc+=b.g.width>>2,b.Uc+=b.g.height>>2,l.j+=b.g.width>>2,l.A+=b.g.width>>2,l.m+=b.g.height>>2,l.B+=b.g.height>>2};g.prototype.qD=function(b){var l=!1,e=b.Eb,t=b.um,x=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),z=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);t.j=e.j+x;t.m=e.m+z;t.A=e.A+x;t.B=e.B+z;b.Sx(b,t);x=(b.g.width>>1)-(b.hb>>1);z=(b.g.height>>1)-(b.lb>>1);0>e.j+x&&(e.j=-x,l=!0);e.j+x>=b.g.width&&(e.j=b.g.width-1-x,l=!0);0>e.A+x&&(e.A=-x,l=!0);e.A+x>=b.g.width&&(e.A=b.g.width-1-x,l=!0);0>e.m+z&&(e.m=-z,l=!0);
e.m+z>=b.g.height&&(e.m=b.g.height-1-z,l=!0);0>e.B+z&&(e.B=-z,l=!0);e.B+z>=b.g.height&&(e.B=b.g.height-1-z,l=!0);return l};g.prototype.JN=function(b){b.dh.current=b.Gk/b.Io*100;b.dh.l=!1;b.mf.pe=0};g.prototype.KN=function(b,l){b.dh.current=b.g.counter/l*100;b.dh.l=!1;b.mf.pe=0};g.prototype.IN=function(b){var l=!1,e=!1,t=0;b.Qc||-1===b.gb||(l=!0);!b.Fe&&b.Vc&&(e=!0);if(l||e){var x=!1;if(e&&l)t=b.elapsedTime/b.X.BJ(b.gb);else if(e){if(l=b.X.SK().ed)t=b.elapsedTime/l,1<t&&(x=!0)}else 0<b.gb&&(t=b.g.counter/
b.gb);1<t&&(t=1);b.dh.current=100*t}else x=!0;(b.dh.l=x)?b.mf.pe=b.u.pe:b.mf.pe=0};g.prototype.vJ=function(){this.sl.IK(this.g.width/2-this.g.qe,this.g.height/2-this.g.re,this.g.na,this.g.qb,this.g.J,this.g.H,this.g.ce,this.g.ze[0])};g.prototype.YF=function(){var b=this.u.pf-this.J/2,l=this.u.Cg-this.H/2,e=this.Uc-this.g.wa,t=this.Tc-this.g.Da-(this.g.S?this.g.wa/2:0),x=this.g.zoom;var z=this.g.zoom*(this.g.R?r.he:1);var A=-1;-1!==this.u.pf&&(0!==this.g.qb&&(A=Math.sqrt(b*b+l*l),l=180/Math.PI*Math.atan2(l,
b),l-=this.g.qb,b=A*Math.cos(Math.PI/180*l),l=A*Math.sin(Math.PI/180*l)),z=l/z-e+this.g.Xb,b=b/x+(this.g.S?e/2+z/2:0)-t+this.g.$b,this.g.R&&(b-=this.g.zoom/32*.2),t=b-Math.floor(b),e=z-Math.floor(z),b-=t,z-=e,this.g.R&&(0===(b+this.Tc+z+this.Uc&1)?1<t+e&&(b+=1):1>1-t+e&&(b+=1)),A=this.g.getState(b+this.Tc,z+this.Uc,this.md&&this.Ta));return A};g.prototype.Mw=function(b,l){var e=b-this.J/2,t=l-this.H/2;l=this.Uc-this.g.wa;var x=this.Tc-this.g.Da-(this.g.S?this.g.wa/2:0),z=0,A=0,C=0,G=0,D=this.g.zoom,
I=this.g.zoom*(this.g.R?r.he:1);-1!==b&&(0!==this.g.qb&&(b=Math.sqrt(e*e+t*t),t=180/Math.PI*Math.atan2(t,e),t-=this.g.qb,e=b*Math.cos(Math.PI/180*t),t=b*Math.sin(Math.PI/180*t)),z=t/I-l+this.g.Xb,A=e/D+(this.g.S?l/2+z/2:0)-x+this.g.$b,this.g.R&&(A-=this.g.zoom/32*.2),G=A-Math.floor(A),C=z-Math.floor(z),A-=G,z-=C);this.g.R&&(0===(A+this.Tc+z+this.Uc&1)?1<G+C&&(A+=1):1>1-G+C&&(A+=1));this.fk=A+this.Tc;this.gk=z+this.Uc};g.prototype.Uw=function(b,l,e,t,x){var z=Math.abs(e-b),A=Math.abs(t-l),C=b<e?1:
-1,G=l<t?1:-1,D=z-A,I=this.g.width,F=this.g.height,E;for(E=0|this.dd(b,l,x);I!==this.g.width;)I<<=1,F<<=1,b+=I>>2,l+=I>>2,e+=I>>2,t+=I>>2,this.Me+=I>>2,this.bj+=F>>2,this.Te+=I>>2,this.Ej+=F>>2,this.g.S&&(this.Me-=F>>3,this.Te-=F>>3),this.Tc+=I>>2,this.Uc+=F>>2;for(;b!==e||l!==t;){var H=D+D;H>-A&&(D-=A,b+=C);H<z&&(D+=z,l+=G);for(E|=this.dd(b,l,x);I!==this.g.width;)I<<=1,F<<=1,b+=I>>2,l+=I>>2,e+=I>>2,t+=I>>2,this.Me+=I>>2,this.bj+=F>>2,this.Te+=I>>2,this.Ej+=F>>2,this.g.S&&(this.Me-=F>>3,this.Te-=
F>>3),this.Tc+=I>>2,this.Uc+=F>>2}return E};g.prototype.ZM=function(){var b=170,l=this.Cf.PA,e=this.Cf.Nm,t=this.Br.Nm;this.wr.setPosition(Menu.pa,0,b-48);this.Sh.AH(b-48);this.Cf.setPosition(Menu.pa,e,b);this.Br.setPosition(Menu.pa,t,b);b+=l;this.Qi.setPosition(Menu.pa,e,b);this.xr.setPosition(Menu.pa,t,b);b+=l;"Oscillator"!==this.Cb||this.bg||(this.Oi.setPosition(Menu.pa,e,b),this.vr.setPosition(Menu.pa,t,b),b+=l);this.Pi.setPosition(Menu.pa,e,b);this.ev.setPosition(Menu.pa,t,b);b+=l;"Spaceship"!==
this.Cb||this.g.S||this.g.R||(this.Ri.setPosition(Menu.pa,e,b),this.fv.setPosition(Menu.pa,t,b),b+=l);"Still Life"!==this.Cb&&(this.Rj.setPosition(Menu.pa,e,b),this.hv.setPosition(Menu.pa,t,b),b+=l,this.bg||this.g.S||this.g.R||(this.Qj.setPosition(Menu.pa,e,b),this.gv.setPosition(Menu.pa,t,b),b+=l));"Spaceship"===this.Cb&&(this.g.S||this.g.R||(this.Sj.setPosition(Menu.pa,e,b),this.jv.setPosition(Menu.pa,t,b),b+=l),this.Tj.setPosition(Menu.pa,e,b),this.zr.setPosition(Menu.pa,t,b),b+=l);"Still Life"!==
this.Cb&&(this.Si.setPosition(Menu.pa,e,b),this.yr.setPosition(Menu.pa,t,b),b+=l);"Oscillator"!==this.Cb||this.bg||(this.Uj.setPosition(Menu.pa,e,b),this.Ar.setPosition(Menu.pa,t,b),b+=l,this.Vj.setPosition(Menu.pa,e,b),this.ez.setPosition(Menu.pa,t,b))};g.prototype.MN=function(b){var l=0;this.Zd[this.Gd]=b;this.Gd+=1;this.Gd>=r.pL&&(this.Gd=0);for(b=0;b<this.Zd.length;b+=1)l+=this.Zd[b];l/=this.Zd.length;this.Yd.Za=String(Math.round(l));this.Yd.l=!1};g.prototype.Wx=function(){var b;for(b=0;b<this.Zd.length;b+=
1)this.Zd[b]=0;this.Gd=0;this.Yd.l=!0};g.prototype.eN=function(){var b=this.u.pf-this.J/2,l=this.u.Cg-this.H/2,e=this.Uc-this.g.wa,t=this.Tc-this.g.Da-(this.g.S?this.g.wa/2:0),x=this.g.zoom,z=this.g.zoom*(this.g.R?r.he:1);var A=9999<this.g.ka?99999:9999;if(-1===this.u.pf)this.Pj.Za="",this.Pj.l=!this.jh;else{if(0!==this.g.qb){var C=Math.sqrt(b*b+l*l);l=180/Math.PI*Math.atan2(l,b);l-=this.g.qb;b=C*Math.cos(Math.PI/180*l);l=C*Math.sin(Math.PI/180*l)}z=l/z-e+this.g.Xb;b=b/x+(this.g.S?e/2+z/2:0)-t+this.g.$b;
this.g.R&&(b-=this.g.zoom/32*.2);t=b-Math.floor(b);e=z-Math.floor(z);b-=t;z-=e;this.g.R&&(0===(b+this.Tc+z+this.Uc&1)?1<t+e&&(b+=1):1>1-t+e&&(b+=1));e=this.g.getState(b+this.Tc,z+this.Uc,this.md&&this.Ta);b+=this.Mb;z+=this.Nb;-1===this.g.ya||this.ah||(b-=Math.floor((-1===this.Fk?this.hb:this.Fk)/2),z-=Math.floor((-1===this.Ek?this.lb:this.Ek)/2));b=b<-A||b>A?Number(b/1E3).toFixed(1)+"K":String(b);A=z<-A||z>A?Number(z/1E3).toFixed(1)+"K":String(z);this.Pj.Za=b+","+A+"="+e;this.Pj.l=!1}this.Pj.enabled=
this.jh||!this.cb&&-1!==this.u.pf?this.la||this.ic||0===this.hb?!1:!0:!1;!this.xb&&!this.kk||this.la&&!this.ic?this.Pm.enabled=!1:(this.Pm.enabled=!0,b=this.Eb.A>this.Eb.j?this.Eb.A-this.Eb.j+1:this.Eb.j-this.Eb.A+1,z=this.Eb.B>this.Eb.m?this.Eb.B-this.Eb.m+1:this.Eb.m-this.Eb.B+1,this.Pm.Za=b+" x "+z)};g.prototype.VL=function(b){if(!this.Sc&&!this.rb)if(0<this.la)0<b?this.tw(this,b/125*3):this.sw(this,-b/125*3);else if(0<this.ic)0<b?this.rw(this,b/125*3):this.qw(this,-b/125*3);else if(!this.Id){var l=
this.yc.current[0];this.Dq(l,b/125*.05)}};g.prototype.DN=function(b){var l=b.g.counter,e=" ";if(b.g.ma||b.g.N)l=b.g.Wf;b.Zk?(0>l&&(e=""),b.mf.lower[0]="+"+e+b.Js(l),b.mf.F=["toggle generation statistics [G]\ngeneration +"+l]):(0>l+b.ni&&(e=""),b.mf.lower[0]="T"+e+b.Js(l+b.ni),b.mf.F=["toggle generation statistics [G]\ngeneration "+(l+b.ni)]);b.g.ma?(b.Yf.Za=b.g.counter,b.Yf.F="absolute generation "+b.g.counter):b.Zk?(1E9<=l?b.Yf.Za="1B+":b.Yf.Za=l,b.Yf.Za=l,b.Yf.F="generation "+l):(l+=b.ni,1E9<=l?
b.Yf.Za="1B+":b.Yf.Za=l,b.Yf.F="absolute generation "+l);b.Kn.F=b.Yf.F};g.prototype.XN=function(b,l){var e=l.X.current;var t=!1,x=!1,z=!1,A=!1,C=!1,G,D=l.g.L,I=new BoundingBox(D.j,D.m,D.A,D.B);l.Id=!1;l.mz&&(l.mz=!1,b=0);l.Ta||l.IN(l);l.Fa=l.Td.current[0];l.cb?(b>r.OJ&&(x=!0),b>r.wG&&(b=r.wG),!l.cb||l.Vc&&!l.Fe||(l.fg+=l.Fa*l.wg*b/1E3,l.wb+=l.wg*b/1E3,(l.wb|0)>l.g.counter?(l.wb+=l.Fa-1,l.yi=!0):l.elapsedTime+=b)):l.yi&&(C=!0,l.wb=l.zB?l.g.counter+1:l.g.counter+l.Fa,l.fg=l.wb);l.wC();l.Vc&&!l.Fe&&
l.cb?(l.X.qr&&(l.Ag&&!l.X.fD(l.elapsedTime+b)&&(l.Ag=!1,l.elapsedTime=l.X.$I(l.g.width/2-l.g.Da,l.g.height/2-l.g.wa,l.g.zoom,l.g.angle,l.g.V,l.g.ue*r.Bn,l.g.Bf,l.wg,l.Fa,l.g.counter,l.elapsedTime)),e.lf&&(l.Tg(!0,!1,r.Xk),l.Ag=!1,e.x=l.g.width/2-l.g.Da,e.y=l.g.height/2-l.g.wa,l.rb&&(l.g.zoom*=l.Ee),e.zoom=l.g.zoom)),(z=l.X.update(l,l.elapsedTime+b,l.g.counter))?(e.lf&&(e.lf=!1,l.rb&&(l.g.zoom=e.zoom/l.Ee),l.yc&&(l.yc.current=l.Lk([l.g.zoom,l.g.zoom],!1,l))),l.wb+=l.wg*b/1E3,(l.wb|0)>l.g.counter&&
(l.wb+=l.Fa-1,l.yi=!0)):(l.X.qr&&(l.cb&&(l.Id=!0),l.g.Da=l.g.width/2-e.x,l.g.wa=l.g.height/2-e.y,l.g.zoom=e.zoom,l.rb&&(l.g.zoom=l.g.zoom/l.Ee),l.yc&&(l.yc.current=l.Lk([l.g.zoom,l.g.zoom],!1,l)),l.g.angle=e.angle,l.Hd&&(l.Hd.current=[l.g.angle,l.g.angle]),l.g.V=e.V,l.ee&&(l.ee.current=[l.g.V,l.g.V]),l.g.ue=e.depth/r.Bn+r.zv,l.hd&&(l.hd.current=[Math.sqrt(l.g.ue),l.g.ue*r.Bn])),l.wg=e.Cc,l.lc&&(l.lc.current=[Math.sqrt((e.Cc-r.Wg)/(r.tm-r.Wg)),l.XD(e.Cc)]),l.Fa=e.step,l.Td.current=[l.Fa,l.Fa],e.fc>
l.g.counter?(l.yi=!0,l.wb=e.fc):l.yi=!1,e.Rf!==l.Rr&&(""===e.Rf?l.o.notification.clear(!1,!1):l.o.notification.notify(ScriptParser.tq(this,e.Rf),15,21600,15,!1),l.Rr=e.Rf),e.Fc!==l.Cz&&(l.Rm(e.Fc,l.g.Ol,l),l.Cz=e.Fc)),l.yi||(l.elapsedTime+=b)):l.zc&&l.cb&&(l.Id=!0);l.Id&&(l.kh=-1);e=0;if(l.yi){if(l.g.da){var F=performance.now();var E=(l.wb|0)-l.g.counter;for(G=0;!A&&l.g.counter<(l.wb|0);){e=performance.now()-F;if(l.g.counter===l.ac-1&&!l.We||e>r.UG&&!C)l.g.counter!==l.ac-1||l.We?A=l.Kl:A=!0;l.g.cd&&
l.ub("reverse playback");I.set(D);l.jh&&(l.g.counter===(l.wb|0)-1||A)?l.g.qf(!0,l.xe,l.Pc,l.dc):l.g.qf(!1,l.xe,l.Pc,l.dc);G+=1;(l.g.tl||l.gI()||l.g.counter===(l.wb|0)||A)&&!(0===l.g.da&&2<l.g.i)&&(l.g.Ke(),l.rj(),l.mk||l.g.counter<=l.fl)&&(l.g.da=1);0===l.g.da&&D.set(I);l.MM(b,E);-1!==l.gb&&l.g.counter>=l.gb&&!l.Qc&&(l.elapsedTime=0,l.reset(l),l.ef&&l.sg&&(l.Ab.current=l.Ed(r.Qe,!0,l),l.o.notification.notify("LOOP reached - Play to continue ",15,180,15,!0)),z&&(l.Id=!0));l.g.da||(A=!0)}l.g.da||(l.Ky=
l.O+(0<l.g.i?l.g.i:0),-1===l.cj&&(l.cj=l.g.counter,l.g.T?l.g.da=1:l.g.N||l.g.fa?l.g.Lq(!1):l.g.Lq(!0),!l.op||-1!==l.gb&&!l.Qc||l.Hn||l.o.notification.notify("Life ended at generation "+l.cj,15,600,15,!0)));l.wb-=E-G;l.fg-=E-G;0>l.wb&&(l.wb=0);0>l.fg&&(l.fg=0);G<E&&(l.g.counter!==l.ac||l.We)&&l.vj?l.MN(G):l.Wx()}else l.Wx(),l.Ky&&(--l.Ky,b=l.g.counter,l.g.counter=l.cj,l.g.Ke(),l.g.counter=b),l.g.counter+=l.Fa,-1!==l.gb&&l.g.counter>=l.gb&&!l.Qc&&(l.elapsedTime=0,l.reset(l),z&&(l.Id=!0));l.g.counter!==
l.ac||l.We||(l.Ab.current=l.Ed(r.Qe,!0,l),l.op&&l.o.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else l.Wx();l.yi&&!l.cb&&l.ub("");l.Hd.locked=l.Id&&l.Vc||l.g.S||l.g.R;l.Vi.locked=l.Id&&l.Vc;l.Wk.locked=l.Id||l.zc&&l.cb;l.lc.locked=l.Id&&l.Vc;l.Td.locked=l.Id&&l.Vc;l.Ii.locked=l.Id&&l.Vc;l.yc.locked=l.Id;l.ee.locked=l.Id&&l.Vc||l.g.S||l.g.R;l.hd.locked=l.Id&&l.Vc||l.g.S||l.g.R;l.wheelDelta&&(l.VL(l.wheelDelta),l.wheelDelta=0);l.aG(l,x,e,C);l.yi=!1;l.zB=!1;if(l.cb||l.zc&&l.nn>
l.pI||-1!==l.kh)t=!0;l.o.Jg(t)};g.prototype.aG=function(b,l,e,t){b.zc&&(b.cb||b.Vc)&&b.Tg(!1,!1,r.Xk);b.g.hM(b.er,b.Di);b.Di&&b.vJ();b.er&&b.o.Jg(!0);b.g.Ju();b.g.vc&&b.g.S&&4<=b.g.zoom?b.g.tJ():b.g.vc&&b.g.R&&4<=b.g.zoom&&b.g.xJ();b.Hs&&(2===b.Hs&&b.g.Lu(b.$g,1,!0,b.rb,b),b.tI(b),2===b.Hs&&b.g.Ju(),b.Hs=0);b.g.uJ(b);b.g.counter&&b.g.da&&(b.um.j=b.g.L.j,b.um.m=b.g.L.m,b.um.A=b.g.L.A,b.um.B=b.g.L.B,b.Sx(b,b.um));b.Ci&&b.X.zy(b);!b.ad||b.de||b.mg||b.g.Lu(b.$g,b.vd,!1,b.rb,b);b.la?Help.Ku(b):b.qd.length&&
Help.By(b);b.DN(b);b.Gn.Za=b.nI(b.elapsedTime);b.Im.Za=b.Js(b.g.qa);b.Pu()?b.ek.Za=(100*b.g.qa/(b.g.xa*b.g.Ba)|0)+"%":(b.ek.Za=b.Js(b.g.Pb),b.Xl.Za=b.Js(b.g.cc));b.Im.F="alive "+b.g.qa;b.Pu()?b.ek.F="density "+(100*b.g.qa/(b.g.xa*b.g.Ba)|0)+"%":(b.ek.F="births "+b.g.Pb,b.Xl.F="deaths "+b.g.cc);b.vj?b.CN(e,l,t,b):(b.lc.Yc=b.Wk.Yc,b.Td.Yc=b.Wk.Yc);b.eN();-1!==b.kh&&b.vC();b.EN();b.ON();b.FN();b.PN(b.la||b.qd.length);!b.Rc.current[0]||b.si&&b.cb||(b.Dc.globalAlpha=.5,b.Dc.fillStyle="black",b.Dc.fillRect(0,
0,b.Zc.width,b.Zc.height),b.Dc.globalAlpha=1)};g.prototype.CN=function(b,l,e,t){b>r.UG&&!e?(t.tj+=r.HF,t.tj>=2*r.DA&&(t.tj=0)):0<t.tj&&(t.tj-=r.HF);l&&!e?t.uj<r.AL&&(t.uj+=r.IF):t.uj>r.BL&&(t.uj-=r.IF);t.tj>=r.DA&&(t.qO=2*r.DA-t.tj);b=t.Vo>>16;l=t.Vo>>8&255;e=t.Vo&255;128<=b?64<=l||64<=e?(l-=t.uj,e-=t.uj,0>l&&(l=0),0>e&&(e=0)):(l+=t.uj,255<l&&(l=255)):(b+=t.uj,255<b&&(b=255));t.lc.Yc="rgb("+b+","+l+","+e+")";b=t.Vo>>16;l=t.Vo>>8&255;e=t.Vo&255;128<=l?(b-=t.uj,0>b&&(b=0),e-=t.tj,0>e&&(e=0)):(l+=t.tj,
255<l&&(l=255));t.Td.Yc="rgb("+b+","+l+","+e+")"};g.prototype.wC=function(){if(this.ie&&!this.tf){this.g.$b=this.fg*(this.en+this.Po)/2;this.g.Xb=this.fg*(this.Oo+this.fn)/2;var b=this.g.qH(0,this.Oo,this.en,this.fn,this.Po,this.J,this.H-80,r.za,r.Ya,r.Ww);var l=this.g.qH(this.fg,this.Oo,this.en,this.fn,this.Po,this.J,this.H-80,r.za,r.Ya,r.Ww);this.g.xc=l/b}else this.g.$b=0,this.g.Xb=0,this.g.xc=1;this.yc.current=this.Lk([this.g.zoom,this.g.zoom],!1,this)};g.prototype.PN=function(b){var l=!(this.la&&
this.im===r.xl),e,t=0,x=[],z=[],A=this.Rc.current[0];this.Ab.zg[1]=this.xe||0===this.g.counter&&(!this.g.ma&&!this.g.N||null===this.g.Jc)?!0:!1;var C=b||!this.Gj;for(e=0;e<=this.g.Re;e+=1)this.G[e].l=C;this.cm.l=C;this.Ll.l=C;this.em.l=C;this.am.l=C;for(e=0;e<r.Ts.length;e+=1)r.Ts[e]===this.g.Re&&(this.G[e].locked=!this.zh);C=b||!this.zj||"Empty"===this.Cb||"none"===this.Cb;this.Sh.l=b||!this.zj;this.wr.l=C;this.Cf.l=C;this.Qi.l=C;this.Pi.l=C;this.Ri.l=C||"Spaceship"!==this.Cb||this.g.S||this.g.R;
this.Rj.l=C||"Still Life"===this.Cb;this.Qj.l=C||"Still Life"===this.Cb||this.bg||this.g.S||this.g.R;this.Oi.l=C||"Oscillator"!==this.Cb||this.bg;this.Sj.l=C||"Spaceship"!==this.Cb||this.g.S||this.g.R;this.Tj.l=C||"Spaceship"!==this.Cb;this.Si.l=C||"Still Life"===this.Cb;this.Uj.l=C||"Oscillator"!==this.Cb||this.bg;this.Vj.l=C||"Oscillator"!==this.Cb||this.bg;this.Br.l=C;this.xr.l=C;this.ev.l=C;this.fv.l=C||"Spaceship"!==this.Cb||this.g.S||this.g.R;this.hv.l=C||"Still Life"===this.Cb;this.gv.l=C||
"Still Life"===this.Cb||this.bg||this.g.S||this.g.R;this.vr.l=C||"Oscillator"!==this.Cb||this.bg;this.jv.l=C||"Spaceship"!==this.Cb||this.g.S||this.g.R;this.zr.l=C||"Spaceship"!==this.Cb;this.yr.l=C||"Still Life"===this.Cb;this.Ar.l=C||"Oscillator"!==this.Cb||this.bg;this.ez.l=C||"Oscillator"!==this.Cb||this.bg;this.so.locked=this.wc===this.eo;this.Oj.locked=1>=this.wc||"undo [Ctrl Z]"===this.Oj.F;this.Vi.l=b;this.yc.l=b;this.Wk.l=b;this.pi.l=b;this.pn.l=b;this.an.l=b;this.mh.l=b;this.sm.l=b;this.Ad.l=
b;C=(this.fp.l=b)||!this.ad||this.de||this.mg||A;this.Lp.l=C;this.Ni.l=C;this.Fp.l=C;C=b||this.ad||this.mg||A;(this.g.ma||this.g.N)&&null!==this.g.Jc&&(this.br.l=C);this.Kn.l=b;this.Yf.l=b;this.$d.l=b;this.Gn.l=b;this.sd.l=b;C=(this.Im.l=b)||this.tt();this.dk.l=C;C=(this.ek.l=C)||this.Pu();this.Xc.l=C;this.Xl.l=C;this.Om.l=b;this.Wk.l=b;this.hg.l=b||!this.vl;this.U.l=!(this.zd||this.qd.length);this.Gl.Za=this.Ak||this.Bk||this.Ck||this.Dk||this.Gj?"Back":"Close";C=(this.Gl.l=b)||this.Gj;this.hd.l=
C;this.Hd.l=C;this.ee.l=C;C=b||this.Gj||this.Ak||this.Bk||this.Dk||this.Ck;this.js.l=C;this.Ii.l=C;this.Dr.l=C;this.cr.l=C;this.Lv.l=C;this.fm.l=C;C=b||!this.Ck;this.Mk.l=C;this.Nk.l=C;this.Zj.l=C;this.Yj.l=C;this.bq.l=C;this.vp.l=C;this.Oh.l=C;this.Lh.l=C;C=b||!this.Bk;this.np.l=C;this.Ws.l=C;this.wp.l=C;this.fq.l=C;this.fq.locked=!this.Yk;this.zs.l=C;C=b||!this.Ak;this.Eh.l=C;this.Jq.l=C;this.qk.l=C;this.pq.l=C;this.qm.l=C;this.Zo.l=C;this.mn.l=C;this.$p.l=C;C=b||!this.Dk;this.up.l=C;this.dn.l=
C;this.Tm.l=C;this.zp.l=C;this.$o.l=C;C=this.g.Pa||!this.Aa;this.bq.locked=C;this.vp.locked=C;this.Oh.locked=C;this.Lh.locked=C;this.$p.locked=2<this.g.i||this.g.sa||this.g.N||this.g.Ga||this.g.T||this.g.fa||this.g.ma;this.qh.l=b||!(this.Ak||this.Bk||this.Dk||this.Ck);this.qh.Za=this.Ak?"Display":this.Bk?"Advanced":this.Dk?"Playback":this.Ck?"Pattern":"";this.zp.locked=-1!==this.g.Vd||this.g.Jv||this.g.sa&&!(1===this.g.Ia.Xh&&this.g.Ia.type===this.D.Pd&&2===this.g.Ia.xo)||this.g.R||this.g.te;this.Ii.locked=
this.md||this.g.Pa||this.g.fa||this.g.T;this.qk.locked=this.g.S&&this.g.vc||this.g.R&&this.g.vc;this.Eh.locked=!(this.g.S||this.g.R);C=b||0===this.X.uc.length||A;this.Xr.l=C;this.ws.l=C;C=b||!this.kd||this.de||this.mg||this.ad;this.Ff.l=C;this.Yb.l=C;this.Gf.l=C;this.pc.l=C;this.Ef.l=C;this.bb.l=C;this.Wj.l=C;this.Th.l=C;this.Wh.l=C;this.Zh.l=C;this.Uh.l=C;this.ob.l=C;this.Gb.l=C;this.Vb.l=C;this.Bb.l=C;this.qd.length?(this.U.F="close errors",this.U.Za="Esc",this.U.ab("16px Arial"),this.U.Yc=this.Vi.Yc):
(this.U.F="close window",this.U.Za="X",this.U.ab("24px Arial"),this.U.Yc="red");this.bi.l=!(this.la&&this.im!==r.xl);this.ja.l=!(this.la&&this.im!==r.xl)||!this.Ks;this.cf.l=l;this.ff.l=l;this.Ye.l=l;this.hf.l=l;this.bf.l=l;this.$e.l=l;this.rd.l=l;this.af.l=l||0===this.X.Ip();this.ai.l=!(this.la&&this.im!==r.xl)||this.Ks;if(this.Ok){this.Ok=!1;t=this.ja.y;for(e=0;e<this.ia.length&&t<this.H-66*this.u.oh;)x[e]=this.ia[e][1],z[e]="",t+=26*this.u.oh,e+=1;this.ja.lower=x;this.ja.F=z;this.ja.UM(26*x.length);
this.ja.current=0}C=b||!this.mg||A;this.gg.l=C;this.on.l=C;this.Xn.l=C;this.Oq.l=C;this.mo.l=C;this.lo.l=C;this.me.l=C;this.ne.l=C;this.cg.l=C;C=b||!this.mg||A;this.Jf.l=C;this.$f.l=C;this.ag.l=C;this.If.l=C;this.oe.l=C;this.He.l=C;this.eg.l=C;this.dg.l=C;this.Wa.l=C;this.le.l=C;this.ke.l=C;this.Nl.l=C||!(this.g.Ga||this.g.T);this.$.l=C;this.wk.l=C;C=b||!this.mg||A||2>=this.g.i||this.g.Pa;this.xd.l=C||this.g.N;C=this.Ta;this.mo.locked=C;this.lo.locked=C;C=!this.xb;this.me.locked=C;C=!(this.xb||this.ld)||
this.Ta;this.$.ug(C);this.xd.ug(C);this.wk.ug(C);this.Jf.ug(C);this.$f.ug(C);this.ag.ug(C);this.If.ug(C);this.oe.ug(C);this.He.ug(C);this.eg.ug(C);this.dg.ug(C);this.Wa.ug(C);this.le.ug(C);this.ke.ug(C);this.Nl.ug(C);C=!this.xb||this.Ta;this.ne.locked=C;C=!this.Kq||this.ld||null===this.Lf[this.tg]||this.Ta;this.cg.locked=C;C=b||!this.de||!this.Um||A;this.Cd.l=C;this.s.l=C;if(2>=this.g.i&&!this.g.fa)for(e=0;e<this.s.lower.length;e+=1)2>=e?0===e?t=e:t=1===e?LifeConstants.Hb:LifeConstants.Tk:t=128+r.Xa[e],
this.s.qn[e]="rgb("+this.g.Sa[t]+","+this.g.Ra[t]+","+this.g.Qa[t]+")";else for(e=0;e<this.s.lower.length;e+=1)t=0===e+this.hh?0:this.g.Pa||this.g.N||this.g.fa||this.g.T?e+this.hh+this.O:this.O+this.g.i-(e+this.hh),this.s.qn[e]="rgb("+this.g.Sa[t]+","+this.g.Ra[t]+","+this.g.Qa[t]+")";C=b||!this.de||A;this.Jh.l=C;this.ms.l=C;this.nq.l=C;this.sq.l=C;this.ph.l=b||!this.de||!this.Um||this.g.i<=this.Hh||A;this.Gg.l=b||!this.de||!this.Um||this.g.i<=this.Hh||A;this.g.i>this.Hh&&this.yC();if(0<this.la){e=
0;for(t=-1;e<this.ia.length&&-1===t;)this.ia[e][0]>this.la?t=this.ia[e][0]:e+=1;e===this.ia.length&&(t=e);-1!==t&&(this.ja.current=e-1)}this.si&&(this.u.l=this.cb?!0:!1)};g.prototype.FN=function(){var b=-(this.g.width/2-this.g.Da-this.g.$b|0),l=-(this.g.height/2-this.g.wa-this.g.Xb|0),e=String(b),t=String(l);this.Ff.l=!this.kd;this.Yb.l=!this.kd;this.Gf.l=!this.kd;this.pc.l=!this.kd;this.Ef.l=!this.kd;this.bb.l=!this.kd;this.Wj.l=!this.kd;this.Th.l=!this.kd;this.Wh.l=!this.kd;this.Zh.l=!this.kd;this.Uh.l=
!this.kd;this.ob.l=!this.kd;this.Gb.l=!this.kd;this.Bb.l=!this.kd;this.Vb.l=!this.kd;if(-99999>b||99999<b)e=(b/1E3|0)+"K";if(-99999>l||99999<l)t=(l/1E3|0)+"K";this.Yb.Za=e;this.pc.Za=t;this.bb.Za=this.g.angle.toFixed(0)+"\u00b0";this.ob.Za=this.ku.toFixed(3);this.Gb.Za=this.mu.toFixed(3);this.Vb.Za=this.nu.toFixed(3);this.Bb.Za=this.lu.toFixed(3)};g.prototype.ON=function(){0===this.g.counter?this.nu=this.ku=this.mu=this.lu=0:(this.mu=(this.g.L.B-this.g.Kf.B)/this.g.counter,this.lu=(this.g.L.m-this.g.Kf.m)/
this.g.counter,this.ku=(this.g.L.A-this.g.Kf.A)/this.g.counter,this.nu=(this.g.L.j-this.g.Kf.j)/this.g.counter)};g.prototype.EN=function(){this.Vi.current=[this.zc];this.pn.current=[!this.sg&&this.ef];this.pn.locked=!this.ef;this.ie?(this.mh.lower[0]="TRACK",this.mh.current=[!this.tf&&this.ie],this.mh.locked=!this.ie,this.mh.F=["toggle track mode [W]"]):(this.mh.lower[0]="WAYPT",this.mh.current=[!this.Fe&&this.Vc],this.mh.locked=!this.Vc,this.mh.F=["toggle waypoint mode [W]"]);this.sm.current=[!this.Qc&&
-1!==this.gb];this.sm.locked=-1===this.gb;this.sm.F=["loop at "+this.gb+" [Shift P]"];this.an.current=[!this.We&&-1!==this.ac];this.an.locked=-1===this.ac;this.an.F=["stop at "+this.ac+" [Alt P]"]};g.prototype.MM=function(b,l){if(this.g.counter>=this.Ja.length){var e=this.g.v.P(Float32,this.Ja.length+r.eF,"View.elapsedTimes");e.set(this.Ja);this.Ja=e}this.elapsedTime+=b/l;this.Ja[this.g.counter]=this.elapsedTime};g.prototype.UN=function(b){var l=b.uN,e=b.Io-b.Gk;if(b.Gk<b.Io)if(0<b.by)--b.by;else if(b.lv)b.cn.innerHTML=
b.Rs,b.Gk=b.Io;else{e<l&&(l=e);var t=document.createElement("textarea");b.Zy(t);if(l!==e)for(;"\n"!==b.Rs[b.Gk+l];)--l;t.innerHTML=b.Rs.substr(b.Gk,l);b.Gk+=l;b.cn.appendChild(t)}else b.gu||(b.o.notification.notify("Press Enter to complete copy",15,1E4,15,!0),b.gu=!0);b.JN(b);b.g.Ju();b.Ci&&b.X.zy(b);b.ad&&b.g.Lu(b.$g,b.vd,!1,b.rb,b);b.la?Help.Ku(b):b.qd.length&&Help.By(b);b.o.Jg(!0)};g.prototype.WN=function(b){var l=performance.now();for(b.u.locked=!0;b.dc&&13>performance.now()-l;){b.g.qf(!1,b.xe,
b.Pc,b.dc);b.g.Ke();b.rj();if(b.mk||b.g.counter<=b.fl)b.g.da=1;var e=b.g.uL(b.On);0<e.length&&(e[0]===LifeConstants.lD?(e[0]="Nothing Identified",b.Bz="none",b.Cb="none",b.Or="",b.Ep="",b.Nr="",b.ov="",b.Ap="",b.Pr="",b.Dp="",b.Bp="",b.Qr="",b.Cp="",b.nv="",b.pv=""):(b.Bz=e[0],b.Cb=e[1],"Empty"!==b.Cb&&(b.Or=e[2],b.Ep=e[3],b.Nr=e[4],b.ov=e[5],b.Ap=e[6],b.Pr=e[7],b.Dp=e[8],b.Bp=e[9],b.Qr=e[10],b.Cp=e[11],b.nv=e[12],b.pv=e[13],b.Br.Za=b.Cb,b.xr.Za=b.Ap,b.xr.F=-1===b.Ap.indexOf("|")?"":"min | max | average",
b.ev.Za=b.Nr,b.fv.Za=b.Or,b.hv.Za=b.Dp,b.jv.Za=b.Pr,b.zr.Za=b.Ep,b.zr.F=-1===b.Ep.indexOf("|")?"":"simplified | unsimplified",b.yr.Za=b.Bp,b.yr.F=-1===b.Bp.indexOf("|")?"":"min | max | average",b.ez.Za=b.Qr,b.gv.Za=b.Cp,b.vr.Za=b.nv,b.vr.F="rotor | stator | total",b.Ar.Za=b.pv,b.Ar.F="active | rotor"),b.zj=!0,b.bg=b.On,b.ZM()),b.dc=!1,b.cb&&(b.Ab.current=b.Ed(r.Qe,!0,b)),b.ub(""),b.wr.Za=e[0],"Empty"===b.Cb||"none"===b.Cb?(b.o.notification.notify(e[0],15,240,15,!1),b.zj=!1):(b.o.notification.clear(!0,
!1),b.o.notification.clear(!1,!1),b.Tg(!0,!1,r.Xk)),b.g.kv(b.dc),b.On=!1,b.u.locked=!1)}b.aG(b,!1,0,!1);b.wb=b.g.counter;b.fg=b.g.counter;b.o.Jg(!0)};g.prototype.VN=function(b){for(var l=b.$x,e=performance.now(),t,x=b.g.Kg.YK*LifeConstants.Ls;b.g.counter<l-1&&13>performance.now()-e;)if(t=l-1-b.g.counter<=x?!1:!0,b.g.qf(!1,t,b.Pc,b.dc),b.g.Ke(),b.rj(),b.mk||b.g.counter<=b.fl)b.g.da=1;if(b.g.counter===l-1){b.g.qf(b.jh,!1,b.Pc,b.dc);b.g.Ke();b.rj();if(b.mk||b.g.counter<=b.fl)b.g.da=1;b.wn=!1;b.Zx&&b.o.notification.clear(!0,
!1);b.u.locked=!1}else b.u.locked=!0;b.KN(b,l);b.g.Ju();b.Ci&&b.X.zy(b);b.ad&&b.g.Lu(b.$g,b.vd,!1,b.rb,b);b.la?Help.Ku(b):b.qd.length&&Help.By(b);b.o.Jg(!0)};g.prototype.nx=function(b,l){l.wn?l.VN(l):l.dc?l.WN(l):l.Nq?l.UN(l):l.XN(b,l)};g.prototype.IC=function(b){b.g.counter=0;b.g.Wf=0;b.g.mj=0;b.wb=0;b.fg=0;b.elapsedTime=0;b.g.Da=b.g.width>>1;b.g.wa=b.g.height>>1;b.g.Da&=b.g.width-1;b.g.wa&=b.g.height-1;b.g.da=1;b.mz=!0;b.cj=-1};g.prototype.lH=function(b,l,e){l&&(e.Di=b[0]);return[e.Di]};g.prototype.dH=
function(b,l,e){l&&(e.ti=b[0]);return[e.ti]};g.prototype.gH=function(b,l,e){l&&(e.g.al=b[0]);return[e.g.al]};g.prototype.eH=function(b,l,e){l&&(e.kd=b[0]);return[e.kd]};g.prototype.EC=function(b,l,e){l&&(e.ad=b[0],e.ad&&e.Ad.current!==r.xm&&(e.Ad.current=e.Kk(r.xm,!0,e)));return[e.ad]};g.prototype.qx=function(b,l,e){l&&(e.g.Yi=b[0]);return[e.g.Yi]};g.prototype.fH=function(b,l,e){l&&(e.Ci=b[0]);return[e.Ci]};g.prototype.aH=function(b,l,e){l&&(e.g.ud=b[0]);return[e.g.ud]};g.prototype.ZG=function(b,
l,e){l&&(e.di=b[0],e.di&&!e.g.jc&&(e.de||e.mg)&&(e.pi.current=e.wq([!0],!0,e)));return[e.di]};g.prototype.iH=function(b,l,e){l&&(e.g.Qd=b[0],e.g.dy(),0===(e.g.counter&1)?e.g.lw(e.g.eb):e.g.lw(e.g.Sb));return[e.g.Qd]};g.prototype.YG=function(b,l,e){l&&(e.g.Dl=b[0]);return[e.g.Dl]};g.prototype.$G=function(b,l,e){l&&(e.si=b[0]);return[e.si]};g.prototype.FC=function(b,l,e){l&&(e.g.vc=b[0],e.TG());return[e.g.vc]};g.prototype.KC=function(b,l,e){l&&(e.o.Sm=b[0]);e.o.Jg(!0);return[e.o.Sm]};g.prototype.Wo=
function(b,l,e){l&&(e.o.rl=b[0]);e.o.Jg(!0);return[e.o.rl]};g.prototype.Rm=function(b,l,e){if(e.g.Bf!==b)for(e.g.bN(b,l,e),1<e.g.Ol&&(e.o.kn=e.g.Ol),l=0;l<=this.g.Re;l+=1)this.G[l].current=b!==r.Ts[l]?[!1]:[!0]};g.prototype.ln=function(b,l,e){l&&(e.Fa=b[0]+.5|0);return[e.Fa,e.Fa]};g.prototype.XD=function(b){return(10>b.toFixed(1)?b.toFixed(1):b.toFixed(0))+"/s"};g.prototype.Jk=function(b,l,e){l?(e.wg=r.Wg+b[0]*b[0]*(r.tm-r.Wg),b=b[0]):b=Math.sqrt((e.wg-r.Wg)/(r.tm-r.Wg));return[b,e.XD(e.wg)]};g.prototype.nG=
function(b){b.jq=b.g.zoom;b.rb&&(b.jq=b.jq*b.Ee);b.mB=b.g.angle;b.Te=b.g.Da;b.Ej=b.g.wa};g.prototype.vM=function(b){b.Ym=b.g.width/2-b.g.Da;b.Zm=b.g.height/2-b.g.wa;b.Do=b.g.zoom;b.Xm=b.g.angle;b.Vk=b.g.width/2-b.Te;b.In=b.g.height/2-b.Ej;b.fr=b.mB;b.rb?b.Jn=b.jq/b.Ee:b.Jn=b.jq;b.kh=0};g.prototype.rM=function(b,l){b.g.zoom=b.PD;b.rb&&(b.g.zoom=b.g.zoom/b.Ee);b.yc&&(b.yc.current=b.Lk([b.g.zoom,b.g.zoom],!1,b));b.g.angle=b.jp;b.Hd&&(b.Hd.current=[b.jp,b.jp]);b.g.Da=b.Me;b.g.wa=b.bj;l&&(b.Rm(b.Du,1,
b),b.md&&(b.g.un=0),l=Math.sqrt((b.sy-r.Wg)/(r.tm-r.Wg)),b.lc.current=b.Jk([l,l],!0,b),b.Fa=b.Cu,b.Td.current=[b.Fa,b.Fa],b.g.V=b.kp,b.ee.current=[b.kp,b.kp],l=Math.sqrt(b.ry),b.hd.current=b.wl([l,l],!0,b))};g.prototype.XC=function(b){b?(this.g.Da+=this.g.$b,this.g.wa+=this.g.Xb,this.g.zoom*=this.g.xc):(this.wC(),this.g.Da-=this.g.$b,this.g.wa-=this.g.Xb,this.g.zoom/=this.g.xc,this.wC());this.g.zoom<r.za?this.g.zoom=r.za:this.g.zoom>r.Ya&&(this.g.zoom=r.Ya)};g.prototype.bG=function(b){b.elapsedTime=
0;b.md||(b.g.nw(b.xe),b.g.da=1,b.g.mw())};g.prototype.reset=function(b){var l=!1,e=!1;this.er&&this.g.mE();0===b.g.counter&&b.o.dG();if(0===b.elapsedTime||b.Xu)l=!0;b.Qc||-1===b.gb||b.g.counter>=b.gb&&(e=!0);b.g.bd=!1;b.g.cd=!1;b.g.mj=0;e||l||(b.Vc&&(b.Fe=!0),b.ie&&(b.tf=!0),-1!==b.gb&&(b.Qc=!0),-1!==b.ac&&(b.We=!0),b.Xt&&(b.zc=!1));b.elapsedTime=0;b.g.$b=0;b.g.Xb=0;b.g.xc=1;if(l){(this.g.ma||this.g.N)&&null!==this.g.Jc&&b.ow&&(b.g.cd=!0);b.Vc&&(b.Fe=!1);b.ie&&(b.tf=!1);b.Xt&&(b.zc=!0);if(!e||b.Vc&&
b.X.qr||b.zc)b.rM(b,l),b.zc&&b.Tg(!0,!1,r.Xk);b.Qc=!1;e||(b.We=!1)}b.md||(b.g.nw(b.xe),b.wb=b.g.counter,b.fg=b.wb,b.g.da=1);b.Pc||b.g.cG();b.g.mw();b.Rr="";b.Cz=-1;b.Ag=!1;b.X.tM();b.dc&&(b.dc=!1,b.o.notification.clear(!0,!1));b.g.kv(b.dc);b.o.notification.clear(!1,!1);b.cj=-1;b.g.$r=0;b.vB(b.g.counter);b.zj=!1;b.kF()};g.prototype.uw=function(b){var l=this.g.bd;if(b){var e="pause";b="pause [Enter]"}else b="play [Enter]",this.g.ma||this.g.N?(this.g.cd&&(l=!l),e=l?"reverse":"play"):e="play";if(this.g.ma||
this.g.N)if(l=this.g.bd,this.g.cd&&(l=!l),l){var t="stepback";l="stepforward";var x="step back [Shift Tab]";var z="step forward [Tab]"}else t="stepforward",l="stepback",x="step forward [Tab]",z="step back [Shift Tab]";else t="stepforward",l="stepback",x="step forward [Tab]",z="step back [Shift Tab]";this.Ab.icon[r.Qe]=this.Y.icon(t);this.Ab.F[r.Qe]=x;this.Ab.icon[r.Hp]=this.Y.icon(l);this.Ab.F[r.Hp]=z;this.Ab.icon[r.sk]=this.Y.icon(e);this.Ab.F[r.sk]=b};g.prototype.Mh=function(b,l){l.im=b;l.la=1;
l.Ks=!0;l.Zu=[];l.$u=[];this.Ok=!0};g.prototype.xt=function(b){b.Mh(r.sE,b)};g.prototype.Ax=function(b){b.Mh(r.pB,b)};g.prototype.vt=function(b){b.Mh(r.Er,b)};g.prototype.Ey=function(b){b.Mh(r.EG,b)};g.prototype.wo=function(b){b.Mh(r.vD,b)};g.prototype.Wn=function(b){b.Mh(r.ZC,b)};g.prototype.zt=function(b){b.Mh(r.QE,b)};g.prototype.Yn=function(b){b.Mh(r.eD,b)};g.prototype.px=function(b,l,e){l&&(e.la=e.ia[b][0],e.Ks=!1);return b};g.prototype.CC=function(b,l,e){l&&(e.ak=b[0],e.ak&&e.Zt(e));return[e.ak]};
g.prototype.DC=function(b,l,e){l&&(e.wh=b[0],e.wh&&(e.Cw=!0));return[e.wh]};g.prototype.Kk=function(b,l,e){var t=b;if(l){switch(b){case r.wm:e.Wp=!1;e.Ta||e.g.Pa?t=e.Ad.current:(e.de=!0,e.Jh.current=e.Ik([!1],!0,e),e.mg=!1);e.cu(e);e.di&&(e.pi.current=e.wq([!0],!0,e));break;case r.Gp:e.de=!1;e.Jh.current=e.Ik([!1],!0,e);e.mg=!0;e.di&&(e.pi.current=e.wq([!0],!0,e));break;case r.xm:e.de=!1,e.mg=!1,e.Jh.current=e.Ik([!1],!0,e),e.cu(e),e.di&&(e.pi.current=e.wq([!1],!0,e))}e.Zu=[];e.$u=[];e.Rc.current[0]&&
(e.Rc.current=e.Zs([!1],!0,e),e.o.Ph=!0)}e.uB(t);return t};g.prototype.uB=function(b){if(this.la||this.ic)this.u.Jt("grab");else switch(b){case r.wm:this.u.Jt("auto");break;case r.xm:this.u.Jt("grab");break;case r.Gp:this.u.Jt("crosshair")}};g.prototype.bH=function(b,l,e){l&&(e.tg=b,e.ju(),e.Xn.current=[!1],e.o.Ph=!0,e.ld?e.AA(e,b):e.o.notification.notify("Clipboard "+b+" active",15,80,15,!0));return e.tg};g.prototype.GC=function(b,l,e){l&&(e.Cm=b,e.$c=r.QG[b]);return e.Cm};g.prototype.bJ=function(b){b.Ta||
(b.Cm+=1,3<b.Cm&&(b.Cm=0),b.lo.current=b.GC(b.Cm,!0,b))};g.prototype.Py=function(b){var l="";this.g.fa||(2>=this.g.i?l=this.g.Ga?r.xG[b]:b?"Alive":"Dead":0===b?l="Dead":this.g.N?(0!==(b&1)&&(l+="N"),0!==(b&2)&&(l+="E"),0!==(b&4)&&(l+="S"),0!==(b&8)&&(l+="W")):this.g.T?l=LifeConstants.aF[b]:l=this.g.fa?"State "+String(b):1===b?"Alive":"Dying "+String(b-1));return l};g.prototype.JC=function(b,l,e){var t=b;l&&(2>=e.g.i?e.Df=b:(b+=e.hh,0===b?e.Df=0:e.g.Pa||e.g.N||e.g.fa||e.g.T?e.Df=b:e.Df=e.g.i-b),e.Jh.current=
e.Ik([!1],!0,e),e.g.fa?e.o.notification.notify("Drawing with state "+b,15,120,15,!0):e.o.notification.notify("Drawing with state "+b+" ("+e.Py(b)+")",15,120,15,!0));return t};g.prototype.Lj=function(b){var l=this.g.i,e=this.Hh;-1===l&&(e=l=2);this.g.Ga&&(e=l=7);b<l&&(b>=e?(this.hh=b-e+1,b=e-1):b>=this.hh?b-=this.hh:(this.hh=b,b=0),this.Cd.current=this.JC(b,!0,this))};g.prototype.rx=function(b,l,e){var t=0;if(l)for(;t<b.length;)b[t]&&(b[t]=!1,e.Cd.current=e.JC(t,!0,e)),t+=1;return b};g.prototype.pM=
function(b){var l=0,e=this.Df,t=this.g.Nd;var x=this.Eb;var z=t.j,A=t.A;var C=t.m;t=t.B;var G=(this.g.width>>1)-(this.hb>>1)+(this.Mb<<1);var D=(this.g.height>>1)-(this.lb>>1)+(this.Nb<<1);2<this.g.i&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T)&&0<b&&(b=this.g.i-b);this.xb&&(z=x.j+G,A=x.A+G,z>A&&(G=A,A=z,z=G),C=x.m+D,t=x.B+D,C>t&&(G=t,t=C,C=G));if(e!==b){for(;C<=t;C+=1)for(x=z;x<=A;x+=1)D=this.g.getState(x,C,!1),2<this.g.i&&!this.g.N&&!this.g.fa&&0<D&&(D=this.g.i-D),D===b&&(this.dd(x,C,e),l+=1);0<
l&&(!this.g.Ga||6!==b&&6!==e||this.g.po(),this.ub("replace states"))}else this.o.notification.notify("Cell and drawing state are the same",15,120,15,!0)};g.prototype.Vx=function(b,l,e){var t=b.Df,x=b.g.Nd,z=0,A=0;if(0<t)if(2<b.g.i&&!(b.g.Pa||b.g.N||b.g.fa||b.g.T)&&(t=b.g.i-t),b.g.Ga&&1<t&&(A=t&1),b.g.Ga&&l)if(e){for(e=x.m;e<=x.B;e+=1)for(l=x.j;l<=x.A;l+=1){var C=b.g.getState(l,e,!1);3<=C&&5>=C&&(b.dd(l,e,C&1),z+=1)}0<z&&(b.T?b.ub("clear [R]Super marked cells"):b.ub("clear [R]History marked cells"))}else{for(e=
x.m;e<=x.B;e+=1)for(l=x.j;l<=x.A;l+=1)C=b.g.getState(l,e,!1),1<C&&(b.dd(l,e,C&1),z+=1);0<z&&(b.T?b.ub("clear [R]Super cells"):(this.g.po(),b.ub("clear [R]History cells")))}else{for(e=x.m;e<=x.B;e+=1)for(l=x.j;l<=x.A;l+=1)C=b.g.getState(l,e,!1),C===t&&(b.dd(l,e,A),z+=1);0<z&&(b.g.Ga&&6===t&&this.g.po(),b.ub("clear state "+t+" cells"))}return z};g.prototype.Ed=function(b,l,e){var t=b,x=e.We,z=e.Qc,A=e.Fe,C=e.sg,G=e.zc,D=e.tf,I=40,F=0,E=0,H=0,N=0,K=0,P=0,J=0;if(l){e.Wp=!1;switch(b){case r.Pz:e.sg=e.Xu||
e.ef&&0===e.g.counter&&0===e.elapsedTime?!1:!0;e.ef&&!e.sg?(b=r.sk,e.cb=!0,e.Hn=0===e.g.qa?!0:!1):(b=r.Qe,e.cb=!1);e.ub("");e.reset(e);e.gd=0;l="Reset";!e.Qc&&z&&-1!==e.gb&&(E=1);e.Qc&&!z&&-1!==e.gb&&(E=-1);!e.We&&x&&-1!==e.ac&&(H=1);e.We&&!x&&-1!==e.ac&&(H=-1);!G&&e.zc&&(J=1);G&&!e.zc&&(J=-1);!e.Fe&&A&&(N=1);e.Fe&&!A&&(N=-1);!e.tf&&D&&(K=1);e.tf&&!D&&(K=-1);!e.sg&&C&&e.ef&&(P=1);e.sg&&!C&&e.ef&&(P=-1);if(0!==E||0!==H||0!==N||0!==K||0!==P||0!==J)l="",0!==E&&(F+=1,l+="Loop"),0!==H&&(0<F&&(l=0<Math.abs(N)+
Math.abs(K)+Math.abs(P)+Math.abs(J)?l+", ":l+" and "),F+=1,l+="Stop"),0!==N&&(0<F&&(l=0<Math.abs(K)+Math.abs(P)+Math.abs(J)?l+", ":l+" and "),F+=1,l+="Waypoints"),0!==K&&(0<F&&(l=0<Math.abs(P)+Math.abs(J)?l+", ":l+" and "),F+=1,l+="Track"),0!==P&&(0<F&&(l=0!==J?l+", ":l+" and "),F+=1,l+="AutoStart"),0!==J&&(0<F&&(l+=" and "),l+="AutoFit"),l=0<H||0<E||0<N||0<K||0<P||0<J?l+" On":l+" Off",I=120;e.o.notification.notify(l,15,I,15,!0);break;case r.sk:e.cb?(e.cb=!1,e.ub(""),(e.g.counter!==e.ac||e.We||e.op)&&
e.o.notification.notify("Pause",15,40,15,!0)):(e.Vc&&!e.Fe&&(e.g.ma||e.g.N)&&(e.g.bd||!e.g.bd&&e.g.cd)&&e.xy(e),e.cb=!0,e.ub(""),e.Hn=0===e.g.qa?!0:!1,e.Ou&&B.CG(e),e.o.notification.notify("Play",15,40,15,!0));break;case r.Hp:if(e.cb)e.cb=!1,e.ub(""),e.o.notification.notify("Pause",15,40,15,!0);else if((e.g.ma||e.g.N)&&null!==e.g.Jc){e.g.cd=!e.g.cd;e.g.cd&&e.ub("reverse playback");e.ub("");for(x=0;x<e.Fa;x+=1)e.g.qf(!0,e.xe,e.Pc,e.dc),e.g.Ke(),e.wb=e.g.counter;e.g.cd=!0}else 0<e.g.counter&&(e.vB(e.g.counter-
e.Fa),e.Es(e.g.counter-e.Fa));break;case r.Qe:e.cb?(e.cb=!1,e.ub(""),(e.g.counter!==e.ac||e.We||e.op)&&e.o.notification.notify("Pause",15,40,15,!0)):(e.yi=!0,e.ub(""),e.Hn=0===e.g.qa?!0:!1)}t=b;e.uw(e.cb)}return t};g.prototype.ht=function(b,l,e){l&&(e.Ag=!0,e.g.angle=b[0]);return[e.g.angle,e.g.angle]};g.prototype.it=function(b,l,e){l?(e.Ag=!0,e.g.V=b[0]+.5|0,b=b[0]):b=e.g.V;return[b,e.g.V]};g.prototype.wl=function(b,l,e){return l?(e.Ag=!0,e.g.ue=b[0]*b[0],[b[0],e.g.ue*r.Bn]):[Math.sqrt(e.g.ue),e.g.ue*
r.Bn]};g.prototype.sJ=function(b,l,e,t){var x=this.Df;-1===e&&-1===t?(this.ns=this.YF(),2<this.g.i&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T)&&(x=this.g.i-x),this.ns=this.Co&&this.ns===x?0:this.Df):(this.Mw(e,t),e=this.fk,t=this.gk,this.Mw(b,l),b=this.fk,l=this.gk,this.Uw(e,t,b,l,this.ns)&&this.g.po());0<this.g.qa&&(this.cj=-1,this.g.da=1)};g.prototype.sx=function(b,l,e,t){t.si&&!e&&(t.Ab.current=t.Ed(r.Qe,!0,t))};g.prototype.ox=function(b,l,e,t){t.cH(b,l,e,t,!1)};g.prototype.pJ=function(b,l){l=
(b.vi-l)/b.rr;-1!==b.vi&&(0<l?b.sw(b,l):0>l&&b.tw(b,-l))};g.prototype.oJ=function(b,l){l=(b.vi-l)/b.rr;-1!==b.vi&&(0<l?b.qw(b,l):0>l&&b.rw(b,-l))};g.prototype.qJ=function(b,l,e){l=(b.Un-l)/b.g.na;e=(b.vi-e)/b.g.na/(b.g.R?r.he:1);if(-1!==b.vi){var t=b.g.S||b.g.R?0:-b.g.angle;if(b.Id)b.Vc&&!b.Fe&&(b.Ab.current=b.Ed(r.Qe,!0,b));else{var x=Math.sin(t/180*Math.PI);t=Math.cos(t/180*Math.PI);b.Ag=!0;b.g.Da+=l*t+e*-x;b.g.wa+=l*x+e*t}}};g.prototype.kJ=function(b,l,e){var t=b.cb,x=b.gd;b.tk||(b.cb&&b.Vp&&(b.cb=
!1,b.Wp=!0),t&&(b.gd=0,b.ub(""),b.gd=x),b.sJ(l,e,b.Un,b.vi),t&&b.ub(""))};g.prototype.rJ=function(b,l,e){b.ld||b.jJ(b,l,e)};g.prototype.jJ=function(b,l,e){var t=b.Eb,x=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),z=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1),A=b.g.ma?-1:0,C=Math.round((b.g.width-b.g.Ba)/2)+A;A=Math.round((b.g.height-b.g.xa)/2)+A;var G=C+b.g.Ba-1,D=A+b.g.xa-1;-1!==b.ya&&(0===b.g.Ba&&(C=0,G=b.g.width-1),0===b.g.xa&&(A=0,D=b.g.height-1));if(-1!==l&&-1!==e)if(this.Mw(l,e),-1===b.vi)b.qG=l,b.rG=e,b.xb=
!1,b.rh=!1;else{if(b.kk)t.A=b.fk-x,t.B=b.gk-z;else if(l!==b.qG||e!==b.rG)l=!1,-1!==b.g.ya&&(b.fk<C||b.fk>G||b.gk<A||b.gk>D)&&(l=!0),l||(b.kk=!0,t.j=b.fk-x,t.A=t.j,t.m=b.gk-z,t.B=t.m);b.kk&&(b.qD(b),x=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),z=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1));b.kk&&-1!==b.g.ya&&(C-=x,G-=x,A-=z,D-=z,t.j<t.A?(t.j<C&&(t.j=C),t.A>G&&(t.A=G)):(t.A<C&&(t.A=C),t.j>G&&(t.j=G)),t.m<t.B?(t.m<A&&(t.m=A),t.B>D&&(t.B=D)):(t.B<A&&(t.B=A),t.m>D&&(t.m=D)))}};g.prototype.iw=function(b){b.xb=!1;b.rh=
!1;b.ub("cancel selection");b.kk=!1};g.prototype.nJ=function(b){b.ld?b.EA(b,b.fk,b.gk,!0):b.iJ(b)};g.prototype.Zt=function(b){var l=b.Eb,e=b.g.L,t=l.j,x=l.m,z=l.A,A=l.B,C,G=0,D=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),I=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);if(t>z){var F=t;t=z;z=F}x>A&&(F=x,x=A,A=F);t<e.j-D&&(t=e.j-D);x<e.m-I&&(x=e.m-I);z>e.A-D&&(z=e.A-D);A>e.B-I&&(A=e.B-I);e=z+1;F=t-1;var E=A+1;var H=x-1;for(C=x;C<=A;C+=1)for(x=t;x<=z;x+=1){var N=b.g.getState(x+D,C+I,!1);0<N&&(C<E&&(E=C),C>H&&(H=C),x<e&&
(e=x),x>F&&(F=x),G+=1)}0<G&&(l.j=e,l.m=E,l.A=F,l.B=H)};g.prototype.iJ=function(b){var l=b.Eb;if(b.kk)if(b.xb=!0,b.kk=!1,b.rh=!1,b.ak&&b.Zt(b),b.xb){var e=l.A<l.j?l.j-l.A+1:l.A-l.j+1;l=l.B<l.m?l.m-l.B+1:l.B-l.m+1;b.ub("selection ("+e+" x "+l+")")}else b.iw(b);else b.iw(b)};g.prototype.mJ=function(b,l,e){-1!==l&&-1!==e&&(b.lz=!0,l=b.YF(),b.rs?(b.pM(l),b.rs=!1,b.Jh.current=b.Ik([!1],!0,b)):(b.ns=l,b.Lj(l)))};g.prototype.lJ=function(b){b.Wp&&(b.cb=!0,b.Wp=!1,b.o.Jg(!0));0<b.gd&&(b.g.Ah(),b.ub(""))};g.prototype.cH=
function(b,l,e,t,x){-1!==b&&-1!==l&&t.o.hasFocus&&(e?(t.Rc.current[0]||(t.la?t.pJ(t,l):t.ic?t.oJ(t,l):!t.de&&!t.mg||x?t.qJ(t,b,l):t.de?t.kJ(t,b,l):t.mg&&t.rJ(t,b,l)),t.Un=b,t.vi=l):-1!==t.Un?(t.la||t.Rc.current[0]||(t.de?t.tk?t.mJ(t,b,l):t.lJ(t):t.mg&&t.nJ(t)),t.Un=-1,t.vi=-1):t.la||t.Rc.current[0]||(t.tk?t.o.notification.notify("Now click on a cell",15,180,15,!0):t.ld&&t.o.notification.notify("Now click to paste",15,180,15,!0)))};g.prototype.zm=function(b,l){8>this.g.zoom&&(0>b?b=-8:0<b&&(b=8),0>
l?l=-8:0<l&&(l=8));this.vi=this.Un=0;this.cH(b,l,!0,this,!0);this.vi=this.Un=-1};g.prototype.gt=function(b){var l=r.ur;null===l&&(l=new Image,l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABpAAAAAoCAIAAAB2CC60AAAABnRSTlMAAAAAAABupgeRAAASX0lEQVR4nO2dWZLkKgxFnR294FpK7Zj34dcEiRiEkATY93xUZNlYEoMYZGxfFwAAAAAAAAAAAAAAAAAA7Pj5+TE9/masyxZl/kLuSqdVb308S9NIYHcWAAAAAAAAUOTvagMA0CeEkB35fD4OklfpXUUIwccMN0UALOH39/fn5+f399ftuCxePHM25fZon79Mk8DpYDwCAFggc3l0FAAALRCwA4/FYqRsh+fW6vWHLolVJigWMh8AygEoQoN6d7iNHtc6G0G0DliA8QgAIGbI0zn9ADoKAIAWf1YbAIAJ99zdTn5ttF6ldxVvyy8Aj6S4L8/orFu0bp97G8AHjEfguq7wzWpzwBlkrp12JtTr0Q8AADxBwA48Fru5e3vWvkrvKt6WXwCeyv3krNHZ+DvbAWf0F73HO8F4NBqlOi6kFXpc1/X5BzM9ABlD/l5sSGhaAAAt8EgseDIWyzbmTvglelfxtvwC8CQ8t9ddLtG0LCYIVlHcopKuY4eOM2sT49HFNvguW3HuxCGJycKsXU4zEmN2jUtmLAFPhdNy0jQ+Dem4jggAAAAokw2ciuNoW/IqvZQlXyzVulm9+U3vVV+J3blMUjasvg1NytjhK7FZ4vmz7ZYca6S4z6W2/6V7PNMiYMl+nCVKHTCqXL5qseViOcsri99s5huY7MLJImpcXjsluGRzju4W9qfdYLrNLE2jW1Pqlb6qi144NABwIlMv1LSg5nijN8eGjE+FzORavdC0DBOrjkpVypkjJ9OrhUrVCIQ46B2KqamQPd2WnVXJr7rMhi6m8LXlfJn1ybpiF3ZZRbK2tINJlHQbmttv+qNokvrZm7TVxTpS3IQVeDvsaALm1N9uoOcrHfXcYtFZOyxzQNcq9uXjkdEEZhRmtRZdb1SR4NrJQadxeaMh8TflmaI1J4y/u10cM+WoXj6b6+XXSHG8mOyWR+2ZOVu75P7huQl6oV4V1L24zfIBBWzNqrh1qKCVvitk0mzZ5V2rnOuCalQpZ44c/8w+kiU77I5j3rk8y9nCKdT7PVqkC91ZpcuyZtWuulVnr8oOu1piPrQpctJzhjnThiRTKjCjLUcxRwLcStuBTaztlp5K2baFj141qXQHaRx189nne4euE3X91Mh5V+ktWkJ/Fw9mR4bskRkvvkqxjvbXq6JuXuMOjfmdLClPlarsv8Mu7HHDcFsUK55f1KaVsknXEPCmBmBM+tqRd3Z0My97yiapRSFp8S7ZI1w8vlUt0z1o99cb7I6nZxtWGZ29SKvTqo7sxvtQ26atpd2eL40eY4lS8BKy0U22kxQYoTLszksDN8V+tTiIfEqfIC8myM4OVZBgYiZuAxbj7856xagv9kcvgY/Ps3BJMg/3oxOYJlJ0ZzxZ4ICj0aLBbTWNO9GjwBHEDs3tVcF78lQXe3OdMokxNa031nXPxtDhaDRNwEy0rnFVfN42vVZl4T2qVKARvI12zC6mMVJtIXYTVBxQ0HW0VwfPLnNT6Dww/NsWR+8DxQBcuxlM1gi9tj1kaNV+Ojrz/6qo3hYMuM/AIYRiythXYhG2u1H3XrFA3Qa3Ya90nEdNwl/F7c9oc/LPbDr92rDxb042YR2Kj9jVdbcej/YpReI+uNoWPLuzDrN88VqCk17c8hWVehL1wneegdEMlr5bCg2mzWjXERPXtnd50tZr11lZ6KXjRTFeFjvh4qa5eLlgS13XvKI6XS0XonUEhzF3lR+9jQfsTR4L2N28eSR+sPNsm7WzPAqk8CvOs/nFHiyEkG61czNgE1QCDaMVV7xxrcW2ndiGqHxWoi25xm477NKrhuSP2/U/svX2qphd1CuY+2lNF0+ZdtY25szInNyn09hkZ12e/OdFUrRaiyD9/g0MWNAIz2UhPBozbcT4VGjvjdUdRgXRuqcu0DCZfBLP2Jv8R3xlXOu+BNP8ipuL4i5oFTlGbG4eOA4690Ibc8C0kDnCTxmYHRBH3LJvzg6dvclm+Vrel8pJd0MMSeAnFkdkxLtj/Pso046xKPl0D/38o3hQxrxJ8Xdaobrr/GIo0D+zmUlLVA8Z6a8U1KDVUayg9C7vpzQKKPaZ3WjCZ/ouTnHcHPpL5Yzq1bJfBSwHwJ7IA3Y3b2jZC/PoM5k4ogaPMBLsT9aQXjtjtritlJWts892s8PJb2iim+amFvOyO57h//WJIIqmDfGR3vkfsqq4WuPLHzJv4QgYklcHKMqsnXptn2yHW5HG/u3ZEzZBNJDO5NHOd+bzb/9abM/xd23wipfEH64WayCI1p2YzRp0evZa1ItibdkWAykO0RVdqoYKSlYl2zW9NeGj6btCBFNwsd6aDQ05zGRivRnpzZN2gkl1XUUydcchqN/uglyd9vNukaEFs2x1PUqcb9GD9HjG8nLWLSJFacx+MpvbWYcLqXamkEbfm07EG1PYUWOyXWluv7sG6J5NCd935mmZCEjlBHL/v5Y+Y2ZE41w74wKTBhdVN+zJVqeyCmJ2uY0jKY+fAJiiUqFUJp0zt1W0tXMGpm6aWoJ51fOoFD6/G9Edc1+olw7uNEGmPe3EZmzgXz6jqDZu8v9SOaN6Z1B3KCaTNcuUYzpn5ujVDewsH8GXl6eJ3iDFSK9W+q6QtliL7M/nV6CUmc1uSi2NApNAg1p0Ses4h6HKcqjZWhMabVfWZVs7zjSSk2yytGmJdd3W2pFTmTO6GolT+bW/DRva9tyVXtwlZ3o8S1BLo3I2khbapXfrNZOj3sbaepnqjNq/BaE0LquIZXqoXXdhx84GR8MULeR0mDUzRgXy09ipnkfdibRSvlbvkIXM9pMlkxWCURbotdTy0b9UzqheLftllwuYt9nfj/go6l2Vha2MUdE7+0gsZZNaEeNsf1FXI/7auG2oonp/DjX7IgODOM0zWJW72l6PZxC+p1B2Kqy1DBG+b7H67JJo3GoWcD89SjejWR/PmPmaRPds/J0Vl9ZTCamcWCnzYt/JZHtuiOUnXn43fpTw79nhndvecsMWPoW0UHVqw1oDTCnOXcUTWl1pNeiu3sY8Kro2PdvYXM/fKDeZNYGE4rgp2GE36lwW4/4Qj19kRcI42eUzqhUteTn6AbsbFPTmHF07RxsPbraatm5ljAoNHwl6S3GxJyoWePiO1pnqSmUWJ6/qitzwfJOdQ3HNh1DfTK1qUJ5tdi4fWqch2W1nN2MvLv98usqFql+L7kDsP6xfyQQpC+TFlpOepc0pHXpGG1sM989kYUaCIFp3okOhHxhFVlwoZF2sAnYAAJCRdt/OXXkxrNON9ZxFSPZ33BMph0IWqLCO1qUHjSq3Nnm10PU8HIrr3LXEsxmq9EOr7+54t+oN0pJMDaNDxgrrwKMotvyZEJKiNEoatr6SaF3NZS4Svyual05CDnIrQbRuq44OgAdjFbDT2uwKjDi6do42/s2kFedZiQ8LzBWhM6fiGmx+gkUvXzUfXRWtu564w870Ydji51Oww+4sZIVJbxtko0B6d6FxR+eUPRExBLbakDJpx0jttPDKohaf8lmo+uXQYt9HWlF4bBgN4TTSTQ9mZydj90x/VBzpBNG6I7rljFX9AB3magd3Q1Zc6Gx10Q/YnT4iOttf1NVw3eKpV/nSoWaDSPf+pIU6/vETaczY4mL40svyDj64dsvkU281mz4YG39nxaU1W03lnLuWWEtcYRZXp1p0pR1acbt1AlstBdNhyNkkO9WblO2GREdQ8QhdaRRaj+nwlKXMTsVGlRoZj2zVIRQpjptDf6mcUb1a9g/hXzvMcLCF3lG0bKOiZix5OZoBuycVrmdeZnRN2nlcfR1ncAqnG3pDV/Ux3v3UUBqJA/wDCrm7Srzbku7SYm25rY3WXQY77O5taMWvu5oeT8+2bVM86xBN+3iFUMW5OGWpb2Rno2pOKZkiIaF4UIDYjGwu8UmW1o0ZyNHl7wkKqo3uJNZ0SpxKptUaA3PXtxMxDZtpJ11/1B3mahOb9l8t7UtwXmoVde28DJm3befcnYXOnEmxPmp6aypG03eF0At9iqKopT2KzKjrqs7kq5QzRw7HmMeQZZYOfpwsN3a1GNH91uTN0EzCaHVdC8wJgjvLy5kW0WgudAtZNlGbN8A0WtfO1IfxShp+mkga1fL8XTTA9N9IIPsUdBtGIPf/jWhPHubTO5OVWK3/HBLIuZzZmWxYYhtSa/bxeNsvtAZumfdxruqmsVOdJr5/LGmT/G5Et8PZvPu6RBbGPioblTJnoWOK5yjT9uhJ4Vdp3OT/pXJG9WrZryKKyYzGVf7LR7FUjQTOmHHjX55Weqs3+75R1lrXq5W+K2RUkVaBMOVrqWNq5yfYTdER0Dxq5bqxlUblOIch+42quFiSio3Ks5ztciGm5q0NVDRyDp5CcTec6XGmARZnb2JfF/9Vqb5MjkOTkDVsRXfQpdZVuqm26zdeRa24Uo8TXD6aWFZrnKu6aexUx5QqCIykBmil1NW7CpmF4Xv6XTzLOUgF8m3gWMg3YEhyIOPm6F8qZ1Svlv1aAu2cN9UyZMykRnCtK09bvdaNdVSvVvquEJl5k8XSFauukWlD10KtnDLNeBg0m1oZR8AuiqXlqdioFgbsikf8qXl019PFujgHT8ehXcVTxTTMs6NKI9ZVFr7XEkYqxK16z9Ets8fTQtN+41W0y4rjF0OlrV5rnKu6aexUX3rRuplWzReios5ImgViC0MyP6QHsyOh50e1C8WoC2xoGf37SOycV2yGj8Zn41yeuk3or8CC5XsaF8J53OlQtn0ZwZvb2+ns1qKiPc9oVDvkYqjfUH8dxq16h3I4jvhKu+Ijq3Znr+sK9k8SWctX7NlM7RSQZm0rw47gYUNMl/ajtZ6WADBDbMnth0/j31B6fpZKaxwZNS9zKIseRvYOu0f2dQ9e7INDGQvYPdItBah7sjhYplsjG8bs0OTOBXX3Epj9xmR7qN1hRjOT0d5DR5PNn43xO4dZvulaYn7hlLnMU9c8b6O9ht+HhmvsbPYmbDhPphQt1I0mUxX+LceuIrqzi/SU+qshuxqNQLQuA2E7MENjsBA4Djdg92yflKHrybFes1d4Uo2X5Up1q7nI41ud+l04wAGFrI5/v4Fo3STdfXB2Z8/dYae4RqUxuxlpFiiu6rd6s7gdm5sHtEidd89K110ovoFsvOiGs2ncqniqLXDUwvRfowWg4O/jQdgOiCl2xTLH+cNR9hKflKFYPnxRppWySXVvYgZ4GGhXJ5Iu1++3P2BgmqT2/Vbrs1fpeSKVqXAqJy6Z5sVGyeo7SmgbFr/cZHOyHIWE+wgtik+Cn6EaxA5qtSEtbu/IQsb7m70P+xdU0cL9zV5CbPnRKTLvoB11PE69Jg1mKfbnn29UZF424+/OesWcOBiBHSj2DwJaATu0Tj4WZaVVx/Oq/XHYGeEjZJVeNwLBXyZNH8jd70PXfiAlLimfVI/FD63G7W8Wx1PaCYzOhlI0rRvT6R5P/y2uoxTRvVGnImeIRm95dFe5w3h0l96qUbuhOpAtPzFs97x+1YH9i2vhIuIsPt9PONXcIZtPZgdTQv1WhBj1ni0TXtPFPH6WXjHoJ4GAdnfBFaJkDAAbkU1MFVdubclL9M58yFVG40m3a9HTT3TYVh9Tl5ezaQACLCTdkub5m2PPzNlGyvC9w+7+kXVx8ffQ8XTFpeUygUQD52X6q3gb/uNRIE/MTaqWUVPtbJJMHeeqbho71Sei5QivIovfXYwCzJKlY9DOTcti/N1ZLwAAgF1IO3fTO1GNuz2eeim16JLWcUrQ+8q7oigLrMu2sS+JYR04krvSi7vkTI+nZ+lv3bMRHweHv7yZVeNRd3uIAJnN2YTB3x3s8ttN41nU4LWkbabWeHQbFRoqAACA59AdRI3kr9JLcQ7Y6WbcuhgnQcAOWLCqXWVni8lUzqZYN+awd9AfmPKq8ajBU5f34ngc4nRgntq0n5MYAABk9D86AcChBLNd6O031KzSu4q35Xch6gsVrFtAiumXKOLvkLzDzujv5k8hATswHkWOfh1hg482qzMEtoDp3elzst1r0boAACr8XW0AACZYr9Zqc/dVelfhk19Mei7M/IAlnl+fyN7sY/1XViDgRDAeAQBkUL9uO3vAp1oAAF4gYAceSxrY0hpTOcGyVXr9obMZlfxSmVgjAaDL5JOzgrMRROuABRiPAACKxM101N/jkYBvegAA7EHADjwQu7GzLXmV3lW4WbVn9gE4F/r46h1uqz3WOn82cruzz1/wHjAeAQDUWTXtBwAAAAAAAAAAAAAAAADAjvwHXOCRqfndkrIAAAAASUVORK5CYII=",
r.ur=l);this.Y=new IconManager(l,b);this.Y.add("play",40,40);this.Y.add("pause",40,40);this.Y.add("tostart",40,40);this.Y.add("menu",40,40);this.Y.add("stepback",40,40);this.Y.add("stepforward",40,40);this.Y.add("autofit",40,40);this.Y.add("fit",40,40);this.Y.add("grid",40,40);this.Y.add("shrink",40,40);this.Y.add("draw",40,40);this.Y.add("hexgrid",40,40);this.Y.add("lines",40,40);this.Y.add("pan",40,40);this.Y.add("pick",40,40);this.Y.add("states",40,40);this.Y.add("hexagongrid",40,40);this.Y.add("trianglegrid",
40,40);this.Y.add("inside",40,40);this.Y.add("undo",40,40);this.Y.add("redo",40,40);this.Y.add("drawpause",40,40);this.Y.add("invertselection",40,40);this.Y.add("autoshrink",40,40);this.Y.add("selectlibrary",40,40);this.Y.add("cut",40,40);this.Y.add("copy",40,40);this.Y.add("paste",40,40);this.Y.add("flipx",40,40);this.Y.add("flipy",40,40);this.Y.add("rotatecw",40,40);this.Y.add("rotateccw",40,40);this.Y.add("random",40,40);this.Y.add("smart",40,40);this.Y.add("outside",40,40);this.Y.add("select",
40,40);this.Y.add("reverse",40,40);this.Y.add("uturn",40,40);this.Y.add("nudgeright",40,40);this.Y.add("nudgeleft",40,40);this.Y.add("nudgeup",40,40);this.Y.add("nudgedown",40,40)};g.prototype.lG=function(b){var l=!1,e=null;""===b&&(b="Life");try{e=this.D.create("","x = 1, y = 1, rule = "+(b+"\nb!"),this.g.v,null,null,[],this)}catch(t){e=null}e&&e.ve&&(l=!0);return l};g.prototype.oD=function(b){var l=window.prompt("Change rule",(""===b.pd?b.zb:b.pd)+b.Gm);if(null!==l)if(b.lG(l)){""===l&&(l="Life");
var e=l.indexOf(":");-1!==e?(b.zb=l.substr(0,e),b.Gm=l.substr(e)):(b.zb=l,b.Gm="");b.pd="";e=b.g.Wt(b,b.g,!0,b.g.i,b.g.i,[],!0);b.zd&&(b.J=b.Np,b.H=b.Mp);b.Nh(e,!1)}else b.o.notification.notify("Invalid rule",15,180,15,!0)};g.prototype.ay=function(b,l,e,t,x){var z=this.zb;""!==b&&(z=z.substr(0,z.length-b.length));this.pd=this.zb=z+=l;b=this.g.Wt(this,this.g,!0,e,t,x,!0);this.zd&&(this.J=this.Np,this.H=this.Mp);this.Nh(b,!1)};g.prototype.HI=function(b){b.ay(b.g.Ga?"History":"","Super",b.g.Ga?7:2,26,
b.g.Ga?r.AK:r.mN)};g.prototype.FI=function(b){b.ay(b.g.T?"Super":"","History",b.g.T?26:2,7,b.g.T?r.rN:r.lN)};g.prototype.GI=function(b){b.ay(b.g.Ga?"History":"Super","",b.g.Ga?7:26,2,b.g.Ga?r.zK:r.sN)};g.prototype.CD=function(){var b=this.g.Ia.Ng;var l="",e,t;var x="R"+b+",C"+(this.g.Ia.xo+",");b=this.D.Vr(b,this.g.Ia.type,this.g.Ia.ii);switch(this.g.Ia.type){case this.D.Pd:l="";break;case this.D.uf:l="N";break;case this.D.hk:l="C";break;case this.D.nk:l="2";break;case this.D.$i:l="+";break;case this.D.Dj:l=
"X";break;case this.D.Ij:l="*";break;case this.D.ri:l="H";break;case this.D.Xi:l="B";break;case this.D.kj:l="#";break;case this.D.Ul:l="@"+this.g.Ia.se;this.g.S?l+="H":this.g.R&&(l+="L");break;case this.D.Rh:l="3";break;case this.D.uh:l="A";break;case this.D.Qh:l="L";break;case this.D.li:l="G";break;case this.D.Xo:l="W"+this.g.Ia.se,this.g.S?l+="H":this.g.R&&(l+="L")}var z=this.Tb.random()*b/b;x+="S";var A=-1;for(e=t=0;t<b;)this.Tb.random()<z?-1===A&&(0<e&&(x+=","),x+=String(t),A=t,e+=1):-1!==A&&
(A!==t-1&&(x+="-"+String(t-1)),A=-1),t+=1;-1!==A&&A!==t-1&&(x+="-"+String(t-1));0===e&&(A=this.Tb.random()*b|0,x+=String(A));x+=",B";z=this.Tb.random()*(b-1)/(b-1);A=-1;t=1;for(e=0;t<b;)this.Tb.random()<z?-1===A&&(0<e&&(x+=","),x+=String(t),A=t,e+=1):-1!==A&&(A!==t-1&&(x+="-"+String(t-1)),A=-1),t+=1;-1!==A&&A!==t-1&&(x+="-"+String(t-1));0===e&&(A=this.Tb.random()*(b-1)|1,x+=String(A));""!==l&&(x+=",N"+l);return x};g.prototype.DD=function(){var b=this.g.Ia.Ng;var l="";var e="R"+b+",C"+(this.g.Ia.xo+
",");e+="M1,";b=this.D.Vr(b,this.g.Ia.type,this.g.Ia.ii);b+=1;switch(this.g.Ia.type){case this.D.Pd:l="M";break;case this.D.uf:l="N";break;case this.D.hk:l="C";break;case this.D.nk:l="2";break;case this.D.$i:l="+";break;case this.D.Dj:l="X";break;case this.D.Ij:l="*";break;case this.D.ri:l="H";break;case this.D.Xi:l="B";break;case this.D.kj:l="#";break;case this.D.Ul:l="@"+this.g.Ia.se;this.g.S?l+="H":this.g.R&&(l+="L");break;case this.D.Rh:l="3";break;case this.D.uh:l="A";break;case this.D.Qh:l=
"L";break;case this.D.li:l="G";break;case this.D.Xo:l="W"+this.g.Ia.se,this.g.S?l+="H":this.g.R&&(l+="L")}var t=this.Tb.random()*b|0;e+="S"+String(t);t=(this.Tb.random()*(b-t)|0)+t;e+=".."+String(t);t=(this.Tb.random()*(b-1)|0)+1;e+=",B"+String(t);t=(this.Tb.random()*(b-t)|0)+t;e+=".."+String(t);return e+(",N"+l)};g.prototype.GD=function(){var b="W";var l=2*(127*this.Tb.random()|0);return b+=String(l)};g.prototype.ED=function(b){var l="B",e,t,x=8,z="";if(this.g.S)switch(this.g.yg){case this.D.tp:x=
6;z=this.D.bv;break;case this.D.tr:x=3,z=this.D.Wy}else if(this.g.R)switch(this.g.Ud){case this.D.So:x=3;z=this.D.ct;break;case this.D.yq:x=6;z=this.D.Kw;break;case this.D.zq:x=6;z=this.D.Lw;break;case this.D.To:x=9;z=this.D.et;break;case this.D.gn:x=12,z=this.D.dt}else this.g.te&&(x=4,z=this.D.Rw);var A=new Uint8Array(x+1);var C=new Uint8Array(x+1);var G=t=50;-1!==this.kl&&(G=t=this.kl);-1!==this.ll&&(t=this.ll);-1!==this.Mm&&(G=this.Mm);for(e=0;e<=x;e+=1)A[e]=t,C[e]=G;-1===this.kl&&-1===this.ll&&
(A[0]=25);for(e=0;e<this.Kh.length;e+=2)this.Kh[e]<=x&&(A[this.Kh[e]]=this.Kh[e+1]);for(e=0;e<this.xj.length;e+=2)this.xj[e]<=x&&(C[this.xj[e]]=this.xj[e+1]);for(e=2<this.g.i||b?1:0;e<=x;)100*this.Tb.random()<=A[e]&&(l+=String(e)),e+=1;l+="/S";for(e=0;e<=x;e+=1)100*this.Tb.random()<=C[e]&&(l+=String(e));2<this.g.i&&!this.g.T&&(l+="/"+this.g.i);return l+=z.toUpperCase()};g.prototype.FD=function(b){var l=b?this.D.yL.toUpperCase()+",":"M",e,t=!1;var x=0;var z=[];var A=this.g.Tf;if(this.dw){t=new Uint8Array(16);
b=new Uint8Array(16);for(e=0;16>e;e+=1)t[e]=e,b[e]=A[e];for(e=0;16>e;e+=1){var C=A[e];for(x=b=0;16>x;x+=1)C===A[x]&&(b+=1);var G=new Uint8Array(b);for(x=b=0;16>x;x+=1)C===A[x]&&(G[b]=x,b+=1);z[e]=G}for(e=1;16>e;e+=1).5>=this.Tb.random()&&(G=z[e],b=this.Tb.random()*G.length|0,b=G[b],A=t[e],t[e]=t[b],t[b]=A);for(e=0;15>e;e+=1)l+=t[e]+",";l+=t[e]}else if(this.aw){e=16;b?(b=0,x|=1):(b=16*this.Tb.random()|0,15==b?(t=!0,x|=32769,--e):(b=0,x|=1));l+=String(b);for(--e;65535!==x;){b=this.Tb.random()*e|0;for(C=
0;0<=b;)0===(x&1<<C)&&--b,C+=1;l+=","+String(C-1);x|=1<<C-1;--e}t&&(l+=",0")}else{b?b=0:(b=16*this.Tb.random()|0,15===b?t=!0:b=0);l+=String(b)+",";for(e=1;15>e;e+=1)b=16*this.Tb.random()|0,l+=String(b)+",";b=t?0:16*this.Tb.random()|0;l+=String(b)}return l};g.prototype.$v=function(b,l){var e="",t,x,z=0,A,C=[],G=b.Zv,D=b.ew,I=b.Xv/100,F=!1;-1!==b.zb.indexOf("|")&&(F=!0);if(2>=b.g.i){C[0]="b";C[1]="o";var E=2}else for(E=b.g.i,C[0]=".",x=0;x<E-1;x+=1)C[x+1]=24<=x?String.fromCharCode(112+(x/24|0)-1)+String.fromCharCode(65+
x%24):String.fromCharCode(65+x);-1!==b.g.Vd&&(G=1);for(t=0;t<G;t+=1){var H=this.Tb.random()<=I?(this.Tb.random()*(E-1)|0)+1:0;for(x=A=1;x<D;x+=1)z=this.Tb.random()<=I?(this.Tb.random()*(E-1)|0)+1:0,z!==H&&(1<A&&(e+=A),e+=C[H],A=0,H=z),A+=1;0!==z&&(1<A&&(e+=A),e+=C[z]);t<G-1&&(e+="$\n")}e+="!\n";b.As||l||(b.g.fa||(b.g.ma||b.g.N?(b.zb=b.FD(b.g.N),F&&(b.zb+="|"+b.FD(b.g.N))):b.g.sa?b.NC?(b.zb=b.DD(),F&&(b.zb+="|"+b.DD())):(b.zb=b.CD(),F&&(b.zb+="|"+b.CD())):-1!==b.g.Vd?(b.zb=b.GD(),F&&(b.zb+="|"+b.GD())):
(b.zb=b.ED(F),F&&(b.zb+="|"+b.ED(F)))),b.g.Ga&&(b.zb+="History"),b.g.T&&(b.zb+="Super"),l=AliasManager.kr(b.zb),null!==l?b.pd=l:b.pd="");l=b.g.Ac;l+="x = "+r.aq+", y = "+r.aq+", rule = ";l+=(""===b.pd?b.zb:b.pd)+b.Gm+"\n";l=l+e+b.g.pg;if(b.Oj.locked||b.Yv||window.confirm("Create new random pattern?"))b.zd&&(b.J=b.Np,b.H=b.Mp),b.Nh(l,!1),b.lB(b)};g.prototype.bF=function(b){var l=window.prompt("Create new pattern with rule",(""===b.pd?b.zb:b.pd)+b.Gm);null!==l&&(b.lG(l)?(""===l&&(l="Life"),b.zd&&(b.J=
b.Np,b.H=b.Mp),b.Nh("x = 1, y = 1, rule = "+(l+"\nb!"),!1)):b.o.notification.notify("Invalid rule",15,180,15,!0))};g.prototype.TG=function(){this.pi.icon=this.g.S?this.g.vc?[this.Y.icon("hexagongrid")]:[this.Y.icon("hexgrid")]:this.g.R&&this.g.vc?[this.Y.icon("trianglegrid")]:[this.Y.icon("grid")]};g.prototype.tx=function(b,l){b.o.hasFocus&&(b.wn||(b.wheelDelta=-l.deltaY,1===l.deltaMode&&(b.wheelDelta*=45),b.o.Jg(!0)),l.preventDefault())};g.prototype.vC=function(){var b=this.X.gD(0===this.Qs?0:this.kh/
this.Qs),l=this.Xm,e=this.fr;this.g.Da=this.g.width/2-(this.Ym+b*(this.Vk-this.Ym));this.g.wa=this.g.height/2-(this.Zm+b*(this.In-this.Zm));this.g.zoom=this.Do*Math.pow(this.Jn/this.Do,b);180<e-l?l+=360:-180>e-l&&(e+=360);this.g.angle=(l+b*(e-l))%360;this.Gu&&(this.g.ue=this.BB+b*(this.Fy-this.BB),this.hd.current=this.wl([this.g.ue,this.g.ue],!1,this));this.sv&&(this.g.V=this.CB+b*(this.Gy-this.CB),this.ee.current=this.it([this.g.V,this.g.V],!1,this));this.kh+=1;this.kh>this.Qs&&(this.kh=-1,this.g.zoom=
this.Jn,this.g.angle=e%360,this.g.Da=this.g.width/2-this.Vk,this.g.wa=this.g.height/2-this.In,this.Gu&&(this.g.ue=this.Fy,this.hd.current=this.wl([this.g.ue,this.g.ue],!1,this)),this.sv&&(this.g.V=this.Gy,this.ee.current=this.it([this.g.V,this.g.V],!1,this)));this.yc&&(this.yc.current=this.Lk([this.g.zoom,this.g.zoom],!1,this));this.Hd&&(this.Hd.current=this.ht([this.g.angle,this.g.angle],!1,this))};g.prototype.YI=function(){var b=this.X,l=b.Pe.length,e,t=this.hb,x=this.lb,z=b.gp();for(e=0;e<l;e+=
1){var A=b.Pe[e];z.Fh=!0;z.x=-A.x+t/2;z.Sf=!0;z.y=-A.y+x/2;z.xf=!0;z.zoom=A.zoom;z.Wd=!0;b.add(z);e<l-1&&(z=b.gp())}};g.prototype.tB=function(b,l){var e=b.X.uc[l];b.Ym=b.g.width/2-b.g.Da;b.Zm=b.g.height/2-b.g.wa;b.Do=b.g.zoom;b.Xm=b.g.angle;e.Sf?b.Vk=e.x:b.Vk=b.Ym;e.xf?b.In=e.y:b.In=b.Zm;b.Jn=e.Wd?e.zoom:b.Do;b.fr=e.th?e.angle:b.Xm;b.g.S&&(b.Vk+=b.g.wa/2);b.Gu=e.ki;b.Gu&&(b.BB=b.g.ue,b.Fy=e.depth/r.Bn);b.sv=e.wi;b.sv&&(b.CB=b.g.V,b.Gy=e.V);b.kh=0;b.Qs=e.uk;b.vC();e.uo&&b.bG(b);e.Yg===WaypointConstants.play?
b.Ab.current=b.Ed(r.sk,!0,b):e.Yg===WaypointConstants.stop&&b.cb&&(b.Ab.current=b.Ed(r.Qe,!0,b));e.ng&&b.Rm(e.Fc,b.g.Ol,b);b.o.notification.notify("POI "+(l+1),15,60,15,!0);""!==e.Rf?b.o.notification.notify(e.Rf,15,180,15,!1):b.o.notification.clear(!1,!0);e.$m&&(b.ac=e.ac);e.rm&&(b.gb=e.gb);e.oi&&(b.wg=Math.sqrt((e.Cc-r.Wg)/(r.tm-r.Wg)),b.lc.current=b.Jk([b.wg,b.wg],!0,b));e.Gi&&(b.Fa=e.step,b.Td.current=b.ln([b.Fa,b.Fa],!0,b));e.Ps&&(b.g.counter>e.fc&&b.bG(b),b.g.counter<e.fc&&(b.wn=!0,b.$x=e.fc,
b.Zx=!1));e.$k&&(b.g.jc=e.jd);e.Aw&&(this.Di=e.Wm)};g.prototype.gi=function(b,l,e){var t=l/b.g.xc;e&&(l=1<=l?Math.round(l):1/Math.round(1/l),t=l/b.g.xc);b.Id||(b.Ym=b.g.width/2-b.g.Da,b.Zm=b.g.height/2-b.g.wa,b.Do=b.g.zoom,b.Xm=b.g.angle,b.Vk=b.Ym,b.In=b.Zm,b.Jn=t,b.fr=b.Xm,b.kh=0)};g.prototype.jx=function(b){b.uC(b)};g.prototype.yx=function(b){b.aB(b)};g.prototype.au=function(b){b.Ak||b.Bk||b.Ck||b.Dk||b.Gj?(b.Ak=!1,b.Bk=!1,b.Ck=!1,b.Dk=!1,b.Gj=!1):b.Rc.current=[!1]};g.prototype.Gt=function(b){b.Ck=
!0};g.prototype.lt=function(b){b.Ak=!0};g.prototype.Ht=function(b){b.Dk=!0};g.prototype.ut=function(b){b.Bk=!0};g.prototype.At=function(b){b.bF(b)};g.prototype.Mt=function(b){b.$v(b,!1)};g.prototype.Yw=function(b){b.lB(b);b.o.notification.notify("Saved",15,120,15,!0)};g.prototype.yt=function(b){b.xE(b)};g.prototype.zx=function(b){b.oD(b)};g.prototype.py=function(b){b.Gj=!0};g.prototype.Ce=function(b,l,e){e&&(l[0]?(this.Rm(r.Ts[b],1,this),this.Rc.current[0]&&(this.Rc.current=this.Zs([!1],!0,this))):
(this.Rc.current[0]&&(this.Rc.current=this.Zs([!1],!0,this)),l[0]=!0));return l};g.prototype.nz=function(b,l,e){return e.Ce(0,b,l)};g.prototype.Ez=function(b,l,e){return e.Ce(1,b,l)};g.prototype.SC=function(b,l,e){return e.Ce(2,b,l)};g.prototype.Zw=function(b,l,e){return e.Ce(3,b,l)};g.prototype.ax=function(b,l,e){return e.Ce(4,b,l)};g.prototype.bx=function(b,l,e){return e.Ce(5,b,l)};g.prototype.cx=function(b,l,e){return e.Ce(6,b,l)};g.prototype.dx=function(b,l,e){return e.Ce(7,b,l)};g.prototype.ex=
function(b,l,e){return e.Ce(8,b,l)};g.prototype.hx=function(b,l,e){return e.Ce(9,b,l)};g.prototype.Hz=function(b,l,e){return e.Ce(10,b,l)};g.prototype.Qz=function(b,l,e){return e.Ce(11,b,l)};g.prototype.aA=function(b,l,e){return e.Ce(12,b,l)};g.prototype.CA=function(b,l,e){return e.Ce(13,b,l)};g.prototype.ZA=function(b,l,e){return e.Ce(14,b,l)};g.prototype.nB=function(b,l,e){return e.Ce(15,b,l)};g.prototype.KB=function(b,l,e){return e.Ce(16,b,l)};g.prototype.tC=function(b,l,e){return e.Ce(17,b,l)};
g.prototype.BC=function(b,l,e){return e.Ce(18,b,l)};g.prototype.OC=function(b,l,e){return e.Ce(19,b,l)};g.prototype.cz=function(b){b.zj=!1};g.prototype.st=function(b){b.ad=!1;b.fm.current=b.EC([b.ad],!0,b)};g.prototype.Vw=function(b){b.qd.length?(b.qd=[],b.ic=0,b.uB(b.Ad.current)):k()};g.prototype.SF=function(b){--b.Qg;0>b.Qg&&(b.Qg=b.X.uc.length-1);b.tB(b,b.Qg)};g.prototype.cF=function(b){b.Qg+=1;b.Qg>=b.X.uc.length&&(b.Qg=0);b.tB(b,b.Qg)};g.prototype.Bt=function(b){b.fd+=1;b.fd>=B.ye.length&&(b.fd=
0);b.Nh(B.ye[b.fd].pattern,!1)};g.prototype.It=function(b){--b.fd;0>b.fd&&(b.fd=B.ye.length-1);b.Nh(B.ye[b.fd].pattern,!1)};g.prototype.Qx=function(b){b.JB();b.la&&(b.la=0);b.Rc.current[0]=!1;b.o.Ph=!0};g.prototype.Mx=function(b){b.Ks=!0};g.prototype.ix=function(b){b.Mh(r.xl,b)};g.prototype.yI=function(b,l){var e=0;if((b.g.Ga||b.g.T)&&l)for(;e<b.yb.length;)1<b.yb[e]&&(b.yb[e]&=1),e+=1;else for(;e<b.yb.length;)b.yb[e]=0,e+=1};g.prototype.sD=function(b){var l=b.Eb,e=l.j,t=l.A,x=l.m;l=l.B;var z=b.g.L,
A=z.j,C=z.A,G=z.m;z=z.B;var D=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1);var I=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);if(!b.Ta&&b.xb){if(e>t){var F=t;t=e;e=F}x>l&&(F=l,l=x,x=F);e+=D;t+=D;x+=I;l+=I;for(F=G;F<=z;F+=1)for(G=A;G<=C;G+=1)F>=x&&F<=l&&G>=e&&G<=t||(D=b.g.getState(G,F,!1),0!==D&&b.dd(G,F,0));b.g.fh=!0;b.g.Ah();b.ub("clear cells outside selection")}};g.prototype.zI=function(b,l){var e=b.Eb,t=e.j,x=e.A,z=e.m;e=e.B;var A=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),C=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);if(!b.Ta&&
b.xb){if(t>x){var G=x;x=t;t=G}z>e&&(G=e,e=z,z=G);if((b.g.Ga||b.g.T)&&l){for(G=z;G<=e;G+=1)for(z=t;z<=x;z+=1){var D=b.g.getState(z+A,G+C,!1);1<D&&b.dd(z+A,G+C,D&1)}b.g.Ga&&this.g.po()}else for(G=z;G<=e;G+=1)for(z=t;z<=x;z+=1)D=b.g.getState(z+A,G+C,!1),0!==D&&b.dd(z+A,G+C,0);b.g.fh=!0;b.g.Ah();b.rh=!1;(b.g.Ga||b.g.T)&&l?b.g.Ga?b.ub("clear [R]History cells in selection"):b.ub("clear [R]Super cells in selection"):b.ub("clear cells in selection")}};g.prototype.yy=function(b,l){b.Ta||(b.ld?b.yI(b,l):b.zI(b,
l))};g.prototype.ro=function(b){b.yy(b,!1)};g.prototype.io=function(b){b.sD(b)};g.prototype.oo=function(b){b.yy(b,!0)};g.prototype.pG=function(b){var l=b.Eb,e=b.g.L,t=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),x=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);0<b.g.qa?(l.j=e.j-t,l.m=e.m-x,l.A=e.A-t,l.B=e.B-x,b.xb=!0,b.rh=!1,e=l.A<l.j?l.j-l.A+1:l.A-l.j+1,l=l.B<l.m?l.m-l.B+1:l.B-l.m+1,b.ub("select all ("+e+" x "+l+")")):b.iw(b)};g.prototype.VF=function(b,l,e){b.Ta||(!b.il&&b.wh&&(l?b.Pq(b,!0):b.Ta?b.Pq(b,!0):e?b.hu(b,
!0):b.hu(b,!1)),b.oy(b,b.tg,!1,!1))};g.prototype.KD=function(b){b.VF(b,!1,!1)};g.prototype.oy=function(b,l,e,t){var x=b.Eb,z=x.j,A=x.A,C=x.m;x=x.B;var G,D=0,I=b.g.i,F=2<I&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T),E=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),H=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);if(b.xb){if(z>A){var N=A;A=z;z=N}C>x&&(N=x,x=C,C=N);var K=A-z+1;var P=x-C+1;var J=b.g.v.P(Uint8,K*P,"View.pasteBuffer"+l);N=0;for(G=C;G<=x;G+=1)for(C=z;C<=A;C+=1){var T=b.g.getState(C+E,G+H,!1);0<T&&F&&(T=I-T);
J[N]=T;0<T&&(D+=1);b.dd(C+E,G+H,0);N+=1}b.Lf[l]={buffer:J,width:K,height:P,count:D};b.yb=J;b.sf=K;b.rf=P;b.ju();b.g.fh=!0;b.g.Ah();b.Kq=!0;b.yd=!1;b.rh=!0;t||(e?b.ub("advance outside"):b.ub("cut"))}};g.prototype.UF=function(b,l,e){0!==b.la?(Help.cy=!0,Help.xn="",Help.Ku(b),b.Ql(b,Help.xn,!1),Help.cy=!1,Help.xn=""):(b.il||!b.wh&&b.xb||(l?b.Pq(b,!0):b.Ta?b.Pq(b,!0):e?b.hu(b,!0):b.hu(b,!1)),b.xb&&(b.NI(b,b.tg),b.Cw||(b.Cw=!0,b.o.notification.notify("Disable Sync for faster internal clipboard",15,360,
15,!1))))};g.prototype.Uo=function(b){b.UF(b,!1,!1)};g.prototype.TI=function(b){var l=b.Eb,e=l.j,t=l.m,x=l.A,z=l.B,A,C,G=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),D=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1),I=!0;l=[];if(b.xb){if(e>x){var F=e;e=x;x=F}t>z&&(F=t,t=z,z=F);F=x-e+1;if(F!==z-t+1)b.o.notification.notify("Weighted needs a square selection",15,180,15,!0),I=!1;else if(0===(F&1))b.o.notification.notify("Weighted size must be odd",15,180,15,!0),I=!1;else if(3>F||99<F)b.o.notification.notify("Weighted size must be >= 3 and <= 99",
15,180,15,!0),I=!1;if(I){I="";var E=0;for(C=t;C<=z;C+=1)for(A=e;A<=x;A+=1)t=b.g.getState(A+G,C+D,!1),l[l.length]=t,t>E&&(E=t);if(7>=E)for(e=0;e<l.length;e+=1)t=l[e],I+=b.D.av[t];else for(e=0;e<l.length;e+=1)t=l[e],I+=b.D.av[t>>4],I+=b.D.av[t&15];b.g.S?I+="H":b.g.R&&(I+="L");b.Ql(b,I,!1);b.o.notification.notify("Weighted R"+(F-1>>1)+" copied to clipboard",15,180,15,!0)}}else b.o.notification.notify("Weighted needs a selection",15,180,15,!0)};g.prototype.II=function(b){var l=b.Eb,e=l.j,t=l.m,x=l.A;
l=l.B;var z=0,A,C=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),G=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);var D=!0;if(b.xb){if(e>x){var I=e;e=x;x=I}t>l&&(I=t,t=l,l=I);I=x-e+1;if(I!==l-t+1)b.o.notification.notify("CoordCA needs a square selection",15,180,15,!0),D=!1;else if(0===(I&1))b.o.notification.notify("CoordCA size must be odd",15,180,15,!0),D=!1;else if(3>I||99<I)b.o.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),D=!1;if(D){var F="";var E=t+(l-t+1>>1);D=e+(x-e+1>>1);var H=3;for(A=
t;A<=l;A+=1)for(t=e;t<=x;t+=1)if(A!==E||t!==D){var N=b.g.getState(t+C,A+G,!1);0<N&&(z|=1<<H);--H;0>H&&(F+=b.D.av[z],H=3,z=0)}b.g.S?F+="H":b.g.R&&(F+="L");b.Ql(b,F,!1);b.o.notification.notify("CoordCA R"+(I-1>>1)+" copied to clipboard",15,180,15,!0)}}else b.o.notification.notify("CoordCA needs a selection",15,180,15,!0)};g.prototype.LI=function(b){2<b.g.i?b.TI(b):b.II(b)};g.prototype.NI=function(b,l){var e=b.Eb,t=e.j,x=e.m,z=e.A;e=e.B;var A,C=0,G=b.g.i,D=2<G&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T),
I=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),F=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);if(b.xb){if(t>z){var E=t;t=z;z=E}x>e&&(E=x,x=e,e=E);var H=z-t+1;var N=e-x+1;var K=b.g.v.P(Uint8,H*N,"View.pasteBuffer"+l);E=0;for(A=x;A<=e;A+=1)for(x=t;x<=z;x+=1){var P=b.g.getState(x+I,A+F,!1);0<P&&D&&(P=G-P);K[E]=P;0<P&&(C+=1);E+=1}b.Lf[l]={buffer:K,width:H,height:N,count:C};b.yb=K;b.sf=H;b.rf=N;b.ju();b.Kq=!0;b.yd=!1;b.rh=!0}};g.prototype.cu=function(b){b.ld=!1;b.o.notification.clear(!0,!1);b.yd&&b.uC(b);b.yd=!1};g.prototype.EJ=
function(b,l){var e=this.$c,t=this.wh;l?b.xb?(b.oy(b,b.tg,!0,!1),b.g.qf(!0,b.xe,b.Pc,b.dc),b.g.Ke(),b.ub(""),this.$c=r.Iv,b.Tv(b,!0,!0),this.$c=e):b.o.notification.notify("Advance Outside needs a selection",15,180,15,!0):b.yd?(b.QD(b),b.yd||b.o.notification.notify("Advance Selection all cells died",15,180,15,!0)):b.xb?(b.rh||(this.wh=!1,b.KD(b),this.wh=t),b.Kq&&(b.QD(b),b.yd||b.o.notification.notify("Advance Selection no live cells",15,180,15,!0))):b.o.notification.notify("Advance Selection needs a selection",
15,180,15,!0)};g.prototype.QD=function(b){var l,e,t,x=b.sf,z=b.rf,A=b.yb,C=b.Eb,G=b.g.L,D=b.g.Nd,I=b.lp,F=b.g.jd,E=b.g.Dg,H=b.g.ba,N=b.g.ik,K=b.g.be,P=b.g.Ec,J=b.g.Ma,T=b.g.ha,Y=b.g.oa,U=b.g.Ka,M=b.g.Ca,fa=b.g.width,X=b.g.height,ia=b.g.eb,na=b.g.Sb,ba=b.g.gf,W=b.g.Iq,ca=b.g.td,da=b.g.Oc,ma=b.g.va,la=b.g.ta,V=b.g.Fb,R=b.g.Jb,Z=b.g.counter,ea=new BoundingBox(G.j,G.m,G.A,G.B),ha=new BoundingBox(D.j,D.m,D.A,D.B),aa=b.g.Ve,L=b.g.Fi,Q=b.g.Jj,ka=b.g.Of,S=b.g.ec,O=b.g.De,ja=b.g.jo,oa=b.g.jl,qa=null,ra=null;
b.g.sa&&(qa=b.g.Ia.Pg,ra=b.g.Ia.du,b.g.Ia.resize(1024,1024));b.g.cI();var ta=Math.round((b.g.width-b.hb)/2);var pa=Math.round((b.g.height-b.lb)/2);for(t=l=0;t<z;t+=1)for(e=0;e<x;e+=1){var sa=A[l];0<sa&&b.g.Fj(e+ta,t+pa,sa,!0);l+=1}b.g.qf(!1,!0,!0,b.dc);b.g.Ke();if(b.g.da){b.sf=G.A-G.j+1;b.rf=G.B-G.m+1;b.yb=b.g.v.P(Uint8,b.sf*b.rf,"View.pasteBuffer");l=0;for(t=G.m;t<=G.B;t+=1)for(e=G.j;e<=G.A;e+=1)sa=b.g.getState(e,t,!1),0<sa&&2<b.g.i&&!b.g.N&&!b.g.fa&&(sa=b.g.i-sa),b.yb[l]=sa,l+=1;b.yd?(I.j+=G.j-
ta,I.m+=G.m-pa,I.A=I.j+b.sf-1,I.B=I.m+b.rf-1):(I.j=C.j<C.A?C.j+G.j-ta:C.A+G.j-ta,I.m=C.m<C.B?C.m+G.m-pa:C.B+G.m-pa,I.A=I.j+b.sf-1,I.B=I.m+b.rf-1);b.yd=!0}else b.yd=!1;b.g.jd=F;b.g.Dg=E;b.g.ba=H;b.g.ik=N;b.g.be=K;b.g.Ec=P;b.g.Ma=J;b.g.ha=T;b.g.oa=Y;b.g.Ka=U;b.g.Ca=M;b.g.width=fa;b.g.height=X;b.g.eb=ia;b.g.Sb=na;b.g.L.j=ea.j;b.g.gf=ba;b.g.Iq=W;b.g.td=ca;b.g.Oc=da;b.g.va=ma;b.g.ta=la;b.g.Fb=V;b.g.Jb=R;b.g.counter=Z;b.g.Ve=aa;b.g.Fi=L;b.g.Jj=Q;b.g.Of=ka;b.g.ec=S;b.g.De=O;b.g.jo=ja;b.g.jl=oa;G.j=ea.j;
G.m=ea.m;G.A=ea.A;G.B=ea.B;D.j=ha.j;D.m=ha.m;D.A=ha.A;D.B=ha.B;b.g.sa&&(b.g.Ia.Pg=qa,b.g.Ia.du=ra)};g.prototype.EA=function(b,l,e,t){var x,z=b.sf,A=b.rf,C=b.yb;var G=b.um;var D=b.g.width;switch(b.Fg+.5|0){case r.AF:l-=z>>1;break;case r.BF:l-=z-1;break;case r.FF:e-=A>>1;break;case r.zF:l-=z>>1;e-=A>>1;break;case r.yF:l-=z-1;e-=A>>1;break;case r.EF:e-=A-1;break;case r.CF:l-=z>>1;e-=A-1;break;case r.DF:l-=z-1,e-=A-1}G.j=l;G.m=e;G.A=l+z;G.B=e+A;for(b.Sx(b,G);D!==b.g.width;)l+=D>>1,e+=D>>1,D<<=1;switch(b.$c){case r.gs:for(x=
G=0;x<A;x+=1)for(D=0;D<z;D+=1){var I=C[G];0<I&&b.dd(l+D,e+x,I);G+=1}break;case r.Iv:for(x=G=0;x<A;x+=1)for(D=0;D<z;D+=1)I=C[G],b.dd(l+D,e+x,I),G+=1;break;case r.vA:for(x=G=0;x<A;x+=1)for(D=0;D<z;D+=1){I=C[G];var F=this.g.getState(l+D,e+x,!1);b.dd(l+D,e+x,F^I);G+=1}break;case r.jA:for(x=G=0;x<A;x+=1)for(D=0;D<z;D+=1)I=C[G],F=this.g.getState(l+D,e+x,!1),b.dd(l+D,e+x,F&I),G+=1}b.ld=!1;b.yd=!1;b.o.notification.clear(!0,!1);t&&b.ub("paste")};g.prototype.Dm=function(b,l,e){var t=(b.g.width>>1)-(b.hb>>1)+
(b.Mb<<1),x=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1),z=b.Eb,A=z.j,C=z.m,G=z.A,D=z.B;var I=0;var F=b.g.width-1;var E=0;var H=b.g.height-1;if(!b.Ta&&b.xb){if(A>G){var N=G;G=A;A=N}C>D&&(N=D,D=C,C=N);N=G-A+1;var K=D-C+1;-1!==b.g.ya&&(0!==b.g.Ba?(I=Math.round((b.g.width-b.g.Ba)/2)-1,F=I+b.g.Ba-1+2):(I=0,F=b.g.width-1),0!==b.g.xa?(E=Math.round((b.g.height-b.g.xa)/2)-1,H=E+b.g.xa-1+2):(E=0,H=b.g.height-1));if(A+t+l>I&&G+t+l<F&&C+x+e>E&&D+x+e<H){b.oy(b,b.tg,!1,!0);t+=l;x+=e;I=0;G=b.Lf[b.tg].buffer;for(E=0;E<K;E+=
1)for(F=0;F<N;F+=1)D=G[I],b.dd(A+F+t,C+E+x,D),I+=1;z.j+=l;z.A+=l;z.m+=e;z.B+=e;b.ub("nudge "+(0===l?-1===e?"up":"down":-1===l?"left":"right"))}else b.o.notification.notify("No room to nudge selection",15,180,15,!0)}};g.prototype.Tv=function(b,l,e){var t=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),x=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1),z=b.Eb,A=b.lp,C=z.j,G=z.m,D=z.A;z=z.B;var I;if(!b.Ta&&null!==b.Lf[b.tg])if(l)if(b.xb||b.yd)if(b.yd&&(C=A.j,G=A.m,D=A.A,z=A.B),C>D&&(l=C,C=D,D=l),G>z&&(l=G,G=z,z=l),D=D-C+1,z=
z-G+1,b.sf>D||b.rf>z)b.o.notification.notify("Paste does not fit in selection",15,180,15,!0);else{l=b.Fg;b.Fg=r.Rp;for(I=G;I<=G+z-b.rf;I+=b.rf)for(A=C;A<=C+D-b.sf;A+=b.sf)b.EA(b,A+t,I+x,!1);b.Fg=l;b.ak&&b.Zt(b);e?b.ub("advance outside"):b.ub("paste to selection");b.yd=!1}else b.o.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else b.AA(b,b.tg),b.yd=!1,b.o.notification.notify("Now click to paste",15,180,15,!0)};g.prototype.wL=function(b){b.yd?(b.Tv(b,!0,!1),b.rh=!1):b.EA(b,
b.fk,b.gk,!0)};g.prototype.GF=function(b){b.Tv(b,!1,!1)};g.prototype.AA=function(b,l){0<=l&&l<b.Lf.length&&(null!==b.Lf[l]?(b.ld=!0,b.yd=!1,b.yb=b.Lf[l].buffer,b.sf=b.Lf[l].width,b.rf=b.Lf[l].height,b.Ad.current!==r.Gp&&(b.Ad.current=b.Kk(r.Gp,!0,b))):(b.ld=!1,b.yd=!1,b.o.notification.notify("Clipboard empty",15,180,15,!0)))};g.prototype.ZL=function(b,l){var e,t=b.g.i;-1===t&&(t=2);for(e=0;e<b.yb.length;e+=1){var x=100*b.Tb.random()<=b.yj?2===t||l?t-1:(b.Tb.random()*(t-1)|0)+1:0;b.yb[e]=x}};g.prototype.$L=
function(b,l){var e=b.Eb,t=e.j,x=e.A,z=e.m;e=e.B;var A=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),C=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1),G=b.g.i;if(b.xb){if(t>x){var D=x;x=t;t=D}z>e&&(D=e,e=z,z=D);-1===G&&(G=2);for(D=z;D<=e;D+=1)for(z=t;z<=x;z+=1){var I=100*b.Tb.random()<=b.yj?2===G||l?G-1:(b.Tb.random()*(G-1)|0)+1:0;b.dd(z+A,D+C,I)}b.g.fh=!0;b.g.Ah();b.ub("random "+b.yj+"%")}};g.prototype.Wv=function(b,l){b.Ta||(b.ld?b.ZL(b,l):b.$L(b,l))};g.prototype.Lt=function(b){b.Ta||b.Wv(b,!1)};g.prototype.Kt=function(b){b.Wv(b,
!0)};g.prototype.JJ=function(b){var l=b.sf,e=b.rf,t=l>>1,x,z,A;for(z=A=0;z<e;z+=1){if(b.g.N)for(x=0;x<t;x+=1){var C=b.yb[A+x];var G=b.yb[A+l-x-1];b.yb[A+x]=G&5|(G&2)<<2|(G&8)>>2;b.yb[A+l-x-1]=C&5|(C&2)<<2|(C&8)>>2}else for(x=0;x<t;x+=1)C=b.yb[A+x],b.yb[A+x]=b.yb[A+l-x-1],b.yb[A+l-x-1]=C;A+=l}};g.prototype.KJ=function(b){var l=b.Eb,e=l.j,t=l.A,x=l.m;l=l.B;var z,A=b.g.i,C=2<A&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T),G=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),D=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);if(b.xb){if(e>
t){var I=t;t=e;e=I}x>l&&(I=l,l=x,x=I);I=b.g.v.P(Uint8,t-e+1,"View.flipRow");for(z=x;z<=l;z+=1){for(x=e;x<=t;x+=1){var F=b.g.getState(x+G,z+D,!1);C&&0<F&&(F=A-F);I[x-e]=F}if(b.g.N)for(x=e;x<=t;x+=1)F=I[t-x],b.dd(x+G,z+D,F&5|(F&2)<<2|(F&8)>>2);else for(x=e;x<=t;x+=1)b.dd(x+G,z+D,I[t-x])}b.g.fh=!0;b.g.Ah();b.ub("flip horizontally")}};g.prototype.LJ=function(b){var l=b.sf,e=b.rf,t=e>>1,x,z,A;for(x=A=0;x<l;x+=1){if(b.g.N)for(z=0;z<t;z+=1){var C=b.yb[A+z*l];var G=b.yb[A+(e-z-1)*l];b.yb[A+z*l]=G&10|(G&1)<<
2|(G&4)>>2;b.yb[A+(e-z-1)*l]=C&10|(C&1)<<2|(C&4)>>2}else for(z=0;z<t;z+=1)C=b.yb[A+z*l],b.yb[A+z*l]=b.yb[A+(e-z-1)*l],b.yb[A+(e-z-1)*l]=C;A+=1}};g.prototype.MJ=function(b){var l=b.Eb,e=l.j,t=l.A,x=l.m;l=l.B;var z,A=b.g.i,C=2<A&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T),G=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),D=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);if(b.xb){if(e>t){var I=t;t=e;e=I}x>l&&(I=l,l=x,x=I);for(I=b.g.v.P(Uint8,l-x+1,"View.flipColumn");e<=t;e+=1){for(z=x;z<=l;z+=1){var F=b.g.getState(e+G,z+D,
!1);C&&0<F&&(F=A-F);I[z-x]=F}if(b.g.N)for(z=x;z<=l;z+=1)F=I[l-z],b.dd(e+G,z+D,F&10|(F&1)<<2|(F&4)>>2);else for(z=x;z<=l;z+=1)b.dd(e+G,z+D,I[l-z])}b.g.fh=!0;b.g.Ah();b.ub("flip vertically")}};g.prototype.jG=function(b,l){var e=b.sf,t=b.rf,x,z,A=b.g.v.P(Uint8,e*t,"View.pasteBuffer");for(z=0;z<t;z+=1)for(x=0;x<e;x+=1)if(b.g.N)if(l){var C=b.yb[z*e+x];A[x*t+(t-z-1)]=C<<1&15|(C&8)>>3}else C=b.yb[z*e+x],A[(e-x-1)*t+z]=C>>1&15|(C&1)<<3;else l?A[x*t+(t-z-1)]=b.yb[z*e+x]:A[(e-x-1)*t+z]=b.yb[z*e+x];b.yb=A;b.sf=
t;b.rf=e};g.prototype.kG=function(b,l,e){var t=b.Eb,x=t.j,z=t.A,A=t.m,C=t.B,G=0,D=b.g.i;var I=!0;var F=2<D&&!(this.g.Pa||this.g.N||this.g.fa||this.g.T),E=b.g.ma?-1:0;var H=Math.round((b.g.width-b.g.Ba)/2)+E;var N=Math.round((b.g.height-b.g.xa)/2)+E;var K=H+b.g.Ba-1;var P=N+b.g.xa-1;E=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1);var J=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);if(b.xb){if(x>z){var T=z;z=x;x=T}A>C&&(T=C,C=A,A=T);T=x+(z-x+1-1>>1);var Y=A+(C-A+1-1>>1);var U=T+A-Y;var M=Y+x-T;var fa=T+C-Y;Y=Y+z-T;var X=
t.j;var ia=t.m;var na=t.A;var ba=t.B;t.j=U;t.m=M;t.A=fa;t.B=Y;t.j>t.A&&(T=t.j,t.j=t.A,t.A=T);t.m>t.B&&(T=t.m,t.m=t.B,t.B=T);if(-1!==b.g.ya){if(t.j+E<H||t.A+E>K||t.m+J<N||t.B+J>P)b.o.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),I=!1}else b.qD(b)?(b.o.notification.notify("Rotation does not fit on grid",15,180,15,!0),I=!1):(E=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),J=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1));if(I){l?(I=M,P=fa,K=1,N=-1):(I=Y,P=U,K=-1,N=1);H=b.g.v.P(Int16,3*(z-x+1)*
(C-A+1),"View.rotateCells");if(b.g.S)for(fa=A;fa<=C;fa+=1)for(U=x;U<=z;U+=1)M=b.g.getState(U+E,fa+J,!1),F?0<M&&(M=D-M):b.g.N&&(M=l?M<<1&15|(M&8)>>3:M>>1&15|(M&1)<<3),H[G]=fa-U,H[G+1]=-U,H[G+2]=M,G+=3;else for(fa=A;fa<=C;fa+=1){T=I;for(U=x;U<=z;U+=1)M=b.g.getState(U+E,fa+J,!1),F?0<M&&(M=D-M):b.g.N&&(M=l?M<<1&15|(M&8)>>3:M>>1&15|(M&1)<<3),H[G]=P,H[G+1]=T,H[G+2]=M,G+=3,T+=K;P+=N}E=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1);J=(b.g.height>>1)-(b.lb>>1)+(b.Nb<<1);for(G=0;G<H.length;)U=H[G],fa=H[G+1],M=H[G+2],b.dd(U+
E,fa+J,M),G+=3;for(U=x;U<t.j;U+=1)for(fa=A;fa<=C;fa+=1)b.dd(U+E,fa+J,0);for(U=t.A+1;U<=z;U+=1)for(fa=A;fa<=C;fa+=1)b.dd(U+E,fa+J,0);for(fa=A;fa<t.m;fa+=1)for(U=x;U<=z;U+=1)b.dd(U+E,fa+J,0);for(fa=t.B+1;fa<=C;fa+=1)for(U=x;U<=z;U+=1)b.dd(U+E,fa+J,0);b.g.fh=!0;b.g.Ah();b.ub(e)}else t.j=X,t.m=ia,t.A=na,t.B=ba}};g.prototype.Dt=function(b){b.Ta||b.Dm(b,-1,0)};g.prototype.Et=function(b){b.Ta||b.Dm(b,1,0)};g.prototype.Ft=function(b){b.Ta||b.Dm(b,0,-1)};g.prototype.Ct=function(b){b.Ta||b.Dm(b,0,1)};g.prototype.UD=
function(b){b.Ta||(b.ld?b.JJ(b):b.KJ(b))};g.prototype.VD=function(b){b.Ta||(b.ld?b.LJ(b):b.MJ(b))};g.prototype.iG=function(b){b.Ta||(b.ld?b.jG(b,!0):b.kG(b,!0,"rotate clockwise"))};g.prototype.hG=function(b){b.Ta||(b.ld?b.jG(b,!1):b.kG(b,!1,"rotate counter-clockwise"))};g.prototype.FK=function(b){var l=0,e=b.g.i;if(!b.Ta)for(-1===e&&(e=2);l<b.yb.length;){var t=b.yb[l];b.yb[l]=e-t-1;l+=1}};g.prototype.GK=function(b){var l=b.Eb,e=l.j,t=l.A,x=l.m;l=l.B;var z=(b.g.width>>1)-(b.hb>>1)+(b.Mb<<1),A=(b.g.height>>
1)-(b.lb>>1)+(b.Nb<<1),C=b.g.i;if(!b.Ta&&b.xb){if(e>t){var G=t;t=e;e=G}x>l&&(G=l,l=x,x=G);-1===C&&(C=2);for(G=x;G<=l;G+=1)for(x=e;x<=t;x+=1){var D=b.g.getState(x+z,G+A,!1);!b.g.N&&!b.g.fa&&2<C&&0<D&&(D=C-D);b.dd(x+z,G+A,C-D-1)}b.g.fh=!0;b.g.Ah();b.ub("invert cells in selection")}};g.prototype.qE=function(b){b.Ta||(b.ld?b.FK(b):b.GK(b))};g.prototype.xy=function(b){b.g.cd=b.g.cd?!1:!0;b.uw(b.cb);var l=b.g.bd;b.g.cd&&(l=!l);b.o.notification.notify("Playback "+(l?"Reverse":"Forward"),15,40,15,!0)};g.prototype.pt=
function(b){b.Tg(!0,!0,r.Xk);b.cb||(b.Ag=!0)};g.prototype.yD=function(b){var l=b.zb;b.g.fa&&(l=RuleTreeCache.TJ(l),""===l&&(l=b.D.pw));b.Ql(b,l,!1)};g.prototype.lE=function(b){b.g.Ux=!1;b.g.Tx=0;b.g.da?(b.dc?(b.dc=!1,b.o.notification.notify("Identify Cancelled",15,120,15,!1)):(b.dc=!0,b.zj=!1,b.On?b.o.notification.notify("Identifying (fast)...",15,216E3,15,!1):b.o.notification.notify("Identifying...",15,216E3,15,!1)),b.ub("")):(b.o.notification.notify("Empty Pattern",15,120,15,!1),b.dc=!1,b.zj=!1);
b.g.kv(b.dc);b.la=0;b.au(b);b.au(b);b.o.Ph=!0;b.u.locked=!1};g.prototype.dz=function(b){b.On=!1;b.lE(b)};g.prototype.ot=function(b){b.On=!0;b.lE(b)};g.prototype.wq=function(b,l,e){l&&(e.g.jc=b[0]);return[e.g.jc]};g.prototype.HG=function(b,l,e){l&&(e.$g=b[0]);return[e.$g]};g.prototype.JG=function(b,l,e){l&&(e.Vp=b[0]);return[e.Vp]};g.prototype.ZB=function(b,l,e){l&&(e.vj=b[0]);return[e.vj]};g.prototype.bC=function(b,l,e){l&&(e.Kl=b[0]);return[e.Kl]};g.prototype.Zs=function(b,l,e){l&&(0!==e.la&&b[0]&&
(e.la=0,e.bl.current=e.xq([e.la],!0,e)),b[0]||e.au(e));return b};g.prototype.$B=function(b,l,e){l&&(e.Co=b[0]);return[e.Co]};g.prototype.aC=function(b,l,e){l&&(e.Um=b[0]);return[e.Um]};g.prototype.Ik=function(b,l,e){l&&(e.tk=b[0],e.tk?e.rs?e.o.notification.notify("Replace: Now click on a cell",15,180,15,!0):e.o.notification.notify("Pick: Now click on a cell",15,180,15,!0):(e.lz||e.o.notification.clear(!0,!1),e.lz=!1,e.rs=!1));return[e.tk]};g.prototype.GG=function(b,l,e){l&&(e.zc=b[0],e.zc&&!e.cb&&
e.Tg(!0,!0,r.Xk));return[e.zc]};g.prototype.Uy=function(b,l,e){l&&-1!==e.gb&&(e.Qc=!b[0],e.Vc?(e.Fe=e.Qc,e.o.notification.notify("Loop and Waypoints "+(e.Qc?"Off":"On"),15,40,15,!0)):e.ie?(e.tf=e.Qc,e.o.notification.notify("Loop and Track "+(e.Qc?"Off":"On"),15,40,15,!0),e.XC(e.tf)):e.o.notification.notify("Loop "+(e.Qc?"Off":"On"),15,40,15,!0));return[e.Qc]};g.prototype.Ly=function(b,l,e){l&&e.ef&&(e.sg=!b[0]);return[e.sg]};g.prototype.bz=function(b,l,e){l&&-1!==e.tO&&(e.We=!b[0]);return[e.We]};
g.prototype.cC=function(b,l,e){l&&(e.ie?(e.tf=!b[0],e.XC(e.tf),-1!==e.gb?(e.Qc=e.tf,e.o.notification.notify("Loop and Track "+(e.Qc?"Off":"On"),15,40,15,!0)):e.o.notification.notify("Track "+(e.tf?"Off":"On"),15,40,15,!0)):e.Vc&&(e.Fe=!b[0],e.Fe?(e.o.notification.clear(!1,!1),e.Rr=""):(e.Ag=!0,e.elapsedTime=e.X.HJ(e.g.counter)),-1!==e.gb?(e.Qc=e.Fe,e.o.notification.notify("Loop and Waypoints "+(e.Qc?"Off":"On"),15,40,15,!0)):e.o.notification.notify("Waypoints "+(e.Fe?"Off":"On"),15,40,15,!0)));return e.ie?
[e.tf]:[e.Fe]};g.prototype.xq=function(b,l,e){l&&(e.la=b[0],e.la?(e.qd.length&&e.Mh(r.pB,e),e.Rc.current[0]&&(e.Rc.current=e.Zs([!1],!0,e))):(e.Mh(r.xl,e),e.la=0));e.uB(e.Ad.current);return[e.la]};g.prototype.kH=function(b,l,e){l&&(e.Zk=b[0]);return[e.Zk]};g.prototype.hH=function(b,l,e){l&&(e.g.bh=b[0],e.g.hz());return[e.g.bh]};g.prototype.Qw=function(b,l,e){l&&(e.jh=b[0],e.jh&&(e.g.da?0<e.g.counter&&-1===e.g.i&&(--e.g.counter,e.g.qf(!0,e.xe,e.Pc,e.dc),e.rj()):(e.g.qa=0,e.g.Pb=0,e.g.cc=0)));e.o.Jg(!0);
return[e.jh]};g.prototype.rw=function(b,l){1<b.ic&&(b.ic-=l,1>b.ic&&(b.ic=1))};g.prototype.qw=function(b,l){b.ic<b.qd.length-b.od+1&&(b.ic+=l,b.ic>b.qd.length-b.od+1&&(b.ic=b.qd.length-b.od+1))};g.prototype.tw=function(b,l){1<b.la&&(b.la-=l,1>b.la&&(b.la=1))};g.prototype.sw=function(b,l){b.la<b.Jp-b.od&&(b.la+=l,b.la>b.Jp-b.od&&(b.la=b.Jp-b.od))};g.prototype.OL=function(b){for(var l=b.ia.length-1,e=!1;0<=l&&!e;)b.la<=b.ia[l][0]?--l:e=!0;e&&(b.la=b.ia[l][0])};g.prototype.nL=function(b){for(var l=0,
e=!1;l<b.ia.length&&!e;)b.la>=b.ia[l][0]?l+=1:e=!0;e&&(b.la=b.ia[l][0])};g.prototype.JM=function(b){for(;this.g.counter<b-1;)this.g.da?(this.g.qf(!1,!1,this.Pc,this.dc),0===this.g.da&&2<this.g.i||this.g.Ke(),0===this.g.da&&2>=this.g.i&&(this.g.da=1,this.g.qf(!1,!1,this.Pc,this.dc),--this.g.counter)):(this.g.counter+=1,this.g.Ke()),this.rj();this.g.counter<b&&(this.g.da?(this.g.qf(this.jh,!1,this.Pc,this.dc),0===this.g.da&&2<this.g.i||this.g.Ke(),0===this.g.da&&2>=this.g.i&&(this.g.da=1,this.g.qf(!1,
!1,this.Pc,this.dc),--this.g.counter)):(this.g.counter+=1,this.g.Ke()),this.rj());this.elapsedTime=this.Ja[b];this.fg=this.wb=b};g.prototype.Es=function(b){var l=this.O+(0<this.g.i?this.g.i:0);!this.xe&&this.o.OA&&(this.o.OA=!1,0>b&&(b=0),this.elapsedTime=this.Ja[b],this.fg=this.wb=b,-1!==this.cj&&b>this.cj+l?this.g.counter=b:this.g.Es(b,this.jh,this.Pc,this),this.X.oN(this.elapsedTime),this.Ag=!0,b!==this.g.counter&&(this.wn=!0,this.$x=b,this.g.nw(!1),this.o.notification.notify("Computing previous generations",
15,1E4,15,!0),this.Zx=!0))};g.prototype.Zy=function(b){b.style.width="2em";b.style.height="2em";b.style.padding=0;b.style.fO="none";b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";b.style.position="fixed";b.style.left="-100px";b.style.top="0px"};g.prototype.Ql=function(b,l,e){var t="textarea";b.Rs=l;b.Gk=0;b.Io=l.length;if(e){var x=performance.now()-b.iu;x<r.RI&&b.Io<r.OI?e=!1:b.lv||(t="div")}b.Ho=document.createElement("div");b.Ho.contentEditable=!0;b.Zy(b.Ho);b.cn=
document.createElement(t);b.Zy(b.cn);b.cn.contentEditable=!0;b.Ho.appendChild(b.cn);document.body.appendChild(b.Ho);e?(b.by=r.SI,b.o.notification.notify("Copying...",15,1E4,15,!0),b.Nq=!0,b.gu=!1,b.u.locked=!0):(b.cn.innerHTML=l,b.wD(b,e))};g.prototype.wD=function(b,l){b.lv?b.cn.focus():b.Ho.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(e){}document.body.removeChild(b.Ho);b.Rs="";b.Dc.canvas.focus();b.o.notification.notify("Copied to external clipboard",15,180,15,
!0);l&&(b.Nq=!1,b.u.locked=!1);b.iu=-1};g.prototype.Ui=function(b){var l=ColourManager.Je,e=Object.keys(l),t=b.red,x=b.green;b=b.blue;for(var z="",A=!1,C=null,G=0;G<e.length&&!A;)C=l[e[G]],C[1]===t&&C[2]===x&&C[3]===b?(A=!0,G=e.length):G+=1;A?z=C[0]:z=t+" "+x+" "+b;return z};g.prototype.Yo=function(b,l){return b.red===l.red&&b.green===l.green&&b.blue===l.blue};g.prototype.xD=function(b,l){var e="#C "+Keywords.yo+" ",t=String(-(b.g.width/2-b.g.Da-b.g.$b|0)),x=String(-(b.g.height/2-b.g.wa-b.g.Xb|0)),
z=b.g.zoom,A=b.g.angle|0,C=b.g.nb[b.g.Bf];0!==b.g.counter&&(e+=Keywords.Os+" "+b.g.counter+" ");e+=Keywords.wf+" "+t+" "+Keywords.yf+" "+x+" ";e+=Keywords.Xd+" "+(z===(z|0)?String(z):String(z.toFixed(2)))+" ";e+=Keywords.Fl+" "+A+" ";e+=Keywords.kq+"\n";if(l){e+="#C "+Keywords.yo+" ";if(b.zh){if(2<b.g.i){if(e+=Keywords.Na+" "+Keywords.Ew+" "+b.Ui(C.Ki),e+=" "+Keywords.Na+" "+Keywords.Dw+" "+b.Ui(C.qg),b.Yo(C.Ic.aa,C.Ki)||(e+=" "+Keywords.Na+" "+Keywords.Gw+" "+b.Ui(C.Ic.aa)),b.Yo(C.Ic.Z,C.Ic.aa)||
(e+=" "+Keywords.Na+" "+Keywords.Fw+" "+b.Ui(C.Ic.Z)),C.$l||(e+=" "+Keywords.Na+" "+Keywords.PB+" "+b.Ui(C.Zb.aa)),C.$l||!b.Yo(C.Zb.Z,C.Zb.aa))e+=" "+Keywords.Na+" "+Keywords.OB+" "+b.Ui(C.Zb.Z)}else e+=Keywords.Na+" "+Keywords.Ew+" "+b.Ui(C.fb),e+=" "+Keywords.Na+" "+Keywords.Dw+" "+b.Ui(C.vb.Z),b.Yo(C.vb.Z,C.vb.aa)||(e+=" "+Keywords.Na+" "+Keywords.NB+" "+b.Ui(C.vb.aa)),b.Yo(C.kb.aa,C.fb)||(e+=" "+Keywords.Na+" "+Keywords.Gw+" "+b.Ui(C.kb.aa)),b.Yo(C.kb.Z,C.kb.aa)||(e+=" "+Keywords.Na+" "+Keywords.Fw+
" "+b.Ui(C.kb.Z));e+=" "+Keywords.kq+"\n#C "+Keywords.yo+" "}e+=Keywords.ul+" "+C.name+" ";b.O!==b.Ur&&(e+=Keywords.dv+" "+b.O+" ");b.Ti!==b.GE&&(e+=Keywords.Qt+" "+b.Ti+" ");e+=Keywords.Bq+" "+b.J+" ";e+=Keywords.qp+" "+b.H+" ";e+=Keywords.kq+"\n"}b.Ql(b,e,!1)};g.prototype.lB=function(b){b.element.innerHTML=b.g.Wt(b,b.g,!0,b.g.i,b.g.i,[],!0);b.element.value=b.element.innerHTML};g.prototype.VK=function(b,l){if(b.Oj.locked||b.Yv||window.confirm("Open clipboard?"))b.element.innerHTML=l,b.element.value=
b.element.innerHTML,d(b.element)};g.prototype.Pq=function(b,l){b.iu=performance.now();v.Va?b.Ql(b,B.ye[b.fd].pattern,l):b.Ql(b,c(b.element),l)};g.prototype.hu=function(b,l){b.iu=performance.now();b.Ql(b,b.g.Wt(b,b.g,l,b.g.i,b.g.i,[]),!1)};g.prototype.wt=function(b,l){var e=l.charCode||l.keyCode;if(b.wn?KeyProcessor.TL(b,e,l):b.dc?KeyProcessor.UL(b,e,l):b.Nq?KeyProcessor.SL(b,e,l):KeyProcessor.RL(b,e,l))b.o.Jg(!0),l.preventDefault()};g.prototype.LN=function(){this.g.Ga||this.g.T?(this.Wa.setPosition(Menu.mb,
-85,-130),this.$.setPosition(Menu.mb,-130,-130),this.$.F="random fill [Shift 5]",this.g.Ga?this.wk.setPosition(Menu.mb,-235,-130):this.wk.setPosition(Menu.mb,-280,-130)):2>=this.g.i?(this.Wa.setPosition(Menu.mb,-40,-130),this.$.setPosition(Menu.mb,-85,-130),this.$.F="random fill [Shift 5]",this.wk.setPosition(Menu.mb,-190,-130)):(this.Wa.setPosition(Menu.mb,-40,-130),this.g.N?(this.$.setPosition(Menu.mb,-85,-130),this.$.F="random multi-state fill [Shift 5]",this.wk.setPosition(Menu.mb,-190,-130)):
(this.$.setPosition(Menu.mb,-130,-130),this.$.F="random multi-state fill [Shift 5]",this.xd.setPosition(Menu.mb,-85,-130),this.wk.setPosition(Menu.mb,-235,-130)))};g.prototype.NN=function(){if(this.H<r.vm)this.cf.setPosition(Menu.nd,10,50),this.ff.setPosition(Menu.pa,0,50),this.Ye.setPosition(Menu.tc,-160,50),this.hf.setPosition(Menu.nd,10,100),this.bf.setPosition(Menu.pa,0,100),this.$e.setPosition(Menu.tc,-160,100),0<this.X.Ip()?(this.rd.setPosition(Menu.nd,10,150),this.af.setPosition(Menu.tc,-160,
150)):this.rd.setPosition(Menu.pa,0,150);else{var b=0<this.X.Ip()?-175:-150;this.cf.setPosition(Menu.Db,0,b);this.ff.setPosition(Menu.Db,0,b+50);this.Ye.setPosition(Menu.Db,0,b+100);this.hf.setPosition(Menu.Db,0,b+150);this.bf.setPosition(Menu.Db,0,b+200);this.$e.setPosition(Menu.Db,0,b+250);this.rd.setPosition(Menu.Db,0,b+300);this.af.setPosition(Menu.Db,0,b+350)}};g.prototype.WM=function(){var b="white",l="black",e="rgb(0,240,32)",t="blue",x="grey",z="white";var A=this.ra[r.Yq];-1!==A?(b="rgb("+
(A>>16)+","+(A>>8&255)+","+(A&255)+")",this.Y.gw=!0,this.Y.$A=this.g.fe?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255):(this.Y.gw=!0,A=16777215,this.Y.$A=this.g.fe?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255);A=this.ra[r.Wq];-1!==A?l="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=0;this.Vo=A;A=this.ra[r.Zq];-1!==A&&(e="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");A=this.ra[r.ar];-1!==A&&(t="rgb("+(A>>16)+","+(A>>8&255)+","+
(A&255)+")");A=this.ra[r.$q];-1!==A?x="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")":A=8421504;this.Y.eE=this.g.fe?-16777216|(A&255)<<16|(A>>8&255)<<8|A>>16:A>>16<<24|(A>>8&255)<<16|(A&255)<<8|255;A=this.ra[r.Xq];-1!==A&&(z="rgb("+(A>>16)+","+(A>>8&255)+","+(A&255)+")");this.o.Is(b,l,e,t,x,z)};g.prototype.kt=function(){var b,l=0;this.u=this.o.XL(this.nx,this.IC,this);this.u.En=this.ox;this.u.LC=this.sx;this.wr=this.u.Ea(Menu.pa,0,52,480,48,"Banner");this.wr.ab("32px Arial");this.Cf=this.u.Ea(Menu.pa,
-160,100,160,32,"Type");this.Qi=this.u.Ea(Menu.pa,-160,140,160,32,"Cells");this.Pi=this.u.Ea(Menu.pa,-160,180,160,32,"Bounding Box");this.Ri=this.u.Ea(Menu.pa,-160,240,160,32,"Direction");this.Rj=this.u.Ea(Menu.pa,-160,280,160,32,"Period");this.Sj=this.u.Ea(Menu.pa,-160,320,160,32,"Slope");this.Tj=this.u.Ea(Menu.pa,-160,360,160,32,"Speed");this.Si=this.u.Ea(Menu.pa,-160,400,160,32,"Heat");this.Vj=this.u.Ea(Menu.pa,-160,440,160,32,"Volatility");this.Qj=this.u.Ea(Menu.pa,-160,460,160,32,"Mod");this.Oi=
this.u.Ea(Menu.pa,-160,500,160,32,"Active Cells");this.Uj=this.u.Ea(Menu.pa,-160,540,160,32,"Temperature");this.Br=this.u.Ea(Menu.pa,80,100,320,32,"");this.xr=this.u.Ea(Menu.pa,80,140,320,32,"");this.ev=this.u.Ea(Menu.pa,80,180,320,32,"");this.fv=this.u.Ea(Menu.pa,80,220,320,32,"");this.hv=this.u.Ea(Menu.pa,80,260,320,32,"");this.jv=this.u.Ea(Menu.pa,80,300,320,32,"");this.zr=this.u.Ea(Menu.pa,80,340,320,32,"");this.yr=this.u.Ea(Menu.pa,80,380,320,32,"");this.ez=this.u.Ea(Menu.pa,80,420,320,32,"");
this.gv=this.u.Ea(Menu.pa,80,460,320,32,"");this.vr=this.u.Ea(Menu.pa,80,500,320,32,"");this.Ar=this.u.Ea(Menu.pa,80,540,320,32,"");this.Ff=this.u.Ea(Menu.nd,0,40,16,20,"X");this.Ff.ab(r.gh);this.Ff.Ss=Menu.Oe;this.Gf=this.u.Ea(Menu.nd,70,40,16,20,"Y");this.Gf.ab(r.gh);this.Gf.Ss=Menu.Oe;this.Ef=this.u.Ea(Menu.nd,140,40,16,20,"A");this.Ef.ab(r.gh);this.Ef.Ss=Menu.Oe;this.Yb=this.u.Ea(Menu.nd,16,40,54,20,"");this.Yb.ab(r.gh);this.Yb.textAlign=Menu.right;this.Yb.F="camera X position";this.pc=this.u.Ea(Menu.nd,
86,40,54,20,"");this.pc.ab(r.gh);this.pc.textAlign=Menu.right;this.pc.F="camera Y position";this.bb=this.u.Ea(Menu.nd,156,40,40,20,"");this.bb.ab(r.gh);this.bb.textAlign=Menu.right;this.bb.F="camera angle";this.Wj=this.u.Ea(Menu.nd,196,40,4,20,"");this.Th=this.u.Ea(Menu.tc,-280,40,20,20,"E");this.Th.ab(r.gh);this.Wh=this.u.Ea(Menu.tc,-210,40,20,20,"S");this.Wh.ab(r.gh);this.Zh=this.u.Ea(Menu.tc,-140,40,20,20,"W");this.Zh.ab(r.gh);this.Uh=this.u.Ea(Menu.tc,-70,40,20,20,"N");this.Uh.ab(r.gh);this.ob=
this.u.Ea(Menu.tc,-260,40,50,20,"");this.ob.ab(r.gh);this.ob.textAlign=Menu.right;this.ob.F="bounding box east edge velocity";this.Gb=this.u.Ea(Menu.tc,-190,40,50,20,"");this.Gb.ab(r.gh);this.Gb.textAlign=Menu.right;this.Gb.F="bounding box south edge velocity";this.Vb=this.u.Ea(Menu.tc,-120,40,50,20,"");this.Vb.ab(r.gh);this.Vb.textAlign=Menu.right;this.Vb.F="bounding box west edge velocity";this.Bb=this.u.Ea(Menu.tc,-50,40,50,20,"");this.Bb.ab(r.gh);this.Bb.textAlign=Menu.right;this.Bb.F="bounding box north edge velocity";
this.pn=this.u.pb(this.Ly,Menu.tc,-210,0,38,20,["START"],[!1],Menu.Va);this.pn.ab(r.xw);this.pn.F=["autostart [Alt O]"];this.an=this.u.pb(this.bz,Menu.tc,-210,20,38,20,["STOP"],[!1],Menu.Va);this.an.ab(r.xw);this.an.F=["stop [Alt P]"];this.mh=this.u.pb(this.cC,Menu.tc,-172,0,38,20,["WAYPT"],[!1],Menu.Va);this.mh.ab(r.xw);this.mh.F=["toggle waypoint mode [W]"];this.sm=this.u.pb(this.Uy,Menu.tc,-172,20,38,20,["LOOP"],[!1],Menu.Va);this.sm.ab(r.xw);this.sm.F=["toggle loop mode [Shift P]"];this.Ad=this.u.pb(this.Kk,
Menu.nd,90,0,120,40,["","",""],r.xm,Menu.Vm);this.Ad.icon=[this.Y.icon("draw"),this.Y.icon("select"),this.Y.icon("pan")];this.Ad.F=["draw [F2]","select [F4]","pan [F5]"];this.ja=this.u.pb(this.px,Menu.tc,-80,100,80,60,["1","2"],0,Menu.Vm);this.ja.orientation=Menu.vertical;this.ja.F=["",""];this.ja.ab("14px Arial");this.bl=this.u.pb(this.xq,Menu.tc,-40,0,40,40,["Help"],[!1],Menu.Va);this.bl.F=["toggle help display [H]"];this.bl.ab("16px Arial");this.bi=this.u.La(this.ix,Menu.tc,-40,50,40,["^"]);this.bi.F=
["show help topics"];this.ai=this.u.La(this.Mx,Menu.tc,-40,100,40,["<"]);this.ai.F=["show help sections"];this.cf=this.u.La(this.xt,Menu.pa,0,50,150,["Keys"]);this.cf.F=["show keyboard shortcuts"];this.ff=this.u.La(this.Ax,Menu.pa,0,100,150,["Scripts"]);this.ff.F=["show script commands"];this.Ye=this.u.La(this.vt,Menu.pa,0,150,150,["Info"]);this.Ye.F=["show pattern and engine information"];this.hf=this.u.La(this.Ey,Menu.pa,0,200,150,["Themes"]);this.hf.F=["show colour Themes"];this.bf=this.u.La(this.wo,
Menu.pa,0,250,150,["Colours"]);this.bf.F=["show colour names"];this.$e=this.u.La(this.Wn,Menu.pa,0,300,150,["Aliases"]);this.$e.F=["show rule aliases"];this.rd=this.u.La(this.zt,Menu.pa,0,350,150,["Memory"]);this.rd.F=["show memory usage"];this.af=this.u.La(this.Yn,Menu.pa,0,350,150,["Annotations"]);this.af.F=["show annotations"];this.Vi=this.u.pb(this.GG,Menu.nd,0,0,40,40,["Auto"],[!1],Menu.Va);this.Vi.icon=[this.Y.icon("autofit")];this.Vi.F=["toggle autofit [Shift F]"];this.Vi.ab("16px Arial");
this.Wk=this.u.La(this.pt,Menu.nd,45,0,40,"");this.Wk.icon=this.Y.icon("fit");this.Wk.F="fit pattern to display [F]";this.pi=this.u.pb(this.wq,Menu.tc,-85,0,40,40,["Grid"],[!1],Menu.Va);this.pi.icon=[this.Y.icon("grid")];this.pi.F=["toggle gridlines [X]"];this.pi.ab("16px Arial");this.dh=this.u.XH();this.dh.locked=!0;this.Kn=this.u.Ea(Menu.Hj,0,-130,42,30,"Gen");this.Kn.textAlign=Menu.left;this.Kn.ab(r.ih);this.Kn.F="generation";this.Yf=this.u.Ea(Menu.Hj,42,-130,98,30,"");this.Yf.textAlign=Menu.right;
this.Yf.ab(r.ih);this.Yf.F="generation";this.$d=this.u.Ea(Menu.Hj,0,-100,70,30,"Time");this.$d.textAlign=Menu.left;this.$d.ab(r.ih);this.$d.F="elapsed time";this.Gn=this.u.Ea(Menu.Hj,70,-100,70,30,"");this.Gn.textAlign=Menu.right;this.Gn.ab(r.ih);this.Gn.F="elapsed time";this.Pm=this.u.Ea(Menu.Hj,166,-70,130,30,"");this.Pm.textAlign=Menu.left;this.Pm.ab(r.ih);this.Pm.F="selection size";this.Pj=this.u.Ea(Menu.Hj,0,-70,166,30,"");this.Pj.textAlign=Menu.left;this.Pj.ab(r.ih);this.Pj.F="cell state at cursor position";
this.mf=this.u.pb(this.Qw,Menu.Hj,0,-40,100,40,[""],[this.jh],Menu.Va);this.mf.F=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.ni)];this.ml=this.u.Ea(Menu.Hj,0,-40,this.J-40,40,"");this.ml.textAlign=Menu.left;this.ml.l=!0;this.sd=this.u.Ea(Menu.mb,-70,-130,70,30,"Alive");this.sd.textAlign=Menu.left;this.sd.ab(r.ih);this.sd.F="current population";this.Im=this.u.Ea(Menu.mb,-140,-130,70,30,"");this.Im.textAlign=Menu.right;this.Im.ab(r.ih);this.Im.F="alive";this.dk=this.u.Ea(Menu.mb,
-70,-100,70,30,"Births");this.dk.textAlign=Menu.left;this.dk.ab(r.ih);this.dk.F="cells born this generation";this.ek=this.u.Ea(Menu.mb,-140,-100,70,30,"");this.ek.textAlign=Menu.right;this.ek.ab(r.ih);this.ek.F="births";this.Xc=this.u.Ea(Menu.mb,-70,-70,70,30,"Deaths");this.Xc.textAlign=Menu.left;this.Xc.ab(r.ih);this.Xc.F="cells died this generation";this.Xl=this.u.Ea(Menu.mb,-140,-70,70,30,"");this.Xl.textAlign=Menu.right;this.Xl.ab(r.ih);this.Xl.F="deaths";this.Om=this.u.Ea(Menu.Hj,0,-160,140,
30,this.zb);this.Om.ab(r.ih);this.yc=this.u.$j(this.Lk,Menu.pa,0,0,r.nt,40,0,1,.1,"Zoom ","",1);this.yc.F="camera zoom [[ / ]]";this.ee=this.u.$j(this.it,Menu.PC,30,0,40,292,r.uv,r.Av,1,"Layers ","",0);this.ee.F="number of layers [Q / A]";this.hd=this.u.$j(this.wl,Menu.Dy,-70,0,40,292,1,0,.1,"Depth ","",2);this.hd.F="depth between layers [P / L]";this.Hd=this.u.$j(this.ht,Menu.pa,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Hd.F="camera angle [< / >]";this.hg=this.u.La(this.Qx,Menu.mb,-40,-90,40,
"");this.hg.icon=this.Y.icon("shrink");this.hg.F="shrink to thumbnail [N]";this.qh=this.u.Ea(Menu.pa,0,100,120,40,"");this.Eh=this.u.pb(this.FC,Menu.Db,-100,-75,180,40,["Hexagons"],[this.g.vc],Menu.Va);this.Eh.F=["toggle hexagonal cells [/]"];this.Jq=this.u.pb(this.aH,Menu.Db,100,-75,180,40,["Cell Borders"],[this.g.ud],Menu.Va);this.Jq.F=["toggle cell borders [Alt B]"];this.qk=this.u.pb(this.gH,Menu.Db,-100,-25,180,40,["Major GridLines"],[this.g.al],Menu.Va);this.qk.F=["toggle major gridlines [Shift X]"];
this.pq=this.u.pb(this.lH,Menu.Db,100,-25,180,40,["Starfield"],[this.Di],Menu.Va);this.pq.F=["toggle starfield display [S]"];this.qm=this.u.pb(this.fH,Menu.Db,-100,25,180,40,["Annotations"],[this.Ci],Menu.Va);this.qm.F=["toggle annotations [Alt L]"];this.$p=this.u.pb(this.iH,Menu.Db,100,25,180,40,["Rainbow"],[this.g.Qd],Menu.Va);this.$p.F=["toggle rainbow mode [Alt W]"];this.Zo=this.u.pb(this.ZG,Menu.Db,-100,75,180,40,["Auto GridLines"],[this.di],Menu.Va);this.Zo.F=["automatically turn on gridlines for Draw and Select and off for Pan [Ctrl G]"];
this.mn=this.u.pb(this.YG,Menu.Db,100,75,180,40,["Alt GridLines"],[this.g.Dl],Menu.Va);this.mn.F=["toggle alternating gridlines [Alt D]"];this.up=this.u.pb(this.dH,Menu.Db,-100,-50,180,40,["AutoFit History"],[this.ti],Menu.Va);this.up.F=["toggle AutoFit History [Shift H]"];this.dn=this.u.pb(this.bC,Menu.Db,100,-50,180,40,["Throttle"],[this.Kl],Menu.Va);this.dn.F=["toggle playback throttling [Alt T]"];this.Tm=this.u.pb(this.ZB,Menu.Db,-100,0,180,40,["Perf. Warning"],[this.vj],Menu.Va);this.Tm.F=["toggle performance warning display [Shift W]"];
this.zp=this.u.pb(this.qx,Menu.Db,100,0,180,40,["Kill Gliders"],[this.g.Yi],Menu.Va);this.zp.F=["toggle kill escaping gliders [Ctrl L]"];this.$o=this.u.pb(this.$G,Menu.Db,0,50,180,40,["AutoHide UI"],[this.si],Menu.Va);this.$o.F=["toggle hide UI on playback [Alt U]"];this.Mk=this.u.La(this.zx,Menu.Db,-100,-75,180,"Change Rule");this.Mk.F="change rule [Alt R]";this.Zj=this.u.La(this.At,Menu.Db,100,-75,180,"New Pattern");this.Zj.F="new pattern [Alt N]";this.Yj=this.u.La(this.yt,Menu.Db,-100,-25,180,
"Load Pattern");this.Yj.F="load last saved pattern [Ctrl O]";this.Nk=this.u.La(this.Yw,Menu.Db,100,-25,180,"Save Pattern");this.Nk.F="save pattern [Ctrl S]";this.bq=this.u.La(this.Mt,Menu.Db,-100,25,180,"Randomize");this.bq.F="randomize pattern and rule [Alt Z]";this.Lh=this.u.La(this.yD,Menu.Db,100,25,180,"Copy Rule");this.Lh.F="copy rule definition [Ctrl J]";this.vp=this.u.La(this.dz,Menu.Db,-100,75,180,"Identify");this.vp.F="identify oscillator or spaceship period [F6]";this.Oh=this.u.La(this.ot,
Menu.Db,100,75,180,"Fast Identify");this.Oh.F="quickly identify oscillator or spaceship period [Ctrl F6]";this.np=this.u.pb(this.Wo,Menu.Db,0,-100,180,40,["Frame Times"],[this.o.rl],Menu.Va);this.np.F=["toggle timing display [T]"];this.Ws=this.u.pb(this.KC,Menu.Db,0,-50,180,40,["Timing Details"],[this.o.Sm],Menu.Va);this.Ws.F=["toggle timing details [Shift T]"];this.wp=this.u.pb(this.eH,Menu.Db,0,0,180,40,["Display Info Bar"],[this.kd],Menu.Va);this.wp.F=["toggle Information Bar [Shift I]"];this.fq=
this.u.pb(this.kH,Menu.Db,0,50,180,40,["Relative Gen"],[this.Zk],Menu.Va);this.fq.F=["toggle absolute/relative generation display [Shift G]"];this.zs=this.u.pb(this.hH,Menu.Db,0,100,180,40,["Render Quality"],[this.g.bh],Menu.Va);this.zs.F=["toggle anti-aliased cell display [Ctrl Q]"];this.xs=this.u.La(this.It,Menu.oq,-135,-90,120,"Prev");this.xs.F="go to previous universe";this.Yr=this.u.La(this.Bt,Menu.oq,135,-90,120,"Next");this.Yr.F="go to next universe";this.U=this.u.La(this.Vw,Menu.mb,-40,-85,
40,"Esc");this.U.F="close errors";this.U.ab("16px Arial");this.ws=this.u.La(this.SF,Menu.PC,10,0,40,"<");this.ws.F="go to previous POI";this.Xr=this.u.La(this.cF,Menu.Dy,-50,0,40,">");this.Xr.F="go to next POI";this.Lp=this.u.$j(this.Pw,Menu.pa,0,45,172,40,0,1,this.vd,"Opacity ","%",0);this.Lp.F="graph opacity [7 / 9]";this.Fp=this.u.pb(this.HG,Menu.tc,-85,45,40,40,[""],[!1],Menu.Va);this.Fp.icon=[this.Y.icon("lines")];this.Fp.F=["toggle graph lines/points [Shift Y]"];this.Sh=this.u.La(this.cz,Menu.tc,
-40,45,40,"X");this.Sh.F="close results";this.Ni=this.u.La(this.st,Menu.tc,-40,45,40,"X");this.Ni.F="close graph [Y]";this.Jh=this.u.pb(this.Ik,Menu.nd,0,45,40,40,[""],[this.tk],Menu.Va);this.Jh.icon=[this.Y.icon("pick")];this.Jh.F=["pick state [F3]"];this.sq=this.u.pb(this.aC,Menu.nd,45,45,40,40,[""],[this.Um],Menu.Va);this.sq.icon=[this.Y.icon("states")];this.sq.F=["toggle states display [Ctrl D]"];this.ms=this.u.pb(this.JG,Menu.nd,90,45,40,40,[""],[this.Vp],Menu.Va);this.ms.icon=[this.Y.icon("drawpause")];
this.ms.F=["toggle pause playback while drawing [Ctrl P]"];this.nq=this.u.pb(this.$B,Menu.nd,135,45,40,40,[""],[this.Co],Menu.Va);this.nq.icon=[this.Y.icon("smart")];this.nq.F=["toggle smart drawing [Shift F2]"];this.Rc=this.u.pb(this.Zs,Menu.mb,-40,-40,40,40,[""],[!1],Menu.Va);this.Rc.icon=[this.Y.icon("menu")];this.Rc.F=["toggle settings menu [M]"];this.js=this.u.La(this.Gt,Menu.Db,0,-125,150,"Pattern");this.js.F="pattern settings";this.Gl=this.u.La(this.au,Menu.oq,0,-100,120,"Back");this.Gl.F=
"";this.Ii=this.u.La(this.py,Menu.Db,0,-75,150,"Theme");this.Ii.F="choose colour theme";this.fm=this.u.pb(this.EC,Menu.Db,0,-25,150,40,["Graph"],[this.ad],Menu.Va);this.fm.F=["toggle population graph display [Y]"];this.Dr=this.u.La(this.ut,Menu.Db,0,25,150,"Advanced");this.Dr.F="advanced settings";this.cr=this.u.La(this.lt,Menu.Db,0,75,150,"Display");this.cr.F="display settings";this.Lv=this.u.La(this.Ht,Menu.Db,0,125,150,"Playback");this.Lv.F="playback settings";var e=-1;for(b=0;b<=this.g.Re;b+=
1){var t=r.Ts[b];var x=r.xN[b];x!==e?(l=120,e=x):l+=60;this.G[b]=this.u.pb(null,Menu.pa,140*x-210,l,120,40,[this.Hw(t)],[!1],Menu.Va);this.G[b].F=["select "+this.Hw(t)+" theme"];this.G[b].ab("20px Arial")}this.G[0].Ob=this.nz;this.G[1].Ob=this.Ez;this.G[2].Ob=this.SC;this.G[3].Ob=this.Zw;this.G[4].Ob=this.ax;this.G[5].Ob=this.bx;this.G[6].Ob=this.cx;this.G[7].Ob=this.dx;this.G[8].Ob=this.ex;this.G[9].Ob=this.hx;this.G[10].Ob=this.Hz;this.G[11].Ob=this.Qz;this.G[12].Ob=this.aA;this.G[13].Ob=this.CA;
this.G[14].Ob=this.ZA;this.G[15].Ob=this.nB;this.G[16].Ob=this.KB;this.G[17].Ob=this.tC;this.G[18].Ob=this.BC;this.G[19].Ob=this.OC;this.cm=this.u.Ea(Menu.pa,-210,60,120,40,"Default");this.Ll=this.u.Ea(Menu.pa,-70,60,120,40,"Classic");this.em=this.u.Ea(Menu.pa,70,60,120,40,"Program");this.am=this.u.Ea(Menu.pa,210,60,120,40,"Basic");this.lc=this.u.$j(this.Jk,Menu.mb,-365,-40,75,40,0,1,0,"","",-1);this.lc.F="steps per second [+ / -]";this.Td=this.u.$j(this.ln,Menu.mb,-285,-40,75,40,r.Zn,r.Bg,1,"x",
"",0);this.Td.F="generations per step [E / D]";this.Yd=this.u.Ea(Menu.mb,-285,-60,75,20,0);this.Yd.ab(r.ih);this.Yd.l=!0;this.Oj=this.u.La(this.jx,Menu.mb,-455,-40,40,"");this.Oj.icon=this.Y.icon("undo");this.Oj.F="undo [Ctrl Z]";this.so=this.u.La(this.yx,Menu.mb,-410,-40,40,"");this.so.icon=this.Y.icon("redo");this.so.F="redo [Ctrl Y]";this.fp=this.u.pb(this.DC,Menu.tc,-130,0,40,40,["Sync"],[this.wh],Menu.Va);this.fp.F=["sync cut and copy with external clipboard [Alt S]"];this.fp.ab("15px Arial");
this.Ab=this.u.pb(this.Ed,Menu.mb,-205,-40,160,40,["","","",""],r.Qe,Menu.Vm);this.Ab.icon=[this.Y.icon("tostart"),this.Y.icon("stepback"),this.Y.icon("stepforward"),this.Y.icon("play")];this.Ab.F=["reset [R]","previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Cd=this.u.pb(this.JC,Menu.tc,-280,45,280,20,"0123456".split(""),this.Df,Menu.Vm);this.Cd.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Cd.ab("14px Arial");this.s=this.u.pb(this.rx,Menu.tc,-280,
65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Va);this.s.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.s.pe=1;this.Gg=this.u.La(null,Menu.nd,175,45,5,"");this.Gg.pe=0;this.Gg.locked=!0;this.Gg.border=0;this.ph=this.u.$j(this.pm,Menu.nd,180,45,100,40,0,1,0,"","",-1);this.ph.F="select drawing states range";this.gg=this.u.La(this.pG,Menu.nd,0,45,40,"All");this.gg.icon=this.Y.icon("select");this.gg.F="select all cells [Ctrl A]";this.gg.ab("16px Arial");this.on=this.u.pb(this.CC,
Menu.nd,45,45,40,40,["Auto"],[this.ak],Menu.Va);this.on.icon=[this.Y.icon("autoshrink")];this.on.F=["toggle auto shrink selection [Alt A]"];this.on.ab("16px Arial");this.Xn=this.u.pb(null,Menu.nd,90,45,40,40,[""],[!1],Menu.Va);this.Xn.icon=[this.Y.icon("selectlibrary")];this.Xn.F=["clipboard library"];this.Oq=this.u.pb(this.bH,Menu.pa,0,90,400,40,"0123456789".split(""),this.tg,Menu.Vm);this.ju();this.lo=this.u.pb(this.GC,Menu.tc,-160,45,160,40,["AND","CPY","OR","XOR"],r.QG[this.Cm],Menu.Vm);this.lo.F=
["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.lo.ab("16px Arial");this.ne=this.u.La(this.KD,Menu.nd,135,45,40,"");this.ne.icon=this.Y.icon("cut");this.ne.F="cut [Ctrl X]";this.me=this.u.La(this.Uo,Menu.nd,180,45,40,"");this.me.icon=this.Y.icon("copy");this.me.F="copy [Ctrl C]";this.cg=this.u.La(this.GF,Menu.nd,225,45,40,"");this.cg.icon=this.Y.icon("paste");this.cg.F="paste [Ctrl V]";this.Jf=this.u.La(this.Dt,Menu.mb,-175,-175,40,"");this.Jf.icon=
this.Y.icon("nudgeleft");this.Jf.F="nudge left [Alt Left]";this.$f=this.u.La(this.Et,Menu.mb,-130,-175,40,"");this.$f.icon=this.Y.icon("nudgeright");this.$f.F="nudge right [Alt Right]";this.ag=this.u.La(this.Ft,Menu.mb,-85,-175,40,"");this.ag.icon=this.Y.icon("nudgeup");this.ag.F="nudge up [Alt Up]";this.If=this.u.La(this.Ct,Menu.mb,-40,-175,40,"");this.If.icon=this.Y.icon("nudgedown");this.If.F="nudge down [Alt Down]";this.oe=this.u.La(this.UD,Menu.mb,-265,-85,40,"");this.oe.icon=this.Y.icon("flipx");
this.oe.F="flip horizontally [Alt X]";this.He=this.u.La(this.VD,Menu.mb,-220,-85,40,"");this.He.icon=this.Y.icon("flipy");this.He.F="flip vertically [Alt Y]";this.eg=this.u.La(this.iG,Menu.mb,-175,-85,40,"");this.eg.icon=this.Y.icon("rotatecw");this.eg.F="rotate clockwise [>]";this.dg=this.u.La(this.hG,Menu.mb,-130,-85,40,"");this.dg.icon=this.Y.icon("rotateccw");this.dg.F="rotate counter-clockwise [<]";this.le=this.u.La(this.ro,Menu.mb,-85,-85,40,"");this.le.icon=this.Y.icon("inside");this.le.F=
"clear cells in selection [Del]";this.ke=this.u.La(this.io,Menu.mb,-40,-85,40,"");this.ke.icon=this.Y.icon("outside");this.ke.F="clear cells outside selection [Shift Del]";this.Nl=this.u.La(this.oo,Menu.mb,-40,-130,40,"R");this.Nl.icon=this.Y.icon("select");this.Nl.F="clear [R]History cells [Ctrl Del]";this.Nl.ab("16px Arial");this.Wa=this.u.La(this.qE,Menu.mb,-85,-130,40,"");this.Wa.icon=this.Y.icon("invertselection");this.Wa.F="invert cells in selection [Ctrl I]";this.$=this.u.La(this.Lt,Menu.mb,
-130,-130,40,"");this.$.icon=this.Y.icon("random");this.$.F="random fill [Shift 5]";this.xd=this.u.La(this.Kt,Menu.mb,-175,-130,40,"2");this.xd.icon=this.Y.icon("random");this.xd.F="random 2-state fill [Ctrl Shift 5]";this.wk=this.u.$j(this.jH,Menu.mb,-275,-130,100,40,1,100,this.yj,"","%",0);this.wk.F="random fill density";this.mo=this.u.$j(this.HC,Menu.tc,-265,45,100,40,0,r.fF-1,this.Fg,"","",-1);this.mo.F="paste location [Shift L]";this.mo.ab("16px Arial");this.br=this.u.La(this.xy,Menu.mb,-40,
-85,40,"");this.br.icon=this.Y.icon("uturn");this.br.F="reverse playback direction [U]";this.Xn.Ot([this.Oq]);this.Rc.Ot([this.qh,this.ee,this.hd,this.Hd,this.Gl,this.Ii,this.js,this.Dr,this.cr,this.Lv,this.dn,this.Tm,this.hg,this.U,this.$o,this.Zo,this.mn,this.Eh,this.Jq,this.qm,this.zp,this.fm,this.np,this.Ws,this.wp,this.pq,this.up,this.qk,this.xs,this.Yr]);this.mf.Ot([this.sd,this.Im,this.dk,this.ek,this.Xc,this.Xl,this.Kn,this.Yf,this.$d,this.Gn,this.Om]);this.bl.Ot([this.ja,this.bi,this.ai])};
g.prototype.$n=function(b){var l=this,e=0,t=0;this.Zc=b;this.Zc.getContext&&(e=this.Zc.width,t=this.Zc.height,e!==this.rk&&v.Sr&&(e=this.rk),e<r.Lc&&(e=r.Lc),t<r.qj&&(t=r.qj),e&=-8,this.Zc.width!==e&&(this.Zc.width=e),this.Zc.height!==t&&(this.Zc.height=t),this.Dc=this.Zc.getContext("2d",{alpha:!1}),this.Dc.globalAlpha=1,this.Dc.fillStyle="black",this.Dc.imageSmoothingEnabled=!1,this.Dc.kO="low",this.Dc.fillRect(0,0,this.Zc.width,this.Zc.height),this.Dc.textAlign="left",this.Dc.textBaseline="middle",
this.J=this.Zc.width,this.H=this.Zc.height,this.g=new Life(this.Dc,this.J,this.H,512,512,this.D),this.g.CK(this.Dc,this.J,this.H),this.Ja=this.g.v.P(Float32,r.eF,"View.elapsedTimes"),this.sl=new Stars(r.Gv,this.g.v),this.gt(this.Dc),this.o=new MenuManager(this.Zc,this.Dc,"24px Arial",this.Y,this,this.rt),this.o.rl=!1,this.g.VI(),this.kt(),this.FA=this.Ab.Nm,this.Ny=this.lc.Nm,this.GB=this.Td.Nm,registerEvent(this.Zc,"wheel",function(x){l.tx(l,x)},!1),this.o.notification.enabled=!0,this.o.RH(this.u),
registerEvent(this.Zc,"keydown",function(x){l.wt(l,x)},!1))};g.prototype.Hw=function(b){var l=this.g.nb,e="";b|=0;b<l.length&&(e=l[b].name);return e};g.prototype.vN=function(b){var l=!1,e=this.g.nb,t=0;for(b=b.toLowerCase();t<e.length-1&&!l;)e[t].name.toLowerCase()===b?l=!0:t+=1;l||(t=-1);return t};g.prototype.SN=function(b){var l=this.X.jr();l.Sf||(l.x=this.g.width/2-this.g.Da);l.xf||(l.y=this.g.height/2-this.g.wa);l.Wd||(l.zoom=this.g.zoom);l.th||(l.angle=this.g.angle);l.wi||(l.V=this.g.V);l.ki||
(l.depth=this.g.ue);l.oi||(l.Cc=this.wg);l.Gi||(l.step=this.Fa);l.ng||(l.Fc=this.g.Bf);this.X.NL(b)};g.prototype.IJ=function(b){var l=b,e=this.Dc,t=b.length;e.font=(18*this.u.oh|0)+"px "+r.AC;var x=e.measureText(b).width;if(500<x){--t;for(x=e.measureText(b.substr(0,t)+"...").width;500<x;)--t,x=e.measureText(b.substr(0,t)+"...").width;l=l.substr(0,t)+"..."}return l};g.prototype.bM=function(b,l){ScriptParser.vL(this,b,l)};g.prototype.wM=function(){this.Cr=this.Ou=!1;this.g.ka=1<<r.eJ;this.An=this.QB=
-1;this.fw=this.UA=this.il=this.Wz=this.Ev=this.Sc=!1;this.g.$b=0;this.g.Xb=0;this.g.xc=1;this.kd=this.Xt=this.zc=this.oE=!1;this.Sk=this.yh=this.bc=null;this.ej=r.ej;this.g.hj=this.g.qK;this.g.gj=this.g.pK;this.g.fj=this.g.oK;this.g.ij=this.g.rK;this.g.jj=this.g.sK;this.sg=this.ef=this.Xu=!1;this.ac=-1;this.We=!1;this.gb=-1;this.jh=this.tf=this.Ro=this.ie=this.No=this.Vc=this.Fe=this.Qc=!1;this.O=this.Ur=2<this.g.i?63<=256-this.g.i?63:256-this.g.i:63;this.Ti=this.GE;this.de=!1;this.g.Yi=!1;this.g.$r=
0};g.prototype.IB=function(){this.Mj?(n(this.element),this.o.hasFocus=!1):(this.J=this.lm,this.H=this.SB,this.zc?(this.rb=!1,this.Tg(!0,!1,r.Xk)):this.g.zoom=this.om,this.yc&&(this.yc.current=this.Lk([this.g.zoom,this.g.zoom],!1,this)),this.la=this.hm,this.rb=!1,this.o.rb=!1,this.u.l=!1,this.o.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};g.prototype.rt=function(b){b.rb?(b.IB(),b.UB&&!b.cb&&(b.Ab.current=b.Ed(r.sk,!0,b))):b.Sc&&(b.il||b.Pq(b,!1));b.gu=!1};g.prototype.resize=
function(){this.Pv&&(B.Qv.dB=this.Xj-this.J,this.Xj=this.J,this.Pv=!1);this.Zc.width=this.J;this.Zc.height=this.H;this.Dc.textBaseline="middle";this.g.eG(this.J,this.H)};g.prototype.JB=function(){this.lm=this.J;this.SB=this.H;this.om=this.g.zoom;this.hm=this.la;this.J=this.J/this.Ee|0;this.H=this.H/this.Ee|0;this.g.zoom=this.g.zoom/this.Ee;this.J&=-8;this.u.l=!0;this.o.rb=!0;this.o.Ee=this.Ee;this.rb=!0;this.resize()};g.prototype.yC=function(){var b=this.g.i,l,e="";b>this.Hh&&(b=this.Hh);this.Cd.lower=
[];this.Cd.F=[];this.Cd.Bi(40*b);this.s.lower=[];this.s.F=[];this.s.current=[];this.s.Bi(40*b);this.s.pe=1;for(l=0;l<b;l+=1){var t=l+this.hh;this.Cd.lower[l]=String(t);0===t?e="dead":this.g.N||this.g.T?e=this.Py(t):e=this.g.fa?"state "+String(t):1===t?"alive":"dying "+String(t-1);10>t&&(e+=" [Ctrl "+t+"]");this.Cd.F[l]=e;this.s.lower[l]="";this.s.F[l]=e;this.s.current[l]=!1}t=this.Df;0<t&&(this.g.Pa||this.g.N||this.g.fa||this.g.T||(t=this.g.i-t));this.Cd.current=t-this.hh};g.prototype.uG=function(){var b=
this.g.i,l=this.u.Ge;this.Df=1;this.hh=0;this.sq.current=[this.aC([!0],!0,this)];this.Hh=7+((this.J/l-r.Lc)/(40*l)|0);this.Hh>b&&(this.Hh=b);this.g.Ga?(this.Cd.lower="0123456".split(""),this.Cd.Bi(280),this.Cd.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.Cd.current=this.Df,this.s.lower="      ".split(" "),this.s.Bi(280),this.s.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),
this.s.pe=1,this.s.current=[!1,!1,!1,!1,!1,!1,!1]):2>=b?(this.Cd.lower=["0","1"],this.Cd.Bi(80),this.Cd.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.Cd.current=this.Df,this.s.lower=["",""],this.s.Bi(80),this.s.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.s.pe=1,this.s.current=[!1,!1]):(this.Df=this.g.Pa||this.g.N||this.g.fa||this.g.T?1:b-1,this.yC(),this.Cd.Bi(40*this.Hh),this.s.Bi(40*this.Hh),this.ph.current=this.pm([0,0],!0,this));this.Cd.setPosition(Menu.tc,-this.Cd.Bs,45);this.s.setPosition(Menu.tc,
-this.s.Bs,65)};g.prototype.SM=function(b){var l=this.g.Re;-1===b&&(this.zh?b=l:b=this.g.Ga?10:2<this.g.i&&!this.g.N&&!this.g.fa?11:this.g.ma?17:this.g.N||this.g.fa?18:1);this.pu&&b!==l&&(this.g.nb[l].set(this.g.nb[b]),b=l,this.g.nb[l].Mn=this.g.Hf,this.zh=!0);this.Rm(b,1,this)};g.prototype.oG=function(){var b=window.innerWidth,l=window.innerHeight,e=this.J,t=this.H+80;e*=this.devicePixelRatio;t*=this.devicePixelRatio;var x=this.devicePixelRatio;this.vf=1;if(e>b||t>l)if(x=e/b,t/l>x&&(x=t/l),e/=x,
t=this.H*this.devicePixelRatio/x,x=e/this.J,t/this.H<x&&(x=t/this.H),e<r.Lc||t<r.qj)x=e/r.Lc,t/r.qj<x&&(x=t/r.qj),e/=x,t/=x,this.vf=x,x=1;this.J=e&-8;this.H=t|0;this.o.vf=this.vf;B.Qv.vf=this.vf;this.u.yM(x);this.Y.$M(x);this.rr=18*x|0;this.rp=this.rr+"px "+r.TD;this.jm=this.rr+"px "+r.AC;this.J!==this.Xj&&(this.Pv=!0)};g.prototype.tD=function(){this.Yk=!1;this.ni=0;this.ah=!1;this.Km=this.Jm=0;this.ks=this.Tp=this.Gm=this.pd=this.zb="";this.ls=this.Hm=this.lb=this.hb=0;this.sj="(none)";this.g.Pa=
!1;this.g.ma=!1;this.g.N=!1;this.g.Ga=!1;this.g.T=!1;this.g.S=!1;this.g.yg=this.D.tp;this.g.R=!1;this.g.Ud=this.D.gn;this.g.te=!1;this.g.Vd=-1;this.g.Jv=!1;this.g.i=-1;this.g.ya=-1;this.Aa=this.md=this.g.sa=!1;this.g.fa=!1;this.g.yk=null;this.g.zk=null;this.g.ge=null;this.g.Rd=null;this.g.Ig=[];this.g.Sd=null;this.g.Hg=0;this.g.Cj=0;this.g.nl=0};g.prototype.Nh=function(b,l){b=this.D.create("",b,this.g.v,this.Mi,this.Mi,[l],this);this.D.tv?this.o.notification.notify("Loading rule...",15,1E4,15,!0):
this.Mi(b,[l],this)};g.prototype.Mi=function(b,l,e){var t=!1;var x=l[0];e.lv=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;e.g.bh=!1;e.g.Rk=null;e.Hn=!1;e.cj=-1;e.dn.current=e.bC([!0],!0,e);e.Gj=!1;e.Bk=!1;e.Ak=!1;e.Dk=!1;e.Ck=!1;e.g.Bf=-1;e.o.dG();e.wh=!0;e.ak=!1;e.xb=!1;e.kk=!1;e.Lf=[];for(l=0;10>l;l+=1)e.Lf[l]=null;e.tg=0;e.Kq=!1;e.yb=null;e.ld=!1;e.sf=0;e.rf=0;e.yd=!1;e.rh=!1;e.lo.current=e.GC(2,!0,e);e.Wp=!1;e.xk=[];e.cq=[];e.qd=[];e.Aj=[];e.Xf=[];e.yn=[];e.gd=0;e.wc=0;e.eo=0;e.g.fh=
!1;e.Eg=[];e.$c=r.gs;e.Qp=0;e.es=-1;e.Pp=[];e.fs=0;e.mk=!1;e.dA=0;e.eA=0;e.fl=0;e.mv=!1;e.Bm=r.bk;e.Em=-r.bk;e.Am=r.bk;e.Fm=-r.bk;e.o.notification.clear(!0,!0);e.o.notification.clear(!1,!0);e.g.bd=!1;e.g.cd=!1;e.NC=!1;if(b){e.Yk=e.D.Yk;e.ni=e.D.My;e.ah=e.D.ah;e.Jm=e.D.Rv;e.Km=e.D.Sv;e.Fk=e.D.Fk;e.Ek=e.D.Ek;e.hb=b.width;e.lb=b.height;e.Tp=b.name;e.ks=b.iF;e.sj=b.sj;""===e.sj&&(e.sj="(none)");e.Hm=b.Bd;e.ls=b.cs;e.zb=b.I;e.pd=b.Vf;e.Gm=b.ap;e.g.Ac=b.Ac;e.g.pg=b.pg;e.Aa=e.D.Aa;e.g.Ga=b.qc;e.g.T=b.T;
e.Nl.F="clear [R]History cells [Ctrl Del]";e.g.T&&(e.Nl.F="clear [R]Super cells [Ctrl Del]");e.g.i=b.i;!e.Aa&&2<b.Bd&&(e.g.i=b.Bd);e.g.Sd=null;e.g.Ig=null;-1!==b.Be?(e.g.lg=b.lg,e.g.Be=b.Be,e.g.i=b.Be,e.g.Ai=b.Ai,e.g.pl=b.pl,e.g.yk=b.yk,e.g.zk=b.zk,e.g.ge=b.ge,e.g.Rd=b.Rd,e.g.fa=!0):e.g.fa=!1;null!==b.Sd&&(e.g.Ig=b.Ig,e.g.Sd=b.Sd,e.g.Hg=b.Hg,e.g.Cj=b.Cj,e.g.nl=b.nl,e.g.i=b.kg,e.g.ge=b.ge,e.g.Rd=b.Rd,e.g.fa=!0);e.g.QL(b.Rd);if(e.g.sa=b.sa)e.g.Ia.Pb=b.Ie,e.g.Ia.Bw=b.Pf,e.g.Ia.xo=b.i,e.g.Ia.dN(b.Lb,
b.ig,b.se,b.ii,b.R,b.Xe,b.nh),e.D.sc?(e.g.Ia.St=b.Eq,e.g.Ia.Tt=b.Fq,e.g.Ia.sc=!0):e.g.Ia.sc=!1,e.NC=b.Od;e.g.Pa=b.Pa;e.g.ma=b.ma;e.g.Dl=e.g.ma;e.g.N=b.N;e.g.vc=!0;e.g.S=b.S;e.g.Jv=b.S;e.g.yg=b.yg;e.g.R=b.R;e.g.Ud=b.Ud;e.g.te=b.te;e.g.Vd=b.Vd;e.g.ya=b.mc;e.g.Ba=b.Ne;e.g.xa=b.xg;e.g.rn=b.lr;e.g.sn=b.pp;e.g.bu=b.Sy;e.g.Ox=b.Wu;e.no=new Uint32Array(e.Hm);for(l=0;l<e.Hm;l+=1)e.no[l]=e.D.Eo[l]}else e.tD();e.g.gN();e.Ci=!0;e.ad=!1;e.$g=!0;e.vd=r.ND;e.Pc=b?!1:!0;e.op=!0;e.Zk=!1;e.C=e.D.C;e.g.da=1;e.g.Cs=
r.MD;e.Mb=0;e.Nb=0;e.Qg=-1;e.kh=-1;e.wn=!1;e.Nq=!1;e.u.locked=!1;e.ti=!1;e.Ei=!1;e.g.PJ();e.g.QJ();e.g.Ga&&e.g.BD();e.g.Ga&&e.g.HD();e.Li="";e.Di=!1;ColourManager.nf();e.g.Lq(!1);e.g.Md=r.Vu;e.g.Zf=r.Uu;e.g.Hf=10;e.g.gJ=10;e.g.al=!0;e.JD=-1;e.ID=-1;e.wg=60;e.Fa=1;e.g.V=1;e.g.ue=.1;e.g.angle=0;e.g.zoom=6;e.g.sM(e.fJ,e.dJ);e.g.Da=e.g.width/2;e.g.wa=e.g.height/2;e.vy=!1;e.ty=!1;e.uy=!1;e.Me=0;e.bj=0;e.Se=-1;e.eh=-1;e.Nf=-1;e.zi=-1;e.ra[r.Sg]=-1;e.ra[r.aj]=-1;e.ra[r.qu]=-1;e.ra[r.ji]=-1;e.ra[r.Rq]=-1;
e.ra[r.Sq]=-1;e.ra[r.Tq]=-1;e.ra[r.zu]=-1;e.ra[r.Au]=-1;e.ra[r.ru]=-1;e.ra[r.wu]=-1;e.ra[r.vu]=-1;e.ra[r.uu]=-1;e.ra[r.xu]=-1;e.ra[r.yu]=-1;e.ra[r.tu]=-1;e.ra[r.Uq]=-1;e.ra[r.su]=-1;e.ra[r.ly]=-1;e.ra[r.Yq]=-1;e.ra[r.Wq]=-1;e.ra[r.Zq]=-1;e.ra[r.ar]=-1;e.ra[r.$q]=-1;e.ra[r.Xq]=-1;e.ra[r.Qq]=-1;e.ra[r.Vq]=-1;e.ra[r.ky]=-1;e.ra[r.ny]=-1;e.ra[r.my]=-1;e.ra[r.jy]=-1;e.hy=r.vE;e.gy=r.Vt;e.iy=r.NF;e.rb&&e.IB();e.vl=!1;e.o.rb=!1;e.Ee=r.OD;e.Mj=!1;e.o.Mj=!1;e.Iw=!1;e.md=b?!1:!0;e.Ta=!1;e.g.jc=!1;e.g.ud=!1;
e.Ab.l=!1;e.Ad.l=!1;e.mf.l=!1;e.lc.l=!1;e.Td.l=!1;e.Rc.l=!1;e.ee.l=!1;e.hd.l=!1;e.Ii.l=!1;e.dn.l=!1;e.Tm.l=!1;e.u.l=!1;e.dh.l=!1;e.Oj.l=!1;e.so.l=!1;e.js.l=!1;e.Dr.l=!1;e.Lv.l=!1;e.cr.l=!1;e.Gl.l=!1;e.Rc.current=[!1];e.mf.current=[!1];e.la=0;e.ic=0;e.Xn.current=[!1];e.on.current=e.CC([e.ak],!0,e);e.fp.current=e.DC([e.wh],!0,e);e.Cw=!1;e.Ad.current=e.Kk(r.xm,!0,e);e.wk.current=e.jH([50,50],!0,e);e.mo.current=e.HC([r.Rp,r.Rp],!0,e);e.bl.current=e.xq([e.la],!0,e);e.Sl=[96,96,96];e.g.Il=e.g.fe?4284506208:
1616929023;e.Tl=[128,128,128];e.g.Jl=e.g.fe?4286611584:2155905279;e.Wl=[0,255,0];e.g.rB="rgb(0,255,0)";e.Vl=[255,0,0];e.g.bA="rgb(255,0,0)";e.Rl=[255,255,0];e.g.Pt="rgb(255,255,0)";e.X.reset();e.Vc=!1;e.X.wI();e.si=!1;e.xe=!1;e.vj=!0;e.zh=!1;e.pu=!1;e.g.dj=!1;e.ew=r.aq;e.Zv=r.aq;e.Xv=50;e.As=!1;e.aw=!1;e.dw=!1;e.kl=-1;e.ll=-1;e.Mm=-1;e.Kh=[];e.xj=[];e.ow=!1;e.UB=!1;if(b){if(b.Pa||!e.Aa&&2<e.g.i)e.Je=ColourManager.Bu,e.cp="(default)";else if(e.D.lk||b.qc)b.qc?(e.Je=ColourManager.uD("LifeHistory"),
e.Je[2]=96):e.Je=ColourManager.uD(b.I),e.Je.length?e.cp=b.I:(e.Je=ColourManager.Bu,e.cp="(default)");e.wM();e.cw=Date.now().toString();!e.zd&&v.fullScreen&&(e.J=document.body.clientWidth&-8,e.H=window.innerHeight-128,e.J<r.Lc&&(e.J=r.Lc),e.H<r.qj&&(e.H=r.qj),t=!0);e.g.Qd=!1;b.title&&(l=b.Bd,e.g.Ga&&(l=7),e.g.N&&(l=16),e.g.T&&(l=26),e.bM(b.title,l),e.qd.length&&(e.ic=1),e.rb&&x&&(e.rb=!1),-1<e.Se&&(e.Se&=-8,e.Se!==e.J&&(e.J=e.Se,t=!0)),-1<e.eh&&e.eh!==e.H&&(e.H=e.eh,t=!0),e.zd&&(-1<e.Nf?(e.Nf&=-8,
e.Nf!==e.J&&(e.J=e.Nf,t=!0)):e.J<r.Lc&&(e.J=r.Lc),-1<e.zi&&e.zi!==e.H&&(e.H=e.zi,t=!0)));e.g.Qd&&(2<e.g.i||e.g.sa||e.g.N||e.g.Ga||e.g.fa||e.g.ma)&&(e.g.Qd=!1);if(!e.Aa||e.g.fa||e.g.T)e.O=0;e.Tb.nf(e.cw);e.zd&&(e.Np=e.J,e.Mp=e.H,e.oG());b.Lg&&0===e.Eg.length&&(e.Aa=!1);e.uG();e.WM();e.NN();e.LN();e.g.WL();e.g.O=e.O;e.g.Ti=e.Ti;e.Mj&&!e.ad&&(e.Pc=!0,e.ad=!1);e.g.bI(!e.Pc);if(b.width>e.g.ka||b.height>e.g.ka)e.C="Pattern too big (maximum "+e.g.ka+"x"+e.g.ka+")",e.Lg=!0,e.Aa=!1,e.tD();if(-1!==b.mc){var z=
6;b.sa&&(z=6*b.ig);b.Od&&(z=6*b.Ae);if(b.Ne>=e.g.ka-z||b.xg>=e.g.ka-z)e.C="Bounded grid is too big",e.Aa=!1,e.g.ya=-1}e.g.GN(e);e.mv&&(e.g.dy(),e.PL());e.MC=!1;if(-1!==e.g.ya){x=e.g.Ba;var A=e.g.xa;0===x&&(x=b.width);0===A&&(A=b.height)}else x=b.width,A=b.height,0<e.Eg.length&&(x=e.DI(x),A=e.CI(A));z=r.Bg;e.g.sa&&(z=4*e.g.Ia.Xh+1,-1!==e.g.ya&&(z+=2*e.g.Ia.Xh),e.g.Ia.type===e.D.uf&&(z=-1!==e.g.ya?z+e.g.xa/2:z+(e.g.L.B-e.g.L.m+1)/2),z<r.Bg&&(z=r.Bg));l=e.g.ka/2-z;e.ah&&(e.Jm<-l?e.Jm=-l:e.Jm>=l&&(e.Jm=
l-1),e.Km<-l?e.Km=-l:e.Km>=l&&(e.Km=l-1),e.Mb+=e.Jm,e.Nb+=e.Km);e.Mb<-l?e.Mb=-l:e.Mb>=l&&(e.Mb=l-1);e.Nb<-l?e.Nb=-l:e.Nb>=l&&(e.Nb=l-1);for(;e.g.width<e.g.ka&&(x+z+2*Math.abs(e.Mb)>=e.g.width||A+z+2*Math.abs(e.Nb)>=e.g.height);)e.g.pr(),e.Me+=e.g.width>>2,e.bj+=e.g.height>>2,e.Te+=e.g.width>>2,e.Ej+=e.g.height>>2,e.g.S&&(e.Me-=e.g.height>>3,e.Te-=e.g.height>>3);b.sa&&e.g.Ia.resize(e.g.width,e.g.height);e.EI(b.width,b.height);e.g.Ga&&e.D.Eo[6]&&e.g.ML(b,e.Tc,e.Uc);e.yh?e.o.notification.Og="rgb("+e.yh[0]+
","+e.yh[1]+","+e.yh[2]+")":e.o.notification.Og=e.o.notification.TF;if(null===e.bc)for(l=0;l<e.Je.length;l+=1)e.zn[l]=e.D.Eo[l]?r.zG:r.EB;e.g.ec?(e.g.WI(e.Je,e.bc),e.g.dj=!0):e.g.dj=!1;b.Lg||e.MI(b);e.Om.Za=""!==e.pd?e.pd:e.zb;e.Om.F=e.zb;""!==e.pd&&(e.Om.F+=" alias "+e.pd)}e.zj=!1;e.Bz="none";e.Cb="none";e.Dp="none";e.Or="none";e.Ep="none";e.Nr="none";e.ov="none";e.Ap="none";e.Pr="none";e.Bp="none";e.Qr="none";e.Cp="none";e.dc=!1;e.vp.current=[e.dc];e.g.kv(e.dc);e.Tm.current=e.ZB([e.vj],!0,e);e.g.dy();
e.SM(e.QB);e.g.bc=e.bc;e.g.Pa||!e.Aa&&2<e.g.i?e.g.AD(e.Je,e.bc):e.g.zD();e.g.Kd(1);e.g.RM();e.nq.current=e.$B([e.Co],!0,e);e.Lp.current=e.Pw([e.vd,e.vd],!1,e);e.Fp.current=[e.$g];e.Vi.current=[e.zc];e.pi.current=[e.g.jc];e.$p.current=[e.g.Qd];e.g.counter=0;e.g.Wf=0;e.g.mj=0;e.wb=0;e.fg=0;e.elapsedTime=0;e.Ad.zg=[!1,!1,!1];if(e.md)b&&(e.g.cB(e.Ei),e.bc&&(e.Je=e.bc)),e.AI=e.Je.length,e.g.AD(e.Je,e.bc),e.g.Kg.reset(),e.Pc=!0,e.ad=!1;else{e.g.cB(e.Ei);e.g.mw();2>=e.g.i&&e.g.lw(e.g.eb);e.g.Ga&&e.D.Eo[2]&&
e.g.QI(b,e.Tc,e.Uc);e.rj();0<e.Eg.length&&(e.g.cB(e.Ei),e.g.mw(),2>=e.g.i&&e.g.lw(e.g.eb));e.g.uM(e.g.eb,e.g.ba);x=0;for(l=1;l<e.no.length;l+=1)x+=e.no[l];b&&0===x&&0===e.g.qa&&!e.mk?(e.Hn=!0,e.g.Pa||(b.Lg?e.o.notification.notify("Pattern too big!",15,r.Nu,15,!1):e.o.notification.notify("New pattern",15,300,15,!1))):e.Hn=!1;-1!==e.g.ya&&e.g.sB();e.g.NM(e.xe);e.g.nw(e.xe)}e.Pj.width=9999<e.g.ka?166:140;e.Pm.Bo(e.Pj.Bs);e.fm.locked=e.Pc;e.fm.current=[e.ad];e.Tm.current=[e.vj];e.dn.current=[e.Kl];e.zp.current=
[e.g.Yi];e.$o.current=[e.si];e.Zo.current=[e.di];e.mn.current=[e.g.Dl];e.mn.locked=!e.g.ma;e.g.R?(e.Eh.lower=["Triangles"],e.Eh.current=[e.g.vc],e.Eh.F=["toggle triangular cells [/]"]):(e.Eh.lower=["Hexagons"],e.Eh.F=["toggle hexagonal cells [/]"],e.Eh.current=e.g.S?[e.g.vc]:[!1]);e.br.l=(e.g.ma||e.g.N)&&null!==e.g.Jc?!1:!0;0===e.X.Ip()?(e.qm.locked=!0,e.Ci=!1):(e.qm.locked=!1,e.Ci=!0);e.qm.current=[e.Ci];e.wp.current=[e.kd];e.fq.current=[e.Zk];e.zs.current=[e.g.bh];e.pq.current=[e.Di];e.up.current=
[e.ti];e.X.uc.length?(e.ws.l=!1,e.Xr.l=!1):(e.ws.l=!0,e.Xr.l=!0);0===e.g.Hf?(e.qk.current=[!1],e.qk.locked=!0):(e.qk.current=[e.g.al],e.qk.locked=!1);e.Pc||e.g.cG();l=e.g.zoom;x=e.g.Da;A=e.g.wa;z=e.rb;e.rb=!1;e.Tg(!0,!1,r.Xk);e.rb=z;e.vy?e.g.zoom=l:!e.zc&&e.g.zoom>r.HE&&(e.g.zoom=r.HE);e.ty&&(e.g.Da=x);e.uy&&(e.g.wa=A);e.Vc&&e.SN(e.qd);e.rb&&e.Iw&&(e.g.zoom=e.WB);e.PD=e.g.zoom;e.yc.current=e.Lk([e.g.zoom,e.g.zoom],!1,e);e.Me=e.g.Da;e.bj=e.g.wa;e.jp=e.g.angle;e.Hd.current=[e.jp,e.jp];e.Du=e.g.Bf;e.Rm(e.Du,
e.g.Ol,e);e.sy=e.wg;l=Math.sqrt((e.sy-r.Wg)/(r.tm-r.Wg));e.lc.current=e.Jk([l,l],!0,e);e.Cu=e.Fa;e.Td.current=e.ln([e.Cu,e.Cu],!0,e);e.kp=e.g.V;e.ee.current=[e.kp,e.kp];e.ry=e.g.ue;l=Math.sqrt(e.ry);e.hd.current=e.wl([l,l],!0,e);e.g.da=1;e.ef&&!e.sg?(e.cb=!0,e.Ab.current=r.sk):(e.cb=!1,e.Ab.current=r.Qe);e.uw(e.cb);e.H<r.vm?(e.Rc.l=!0,e.Ab.Bo(e.FA+45),e.lc.Bo(e.Ny+45),e.Td.Bo(e.GB+45)):(e.Ab.Bo(e.FA),e.lc.Bo(e.Ny),e.Td.Bo(e.GB));e.J>r.Lc&&!e.zd?(l=e.J-r.Lc+r.nt,l>r.Xw&&(l=r.Xw),e.yc.Bi(l)):e.yc.Bi(r.nt);
if(t||e.rb)e.rb?e.JB():e.resize();b||(e.D.Lg?e.o.notification.notify("Pattern too big!",15,r.Nu,15,!1):e.o.notification.notify("Invalid pattern!",15,r.Nu,15,!1));e.qd.length?e.la=0:e.ic=0;e.Aa||(e.Ta=!0,e.g.dj=!1,e.g.Pa=!0,e.g.Ga=!1,e.g.T=!1);if(e.Ta||e.g.Pa)e.Ad.zg[r.wm]=!0;e.Ta?(e.Ab.l=!0,e.mf.l=!0,e.dh.l=!0,e.lc.l=!0,e.Td.l=!0,e.Oj.l=!0,e.so.l=!0,e.md&&(e.ee.l=!0,e.hd.l=!0,e.Ii.l=!0,e.g.V=1),e.ml.l=!1,""===e.C?(e.ml.Za=Keywords.jt,e.ml.kf=r.sp):(e.ml.Za=e.C,e.ml.kf=e.ej)):e.ml.l=!0;540>e.H?e.Gl.setPosition(Menu.oq,
0,-85):e.Gl.setPosition(Menu.oq,0,-100);e.TG();e.Ag=!1;e.Rr="";e.nG(e);e.Pu()?(e.dk.Za="Density",e.dk.F="cell density"):(e.dk.Za="Births",e.dk.F="cells born this generation");e.o.Ph=!0;e.o.Jg(!0);e.zd&&e.Jw&&(""===e.Li?e.Jw.nodeValue="LifeViewer":e.Jw.nodeValue=e.IJ(e.Li));v.Va?(b=e.Tp,""===b&&(b="Universe "+(e.fd+1)),e.o.notification.notify(b,15,120,15,!0),e.xs.l=!1,e.Yr.l=!1):(e.xs.l=!0,e.Yr.l=!0);e.ub("");e.Dv&&f(e);(8===e.g.zoom||.125===e.g.zoom)&&0<e.fo&&0===(e.fo&3)&&1===(e.Aj.length&5)?(e.er=
!0,e.g.mE()):e.er=!1;e.g.hz();(e.g.ma||e.g.N)&&null!==e.g.Jc&&e.ow&&(e.g.cd=!0,e.uw(e.cb));e.fw&&""===e.C&&(e.Yv||(e.Yv=!0,e.$v(e,!0)),e.Yv=!1)};registerEvent(window,"load",y,!1);window.onresize=function(){if(v.fullScreen){var b=B.Fd[0][1];b.J=document.body.clientWidth&-8;b.H=window.innerHeight-128;b.J<r.Lc&&(b.J=r.Lc);b.H<r.RF&&(b.H=r.RF);if(b.J>r.Lc&&!b.zd){var l=b.J-r.Lc+r.nt;l>r.Xw&&(l=r.Xw);b.yc.Bi(l)}else b.yc.Bi(r.nt);l=b.Df;b.uG();b.Df=l;b.yC();b.resize();b.o.Jg(!0)}};window.DocConfig=v;window.Controller=
B;window.ViewConstants=r;window.startAllViewers=y;window.updateViewer=n;window.updateMe=d;window.hideViewer=k;window.lifeViewerBuild=r.Ow}(),function(){var w={ql:0,xn:"",cy:!1,qN:function(g){g=LifeConstants.aF[g];10<g.length&&(g=g.replace(/marked/,"mkd"),g=g.replace(/trail/,"trl"),10<g.length&&(g="1"<=g.substr(-1)&&"9">=g.substr(-1)?g.substr(0,9)+g.substr(-1):g.substr(0,10)));return g},iM:function(g,h,p,k,a,c,d,f,n,m){var q=f,u=g.u.Ge,y=this.ql*u,v=this.ql*g.u.Ge,r=!1,B=g.ca;c&&(c.fillStyle===ViewConstants.sr&&
(r=!0),B>=m&&B<=m+g.od&&(c.font=g.rp,r||(c.fillStyle=1<(g.la|0)?ViewConstants.sp:ViewConstants.Su),c.fillText(h,d+y,f+v),r||(c.fillStyle=ViewConstants.sp),c.fillText(p,d+y+c.measureText(h).width,f+v),r||(c.fillStyle=(g.la|0)<g.Jp-g.od?ViewConstants.sp:ViewConstants.Su),c.fillText(k,d+y+c.measureText(h+p).width,f+v),r||(c.fillStyle=ViewConstants.sp),c.font=g.jm,c.fillText(a,d+y+g.ea[0]*u,f+v),q+=n));g.ca+=1;return q},Jx:function(g){g/=1048576;return 10>g?String(g.toFixed(1)):String(g.toFixed(0))},
$a:function(g,h,p,k,a,c,d,f,n){var m=g.ca;a&&(f-=6,m>=n&&m<=n+g.od&&(g=a.fillStyle,g!==ViewConstants.sr&&(a.fillStyle="rgb("+h+","+p+","+k+")"),a.fillRect(c,d-(f>>1)-1,f,f),a.fillStyle=g))},measureText:function(g,h,p,k){var a=k?g.$u:g.Zu;a[g.ca]?h=a[g.ca]:(h.font=0===k?g.rp:g.jm,h=h.measureText(p).width,a[g.ca]=h);return h},h:function(g,h,p,k,a,c,d,f){var n=c,m=String(p).indexOf("\t"),q=0,u=g.u.Ge,y=this.ql*u,v=this.ql*g.u.oh,r=g.ca>=f&&g.ca<=f+g.od;w.cy&&0===w.ql&&(""===h?w.xn+=p+"\n":"H / Esc"!==
h&&(w.xn+=h+"\t"+p+"\n"));if(h.length){r&&(k.font=g.rp,k.fillText(h,a+y,c+v));h=this.measureText(g,k,h,0);h>g.ea[q]*u&&""!==p&&(r&&(c+=d,n+=d),g.ca+=1,r=g.ca>=f&&g.ca<=f+g.od);r&&(k.font=g.jm);for(;-1!==m;)r&&k.fillText(p.substr(0,m),a+y+g.ea[q]*u,c+v),q+=1,p=p.substr(m+1),m=p.indexOf("\t");m=!1;if(g.Mg&&(h=this.measureText(g,k,p,1),a+g.ea[q]*u+h>k.canvas.width)){var B=p.toLowerCase();h=B.indexOf("|");-1===h&&("r"===B[0]?h=B.indexOf("b"):"m"!==B[0]&&(h=B.indexOf("s")),-1===h&&(h=B.indexOf("/"),-1!==
h&&"m"!==B[0]?h+=1:(h=p.length>>1,B=B.indexOf(",",h),-1!==B&&(h=B+1))));-1!==h&&(r&&(k.fillText(p.substr(0,h),a+y+g.ea[q]*u,c+v),c+=d,n+=d),g.ca+=1,(r=g.ca>=f&&g.ca<=f+g.od)&&k.fillText("  "+p.substr(h),a+y+g.ea[q]*u,c+v),m=!0)}m||r&&k.fillText(p,a+y+g.ea[q]*u,c+v)}else k.font=g.jm,r&&k.fillText(p,a+y,c+v);r&&(n+=d);g.ca+=1;return n},oc:function(g,h,p){for(var k=ColourManager.Je,a=Object.keys(k),c="    "+g+"\t"+h+"\t"+p,d=!1,f,n=0;n<a.length&&!d;)f=k[a[n]],f[1]===g&&f[2]===h&&f[3]===p?(c+="\t"+f[0],
d=!0,n=a.length):n+=1;return c},jg:function(g){return this.oc(g.red,g.green,g.blue)},hI:function(g){var h=0,p=0;g.g.da&&(h=g.g.L.A-g.g.L.j+1,p=g.g.L.B-g.g.L.m+1);-1!==g.g.ya&&(0!==g.g.Ba&&(h=g.g.Ba),0!==g.g.xa&&(p=g.g.xa));return h+" x "+p},oI:function(g){var h="AutoFit";g.ti&&(h+=" History");g.Ei&&(h+=" State 1");return h},jF:function(g,h){h-=g.length;for(var p="";0<h;)p+=" ",--h;return p+g},Xx:function(g){var h=g.indexOf(","),p=g.lastIndexOf(",");return[g.substring(4,h),g.substring(h+1,p),g.substring(p+
1,g.length-1)]},$F:function(g,h,p,k,a,c){var d=k;switch(g.im){case ViewConstants.xl:this.oM(g,h,p,k,a,c);break;case ViewConstants.sE:this.kM(g,h,p,k,a,c);break;case ViewConstants.pB:this.mM(g,h,p,k,a,c);break;case ViewConstants.Er:this.jM(g,h,p,k,a,c);break;case ViewConstants.EG:this.nM(g,h,p,k,a,c);break;case ViewConstants.vD:this.fM(g,h,p,k,a,c);break;case ViewConstants.ZC:this.dM(g,h,p,k,a,c);break;case ViewConstants.QE:this.lM(g,h,p,k,a,c);break;case ViewConstants.eD:this.eM(g,h,p,k,a,c)}g.Jp=
g.ca-1;g.ca=1;g.ea[0]=120;k=d+a*(g.od+2);k=g.im!==ViewConstants.xl?this.iM(g,"Up"," / ","Down","scroll help",h,p,k,a,0):k+a;g.zd?this.h(g,"H","close help",h,p,k,a,0):this.h(g,"H / Esc","close help",h,p,k,a,0)},oM:function(g,h,p,k,a,c){g.ca=1;g.Mg=!1;g.ia=[];g.ea[0]=108;g.ia[0]=[g.ca,"Top"];this.h(g,"",ViewConstants.XG+" build "+ViewConstants.Ow+" by "+ViewConstants.WG,h,p,k,a,c)},eM:function(g,h,p,k,a,c){var d,f=0,n=g.u.Ge;g.ca=1;g.Mg=!1;g.ia=[];g.ia[f]=[g.ca,"Top"];f+=1;g.ea[0]=128;g.ea[1]=208;g.ea[2]=
288;g.ea[3]=368;k=this.h(g,"","Annotations",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Labels"];f+=1;k=this.h(g,"","Labels:",h,p,k,a,c);k=this.h(g,"Number",g.X.Pe.length,h,p,k,a,c);for(d=0;d<g.X.Pe.length;d+=1){var m="Label "+String(d+1);k=this.h(g,m,g.X.LK(d),h,p,k,a,c);k=this.h(g," ",g.X.MK(d),h,p,k,a,c);k=this.h(g," ",g.X.NK(d),h,p,k,a,c);m=this.Xx(g.X.OK(d));this.$a(g,m[0],m[1],m[2],h,p+g.ea[0]*n,k,a,c);k=this.h(g,"Colour",this.oc(m[0],m[1],m[2]),h,p,k,a,c)}k=this.h(g,"","",h,p,k,a,
c);g.ia[f]=[g.ca,"Arrows"];f+=1;k=this.h(g,"","Arrows:",h,p,k,a,c);k=this.h(g,"Number",g.X.zf.length,h,p,k,a,c);for(d=0;d<g.X.zf.length;d+=1)m="Arrow "+String(d+1),k=this.h(g,m,g.X.iI(d),h,p,k,a,c),k=this.h(g," ",g.X.jI(d),h,p,k,a,c),k=this.h(g," ",g.X.kI(d),h,p,k,a,c),m=this.Xx(g.X.Vt(d)),this.$a(g,m[0],m[1],m[2],h,p+g.ea[0]*n,k,a,c),k=this.h(g,"Colour",this.oc(m[0],m[1],m[2]),h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Polygons"];k=this.h(g,"","Polygons:",h,p,k,a,c);k=this.h(g,"Number",
g.X.Mf.length,h,p,k,a,c);for(d=0;d<g.X.Mf.length;d+=1)m="Polygon "+String(d+1),k=this.h(g,m,g.X.IL(d),h,p,k,a,c),k=this.h(g," ",g.X.JL(d),h,p,k,a,c),k=this.h(g," ",g.X.KL(d),h,p,k,a,c),m=this.Xx(g.X.LL(d)),this.$a(g,m[0],m[1],m[2],h,p+g.ea[0]*n,k,a,c),k=this.h(g,"Colour",this.oc(m[0],m[1],m[2]),h,p,k,a,c)},kM:function(g,h,p,k,a,c){var d,f=0;g.ca=1;g.ia=[];g.Mg=!0;g.ea[0]=124;g.ia[f]=[g.ca,"Top"];f+=1;k=this.h(g,"","Keyboard commands",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Playback"];
f+=1;k=this.h(g,"","Playback controls:",h,p,k,a,c);if(g.md)k=this.h(g,"R","reset",h,p,k,a,c);else{k=this.h(g,"Enter","toggle play / pause",h,p,k,a,c);k=this.h(g,"Space","pause / next generation",h,p,k,a,c);k=this.h(g,"B","pause / previous generation",h,p,k,a,c);k=this.h(g,"Backspace","pause / previous generation",h,p,k,a,c);k=this.h(g,"Tab","pause / next step",h,p,k,a,c);k=this.h(g,"Shift Tab","pause / previous step",h,p,k,a,c);if(g.g.ma||g.g.N)k=this.h(g,"U","toggle playback direction",h,p,k,a,c);
k=g.zd?this.h(g,"Esc","close LifeViewer",h,p,k,a,c):this.h(g,"Esc","pause if playing",h,p,k,a,c);k=this.h(g,"R","reset to generation 0",h,p,k,a,c);k=this.h(g,"-","decrease generation speed",h,p,k,a,c);k=this.h(g,"+","increase generation speed",h,p,k,a,c);k=this.h(g,"Shift -","minimum generation speed",h,p,k,a,c);k=this.h(g,"Shift +","maximum generation speed",h,p,k,a,c);k=this.h(g,"D","decrease step size",h,p,k,a,c);k=this.h(g,"E","increase step size",h,p,k,a,c);k=this.h(g,"Shift D","minimum step size",
h,p,k,a,c);k=this.h(g,"Shift E","maximum step size",h,p,k,a,c);k=this.h(g,"0","reset step and speed",h,p,k,a,c);k=this.h(g,"Ctrl P","toggle pause playback while drawing",h,p,k,a,c);k=this.h(g,"Alt T","toggle throttling",h,p,k,a,c);g.Vc?-1!==g.gb?(k=this.h(g,"W","toggle waypoint playback and loop",h,p,k,a,c),k=this.h(g,"Shift P","toggle just loop",h,p,k,a,c)):k=this.h(g,"W","toggle waypoint playback",h,p,k,a,c):-1!==g.gb&&(k=this.h(g,"W","toggle loop",h,p,k,a,c));g.ef&&(k=this.h(g,"Alt O","toggle autostart",
h,p,k,a,c));-1!==g.ac&&(k=this.h(g,"Alt P","toggle stop",h,p,k,a,c))}k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Multi"];f+=1;k=this.h(g,"","Multi-Viewer controls:",h,p,k,a,c);DocConfig.Va&&(k=this.h(g,"Page Up","previous universe",h,p,k,a,c),k=this.h(g,"Page Down","next universe",h,p,k,a,c),k=this.h(g,"Home","first universe",h,p,k,a,c),k=this.h(g,"End","last universe",h,p,k,a,c));k=this.h(g,"Shift R","reset all LifeViewers to generation 0",h,p,k,a,c);k=this.h(g,"Z","stop playback in all other LifeViewers",
h,p,k,a,c);k=this.h(g,"Shift Z","stop playback in all LifeViewers",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Camera"];f+=1;k=this.h(g,"","Camera controls:",h,p,k,a,c);if(g.H>=ViewConstants.vm||(g.rb&&g.SB)>=ViewConstants.vm)k=this.h(g,"M","toggle settings menu",h,p,k,a,c);k=this.h(g,"V","restore saved camera position",h,p,k,a,c);k=this.h(g,"Shift V","save current camera position",h,p,k,a,c);var n=g.X.uc.length;if(0<n&&(k=this.h(g,"J","jump to next point of interest",h,p,k,a,c),k=this.h(g,
"Shift J","jump to previous point of interest",h,p,k,a,c),9<n&&(n=9),!g.de&&!g.mg))for(d=1;d<=n;d+=1)k=this.h(g,"Alt "+String(d),"jump to POI #"+String(d),h,p,k,a,c);k=this.h(g,"F","fit pattern to display",h,p,k,a,c);k=this.h(g,"Shift F","toggle autofit",h,p,k,a,c);k=this.h(g,"Shift H","toggle autofit history mode",h,p,k,a,c);k=this.h(g,"Ctrl F","fit selection to display",h,p,k,a,c);k=this.h(g,"Ctrl M","center pattern on display",h,p,k,a,c);g.g.Ga&&(k=this.h(g,"Shift S","toggle autofit state 1 mode",
h,p,k,a,c));k=this.h(g,"[","zoom out",h,p,k,a,c);k=this.h(g,"]","zoom in",h,p,k,a,c);k=this.h(g,"Shift [","halve zoom",h,p,k,a,c);k=this.h(g,"Shift ]","double zoom",h,p,k,a,c);k=this.h(g,"1","1x zoom",h,p,k,a,c);k=this.h(g,"2","2x zoom",h,p,k,a,c);k=this.h(g,"4","4x zoom",h,p,k,a,c);k=this.h(g,"8","8x zoom",h,p,k,a,c);k=this.h(g,"6","16x zoom",h,p,k,a,c);k=this.h(g,"3","32x zoom",h,p,k,a,c);k=this.h(g,"Shift 3","64x zoom",h,p,k,a,c);k=this.h(g,"Shift 1","integer zoom",h,p,k,a,c);k=this.h(g,"Shift 2",
"-2x zoom",h,p,k,a,c);k=this.h(g,"Shift 4","-4x zoom",h,p,k,a,c);k=this.h(g,"Shift 8","-8x zoom",h,p,k,a,c);k=this.h(g,"Shift 6","-16x zoom",h,p,k,a,c);k=this.h(g,"Left","pan left",h,p,k,a,c);k=this.h(g,"Right","pan right",h,p,k,a,c);k=this.h(g,"Up","pan up",h,p,k,a,c);k=this.h(g,"Down","pan down",h,p,k,a,c);k=this.h(g,"Shift Left","pan north west",h,p,k,a,c);k=this.h(g,"Shift Right","pan south east",h,p,k,a,c);k=this.h(g,"Shift Up","pan north east",h,p,k,a,c);k=this.h(g,"Shift Down","pan south west",
h,p,k,a,c);k=this.h(g,"<","rotate left",h,p,k,a,c);k=this.h(g,">","rotate right",h,p,k,a,c);k=this.h(g,"Shift <","rotate left 90 degrees",h,p,k,a,c);k=this.h(g,"Shift >","rotate right 90 degrees",h,p,k,a,c);k=this.h(g,"5","reset angle",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.md||(g.ia[f]=[g.ca,"View"],f+=1,k=this.h(g,"","View controls:",h,p,k,a,c),k=this.h(g,"Q","increase number of layers",h,p,k,a,c),k=this.h(g,"A","decrease number of layers",h,p,k,a,c),k=this.h(g,"P","increase layer depth",h,p,
k,a,c),k=this.h(g,"L","decrease layer depth",h,p,k,a,c),k=this.h(g,"C","next colour theme",h,p,k,a,c),k=this.h(g,"Shift C","previous colour theme",h,p,k,a,c),k=this.h(g,"Alt C","default theme",h,p,k,a,c),k=this.h(g,"","",h,p,k,a,c));g.ia[f]=[g.ca,"Display"];f+=1;k=this.h(g,"","Display controls:",h,p,k,a,c);g.md||(k=this.h(g,"G","toggle generation statistics",h,p,k,a,c),k=this.h(g,"Shift G","toggle generation display mode",h,p,k,a,c),g.Pc||(k=this.h(g,"Y","toggle population graph",h,p,k,a,c),k=this.h(g,
"Shift Y","toggle graph lines",h,p,k,a,c),k=this.h(g,"7","decrease graph opacity",h,p,k,a,c),k=this.h(g,"9","increase graph opacity",h,p,k,a,c)),k=this.h(g,"Shift W","toggle performance warning",h,p,k,a,c));g.g.S?k=this.h(g,"/","toggle hexagons for hexagonal grid",h,p,k,a,c):g.g.R&&(k=this.h(g,"/","toggle triangles for triangular grid",h,p,k,a,c));k=this.h(g,"T","toggle timing information",h,p,k,a,c);k=this.h(g,"Shift T","toggle extended timing information",h,p,k,a,c);k=this.h(g,"I","toggle pattern and engine information",
h,p,k,a,c);k=this.h(g,"Shift I","toggle information bar",h,p,k,a,c);k=this.h(g,"Ctrl Q","toggle cell anti-aliasing",h,p,k,a,c);k=this.h(g,"Alt B","toggle cell borders",h,p,k,a,c);k=this.h(g,"X","toggle gridlines",h,p,k,a,c);0<g.g.Hf&&(k=this.h(g,"Shift X","toggle major gridlines",h,p,k,a,c));k=this.h(g,"Ctrl G","toggle auto gridlines",h,p,k,a,c);g.g.ma&&(k=this.h(g,"Alt D","toggle alternating gridlines",h,p,k,a,c));if(g.g.Ga||g.g.T||-1===g.g.i)k=this.h(g,"Alt G","convert pattern to [R]Super",h,p,
k,a,c),k=this.h(g,"Alt H","convert pattern to [R]History",h,p,k,a,c),k=this.h(g,"Alt J","convert pattern to [R]Standard",h,p,k,a,c);0<g.X.Ip()&&(k=this.h(g,"Alt L","toggle annotation display",h,p,k,a,c));k=this.h(g,"Ctrl L","toggle kill escaping gliders",h,p,k,a,c);g.vl&&(k=this.h(g,"N","toggle thumbnail view",h,p,k,a,c));k=this.h(g,"S","toggle stars",h,p,k,a,c);k=this.h(g,"O","open screenshot in separate window",h,p,k,a,c);k=this.h(g,"Shift O","open population graph in separate window",h,p,k,a,c);
k=this.h(g,"Shift U","toggle UI",h,p,k,a,c);k=this.h(g,"Alt U","toggle autohide UI during playback",h,p,k,a,c);-1===g.g.i&&(k=this.h(g,"Alt W","toggle rainbow mode",h,p,k,a,c));k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Pattern"];f+=1;k=this.h(g,"","Pattern controls:",h,p,k,a,c);k=this.h(g,"Alt N","new pattern",h,p,k,a,c);k=this.h(g,"Alt R","change rule",h,p,k,a,c);k=this.h(g,"Ctrl O","open original or last saved pattern",h,p,k,a,c);k=this.h(g,"Ctrl+Shift O","open clipboard as pattern",h,p,k,a,c);
k=this.h(g,"Ctrl S","save pattern",h,p,k,a,c);k=this.h(g,"Alt Z","randomize pattern and rule",h,p,k,a,c);k=this.h(g,"Ctrl+Alt Z","randomize pattern only",h,p,k,a,c);k=this.h(g,"F6","toggle oscillator and spaceship identification",h,p,k,a,c);k=this.h(g,"Ctrl F6","fast identification",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Clipboard"];f+=1;k=this.h(g,"","External clipboard controls:",h,p,k,a,c);k=this.h(g,"Alt S","toggle sync cut and copy with external clipboard",h,p,k,a,c);k=this.h(g,
"Ctrl+Shift C","copy original pattern",h,p,k,a,c);k=this.h(g,"Ctrl C","copy current selection",h,p,k,a,c);k=this.h(g,"Ctrl+Alt C","copy current selection with comments",h,p,k,a,c);k=this.h(g,"Ctrl+Shift X","cut original pattern",h,p,k,a,c);k=this.h(g,"Ctrl X","cut current selection",h,p,k,a,c);k=this.h(g,"Ctrl+Alt X","cut current selection with comments",h,p,k,a,c);k=this.h(g,"Ctrl J","copy rule definition",h,p,k,a,c);k=this.h(g,"K","copy camera position",h,p,k,a,c);k=this.h(g,"Shift K","copy camera position and view",
h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Edit"];f+=1;k=this.h(g,"","Edit controls:",h,p,k,a,c);k=this.h(g,"F1","toggle draw/pan mode",h,p,k,a,c);k=this.h(g,"F2","draw mode",h,p,k,a,c);k=this.h(g,"Shift F2","toggle smart drawing",h,p,k,a,c);k=this.h(g,"F3","pick mode",h,p,k,a,c);k=this.h(g,"F4","select mode",h,p,k,a,c);k=this.h(g,"F5","pan mode",h,p,k,a,c);k=this.h(g,"Ctrl A","select all",h,p,k,a,c);k=this.h(g,"Shift A","shrink selection",h,p,k,a,c);k=this.h(g,"Alt A","toggle auto-shrink selection",
h,p,k,a,c);k=this.h(g,"Ctrl C","copy",h,p,k,a,c);k=this.h(g,"Ctrl D","toggle states display",h,p,k,a,c);k=this.h(g,"Ctrl I","invert selection",h,p,k,a,c);k=this.h(g,"Ctrl K","remove selection",h,p,k,a,c);k=this.h(g,"Ctrl V","paste",h,p,k,a,c);k=this.h(g,"Ctrl+Shift V","paste to selection",h,p,k,a,c);k=this.h(g,"Ctrl X","cut",h,p,k,a,c);k=this.h(g,"Ctrl Y","redo edit",h,p,k,a,c);k=this.h(g,"Ctrl Z","undo edit",h,p,k,a,c);k=this.h(g,"Ctrl+Shift Z","redo edit",h,p,k,a,c);k=this.h(g,"Ctrl Space","advance selection",
h,p,k,a,c);k=this.h(g,"Shift Space","advance outside",h,p,k,a,c);k=this.h(g,"Shift L","cycle paste location",h,p,k,a,c);k=this.h(g,"Shift M","cycle paste mode",h,p,k,a,c);2<g.g.i?(k=this.h(g,"Shift 5","multi-state random fill",h,p,k,a,c),g.g.N||(k=this.h(g,"Ctrl+Shift 5","2-state random fill",h,p,k,a,c))):k=this.h(g,"Shift 5","random fill",h,p,k,a,c);k=this.h(g,"Alt K","pick cell state to replace with drawing state",h,p,k,a,c);k=this.h(g,"Ctrl+Alt K","clear current drawing state cells",h,p,k,a,c);
k=this.h(g,"Del","clear cells in selection",h,p,k,a,c);k=this.h(g,"Shift Del","clear outside selection",h,p,k,a,c);g.g.Ga&&(k=this.h(g,"Ctrl Del","clear [R]History cells",h,p,k,a,c),k=this.h(g,"Alt Del","clear [R]History marked cells",h,p,k,a,c));k=this.h(g,">","rotate selection clockwise",h,p,k,a,c);k=this.h(g,"<","rotate selection counter-clockwise",h,p,k,a,c);k=this.h(g,"Alt X","flip selection horizontally",h,p,k,a,c);k=this.h(g,"Alt Y","flip selection vertically",h,p,k,a,c);k=this.h(g,"Alt Left",
"nudge selection 1 cell left",h,p,k,a,c);k=this.h(g,"Alt Right","nudge selection 1 cell right",h,p,k,a,c);k=this.h(g,"Alt Up","nudge selection 1 cell up",h,p,k,a,c);k=this.h(g,"Alt Down","nudge selection 1 cell down",h,p,k,a,c);k=this.h(g,"Esc","hide paste",h,p,k,a,c);k=this.h(g,"Enter","perform paste",h,p,k,a,c);g.g.Ga?n=7:(n=-1===g.g.i?2:g.g.i,10<n&&(n=10));for(d=0;d<n;d+=1)k=this.h(g,"Ctrl "+d,"select state "+d+" for drawing",h,p,k,a,c);for(d=0;10>d;d+=1)k=this.h(g,"Alt "+d,"make clipboard "+d+
" active",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Help"];k=this.h(g,"","Help controls:",h,p,k,a,c);k=this.h(g,"Up","scroll up one line",h,p,k,a,c);k=this.h(g,"Down","scroll down one line",h,p,k,a,c);k=this.h(g,"Page Up","scroll up one page",h,p,k,a,c);k=this.h(g,"Page Down","scroll down one page",h,p,k,a,c);k=this.h(g,"Shift Page Up","scroll up one section",h,p,k,a,c);k=this.h(g,"Shift Page Down","scroll down one section",h,p,k,a,c);k=this.h(g,"Home","go to first help page",h,p,k,a,
c);this.h(g,"End","go to last help page",h,p,k,a,c)},mM:function(g,h,p,k,a,c){var d=0;g.ca=1;g.Mg=!1;g.ia=[];g.ea[0]=252;g.ia[d]=[g.ca,"Top"];d+=1;k=this.h(g,"","Scripts",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);k=this.h(g,"","Scripts must be embedded in pattern comments",h,p,k,a,c);k=this.h(g,"","Commands must be surrounded by whitespace",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Params"];d+=1;k=this.h(g,"","Parameter conventions:",h,p,k,a,c);k=this.h(g,"A|B","either A or B",h,p,k,a,c);
k=this.h(g,"(A)","A is optional",h,p,k,a,c);k=this.h(g,"A*","zero or more A",h,p,k,a,c);k=this.h(g,"A+","one or more A",h,p,k,a,c);k=this.h(g,"<1..3>","integer range",h,p,k,a,c);k=this.h(g,"<1.0..3.0>","decimal range",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"General"];d+=1;k=this.h(g,"","General:",h,p,k,a,c);k=this.h(g,Keywords.yo,"start script section",h,p,k,a,c);k=this.h(g,Keywords.kq,"end script section",h,p,k,a,c);k=this.h(g,Keywords.HB,"suppress overwrite warning",h,p,k,a,c);k=this.h(g,
"","",h,p,k,a,c);g.ia[d]=[g.ca,"Playback"];d+=1;k=this.h(g,"","Playback:",h,p,k,a,c);k=this.h(g,Keywords.$t+" ("+Keywords.Wb+")","start play automatically",h,p,k,a,c);k=this.h(g,Keywords.lj+" <1..>|"+Keywords.Wb,"loop at generation",h,p,k,a,c);k=this.h(g,Keywords.Kj+" <1..>|"+Keywords.Wb,"stop at generation",h,p,k,a,c);k=this.h(g,Keywords.Ln+" <"+ViewConstants.Wg+".."+ViewConstants.tm+">","set steps per second",h,p,k,a,c);k=this.h(g,Keywords.Fo+" <"+ViewConstants.Zn+".."+ViewConstants.Bg+">","set generations per step",
h,p,k,a,c);(g.g.ma||g.g.N)&&g.g.Jc&&(k=this.h(g,Keywords.eB,"set initial playback to Reverse",h,p,k,a,c));k=this.h(g,Keywords.Ty,"always use hard reset",h,p,k,a,c);k=this.h(g,Keywords.jt,"disable playback",h,p,k,a,c);k=this.h(g,Keywords.Tz,"disable step back",h,p,k,a,c);k=this.h(g,Keywords.Vz,"disable stop messages",h,p,k,a,c);k=this.h(g,Keywords.Uz,"disable performance warning",h,p,k,a,c);k=this.h(g,Keywords.Yz,"disable playback throttling",h,p,k,a,c);k=this.h(g,Keywords.Iy,"starting playback pauses others",
h,p,k,a,c);k=this.h(g,Keywords.gz,"ignore other pause requests",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Camera"];d+=1;k=this.h(g,"","Camera:",h,p,k,a,c);k=this.h(g,Keywords.Fl+" <0..359>","set camera angle",h,p,k,a,c);k=this.h(g,Keywords.wf+" <-"+(g.g.ka>>1)+".."+(g.g.ka>>1)+">","set camera x position",h,p,k,a,c);k=this.h(g,Keywords.yf+" <-"+(g.g.ka>>1)+".."+(g.g.ka>>1)+">","set camera y position",h,p,k,a,c);k=this.h(g,Keywords.Xd+" <"+Number(-1/ViewConstants.za).toFixed(1)+".."+ViewConstants.Ya.toFixed(1)+
">","set camera zoom",h,p,k,a,c);k=this.h(g,Keywords.Bx,"same as "+Keywords.Xd,h,p,k,a,c);k=this.h(g,Keywords.Yt+" ("+Keywords.Wb+")","fit pattern to display",h,p,k,a,c);k=this.h(g,Keywords.az+" ("+Keywords.Wb+")","autofit uses pattern history",h,p,k,a,c);k=this.h(g,Keywords.DB+" ("+Keywords.Wb+")","autofit only uses state 1",h,p,k,a,c);k=this.h(g,Keywords.at+" X Y","camera tracking",h,p,k,a,c);k=this.h(g," X ","horizontal speed cells/gen",h,p,k,a,c);k=this.h(g," Y ","vertical speed cells/gen",h,
p,k,a,c);k=this.h(g,Keywords.Qo+" E S W N","camera box tracking",h,p,k,a,c);k=this.h(g," E ","east edge speed cells/gen",h,p,k,a,c);k=this.h(g," S ","south edge speed cells/gen",h,p,k,a,c);k=this.h(g," W ","west edge speed cells/gen",h,p,k,a,c);k=this.h(g," N ","north edge speed cells/gen",h,p,k,a,c);k=this.h(g,Keywords.$s+" P X Y","camera tracking with loop",h,p,k,a,c);k=this.h(g," P ","period",h,p,k,a,c);k=this.h(g," X ","horizontal speed cells/gen",h,p,k,a,c);k=this.h(g," Y ","vertical speed cells/gen",
h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Waypoints"];d+=1;k=this.h(g,"","Waypoints:",h,p,k,a,c);k=this.h(g,Keywords.Os+" <0..>","waypoint at generation",h,p,k,a,c);k=this.h(g,Keywords.BA+" <0.0..>","pause for time",h,p,k,a,c);k=this.h(g,Keywords.Gh+" "+Keywords.rg+"|"+Keywords.wf+"|"+Keywords.yf+"|"+Keywords.Xd,"linear motion",h,p,k,a,c);k=this.h(g,Keywords.Wi+" "+Keywords.rg+"|"+Keywords.wf+"|"+Keywords.yf+"|"+Keywords.Xd,"bezier motion (default)",h,p,k,a,c);k=this.h(g,Keywords.FG,"save timing at waypoint start",
h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"POIs"];d+=1;k=this.h(g,"","Points of interest:",h,p,k,a,c);k=this.h(g,Keywords.Nv,"define point of interest",h,p,k,a,c);k=this.h(g,Keywords.Mv+" <0..>","start POI at generation",h,p,k,a,c);k=this.h(g,Keywords.ss,"reset generation at POI",h,p,k,a,c);k=this.h(g,Keywords.Yp,"start playback at POI",h,p,k,a,c);k=this.h(g,Keywords.Zp,"stop playback at POI",h,p,k,a,c);k=this.h(g,Keywords.ts+" <"+WaypointConstants.MF+".."+WaypointConstants.LF+">","set POI transition speed",
h,p,k,a,c);k=this.h(g,"<command>|ALL "+Keywords.nc,"use initial value for POI",h,p,k,a,c);k=this.h(g,Keywords.wd+"<string>"+Keywords.wd,"define message",h,p,k,a,c);k=this.h(g,Keywords.GA,"add Labels as POIs",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Annotations"];d+=1;k=this.h(g,"","Annotations:",h,p,k,a,c);k=this.h(g,Keywords.Mr+" X Y ZOOM","define label at position",h,p,k,a,c);k=this.h(g,"  (MAXZOOM)|(MINZOOM MAXZOOM) ("+Keywords.Ld+")","... zoom range and fixed position",h,p,k,a,c);
k=this.h(g," "+Keywords.wd+"<string>"+Keywords.wd,"... label text",h,p,k,a,c);k=this.h(g,Keywords.rz+" <"+ViewConstants.TE+".."+ViewConstants.LE+">","define label font size",h,p,k,a,c);k=this.h(g," ("+Keywords.Ld+")","... optionally fix size",h,p,k,a,c);k=this.h(g,Keywords.pz+" <0.0..1.0>","define label font alpha",h,p,k,a,c);k=this.h(g,Keywords.sz+" <0..> <0..> <0..>","generation range / fade",h,p,k,a,c);k=this.h(g,Keywords.qz+" <0..359>","label angle",h,p,k,a,c);k=this.h(g," ("+Keywords.Ld+")",
"... optionally fix angle",h,p,k,a,c);k=this.h(g,Keywords.uz+" X Y D|"+Keywords.Wb,"label target and distance",h,p,k,a,c);k=this.h(g,Keywords.vz+" DX DY|"+Keywords.Ld,"label move per generation",h,p,k,a,c);k=this.h(g,Keywords.Gq+" X1 Y1 X2 Y2 ZOOM","define arrow at position",h,p,k,a,c);k=this.h(g," (MAXZOOM)|(MINZOOM MAXZOOM) ("+Keywords.Ld+")","... zoom range and fix position",h,p,k,a,c);k=this.h(g,Keywords.Fx+" <"+ViewConstants.Bv+".."+ViewConstants.vv+"> <0.0..1.0>","line width and head multiple",
h,p,k,a,c);k=this.h(g,Keywords.Dx+" <0.0..1.0>","define arrow alpha",h,p,k,a,c);k=this.h(g,Keywords.Gx+" <0..> <0..> <0..>","generation range / fade",h,p,k,a,c);k=this.h(g,Keywords.Ex+" <0..359>","arrow angle",h,p,k,a,c);k=this.h(g," ("+Keywords.Ld+")","... optionally fix angle",h,p,k,a,c);k=this.h(g,Keywords.Hx+" X Y D|"+Keywords.Wb,"arrow target and distance",h,p,k,a,c);k=this.h(g,Keywords.Ix+" DX DY|"+Keywords.Ld,"arrow move per generation",h,p,k,a,c);k=this.h(g,Keywords.JA+" X1 Y1 X2 Y2 .. ZOOM",
"define outline polygon",h,p,k,a,c);k=this.h(g," (MAXZOOM) ("+Keywords.Ld+")","... zoom range and fix position",h,p,k,a,c);k=this.h(g,Keywords.Ov+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",h,p,k,a,c);k=this.h(g," (MAXZOOM) ("+Keywords.Ld+")","... zoom range and fix position",h,p,k,a,c);k=this.h(g,Keywords.KA+" <"+ViewConstants.Bv+".."+ViewConstants.vv+">","line width",h,p,k,a,c);k=this.h(g,Keywords.HA+" <0.0..1.0>","define polygon alpha",h,p,k,a,c);k=this.h(g,Keywords.LA+" <0..> <0..> <0..>",
"generation range / fade",h,p,k,a,c);k=this.h(g,Keywords.IA+" <0..359>","polygon angle",h,p,k,a,c);k=this.h(g," ("+Keywords.Ld+")","... optionally fix angle",h,p,k,a,c);k=this.h(g,Keywords.MA+" X Y D|"+Keywords.Wb,"polygon target and distance",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Display"];d+=1;k=this.h(g,"","Display:",h,p,k,a,c);k=this.h(g,Keywords.Bq+" <"+ViewConstants.Lc+".."+g.rk+">","set LifeViewer width",h,p,k,a,c);k=this.h(g,Keywords.qp+" <"+ViewConstants.qj+".."+ViewConstants.xv+
">","set LifeViewer height",h,p,k,a,c);k=this.h(g,Keywords.vs+" <"+ViewConstants.Lc+".."+g.rk+">","set popup width",h,p,k,a,c);k=this.h(g,Keywords.us+" <"+ViewConstants.qj+".."+ViewConstants.xv+">","set popup height",h,p,k,a,c);k=this.h(g,Keywords.vq+" "+Keywords.wd+"<string>"+Keywords.wd,"set popup window title",h,p,k,a,c);k=this.h(g," "+Keywords.og+"B","program build number",h,p,k,a,c);k=this.h(g," "+Keywords.og+"N","pattern name",h,p,k,a,c);k=this.h(g," "+Keywords.og+"O","pattern originator",h,
p,k,a,c);k=this.h(g," "+Keywords.og+"R","rule name",h,p,k,a,c);k=this.h(g," "+Keywords.og+"A","rule alias",h,p,k,a,c);k=this.h(g," "+Keywords.og+"T","program title",h,p,k,a,c);k=this.h(g," "+Keywords.og+"0..9","saved timing as average fps",h,p,k,a,c);k=this.h(g," "+Keywords.og+Keywords.og,Keywords.og+" symbol",h,p,k,a,c);k=this.h(g,Keywords.Vn+" <"+ViewConstants.Av+".."+ViewConstants.uv+">","set number of layers",h,p,k,a,c);k=this.h(g,Keywords.Cn+" <"+ViewConstants.zv.toFixed(1)+".."+ViewConstants.JE.toFixed(1)+
">","set layer depth",h,p,k,a,c);k=this.h(g,Keywords.nr+" ("+Keywords.Wb+")","display gridlines",h,p,k,a,c);k=this.h(g,Keywords.mr+" <0..16>","set major grid line interval",h,p,k,a,c);k=this.h(g,Keywords.Qt+" <0.."+(2<g.g.i?1:63)+">","number of age states to draw",h,p,k,a,c);k=this.h(g,Keywords.dv+" <0.."+(2<g.g.i?1:63)+">","number of history states to draw",h,p,k,a,c);k=this.h(g,Keywords.Ms+" ("+Keywords.Wb+")","display stars",h,p,k,a,c);g.g.S?(k=this.h(g,Keywords.Vy,"hexagonal cells for grid",h,
p,k,a,c),k=this.h(g,Keywords.yw,"offset square cells for grid",h,p,k,a,c)):g.g.R&&(k=this.h(g,Keywords.KG,"triangular cells for grid",h,p,k,a,c),k=this.h(g,Keywords.yw,"rectangualr cells for grid",h,p,k,a,c));k=this.h(g,Keywords.Nx,"display cell borders",h,p,k,a,c);k=this.h(g,Keywords.Sz,"disable menus and hotkeys",h,p,k,a,c);k=this.h(g,Keywords.$y,"hide menus during playback",h,p,k,a,c);k=this.h(g,Keywords.yB,"show timing information",h,p,k,a,c);k=this.h(g,Keywords.Jy,"extended timing information",
h,p,k,a,c);k=this.h(g,Keywords.wB,"show generation statistics",h,p,k,a,c);k=this.h(g,Keywords.xB,"show information bar",h,p,k,a,c);k=this.h(g,Keywords.XF,"use rainbow colours",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Thumb"];d+=1;k=this.h(g,"","Thumbnails:",h,p,k,a,c);k=this.h(g,Keywords.YB+" ("+Keywords.Wb+")","start at 1/"+g.Ee+" size",h,p,k,a,c);k=this.h(g,Keywords.TB+" <"+ViewConstants.XE+".."+ViewConstants.PE+">","set thumbnail divisor",h,p,k,a,c);k=this.h(g,Keywords.RB+" ("+Keywords.Wb+
")","thumbnail launches viewer",h,p,k,a,c);k=this.h(g,Keywords.XB+" <"+Number(-1/ViewConstants.za).toFixed(1)+".."+ViewConstants.Ya.toFixed(1)+">","set thumbnail zoom",h,p,k,a,c);k=this.h(g,Keywords.VB,"start playback on thumbnail expand",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Graph"];d+=1;k=this.h(g,"","Population Graph:",h,p,k,a,c);k=this.h(g,Keywords.Ru,"display population graph",h,p,k,a,c);k=this.h(g,Keywords.Qy+" <0.0..1.0>","population graph opacity",h,p,k,a,c);k=this.h(g,Keywords.Ry,
"population graph use points",h,p,k,a,c);k=this.h(g,Keywords.Fv,"disable population graph",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Colours"];d+=1;k=this.h(g,"","Colours:",h,p,k,a,c);k=this.h(g,Keywords.ul+" <0.."+(g.g.Re-1)+">|name","set theme",h,p,k,a,c);k=this.h(g," name = "+Keywords.uq,"set custom theme",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Ew+" R G B","set theme background",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Dw+" R G B","set theme alive color",h,p,k,a,c);k=
this.h(g,Keywords.Na+" "+Keywords.NB+" R G B","set theme alive ramp",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Gw+" R G B","set theme dead color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Fw+" R G B","set theme dead ramp",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.PB+" R G B","set theme dying color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.OB+" R G B","set theme dying ramp",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.iD+" R G B","set boundary color",h,p,k,a,c);k=this.h(g,Keywords.Na+
" <0.."+(-1===g.g.i?g.g.Ga?"6":"1":String(g.g.i-1))+"> R G B","set state color",h,p,k,a,c);g.g.Ga&&(k=this.h(g,Keywords.Na+" "+Keywords.gF+" R G B","set [R]History state color "+ViewConstants.sL,h,p,k,a,c),k=this.h(g,Keywords.Na+" "+Keywords.hF+" R G B","set [R]History state color "+ViewConstants.tL,h,p,k,a,c),k=this.h(g,Keywords.Na+" "+Keywords.kE+" R G B","set [R]History state color "+ViewConstants.yK,h,p,k,a,c),k=this.h(g,Keywords.Na+" "+Keywords.AE+" R G B","set [R]History state color "+ViewConstants.BE,
h,p,k,a,c),k=this.h(g,Keywords.Na+" "+Keywords.EE+" R G B","set [R]History state color "+ViewConstants.FE,h,p,k,a,c),k=this.h(g,Keywords.Na+" "+Keywords.CE+" R G B","set [R]History state color "+ViewConstants.DE,h,p,k,a,c),k=this.h(g,Keywords.Na+" "+Keywords.tE+" R G B","set [R]History state color "+ViewConstants.uE,h,p,k,a,c));g.g.N&&(k=this.h(g,Keywords.Na+" N*E*S*W* R G B","set PCA state color",h,p,k,a,c));k=this.h(g,Keywords.Na+" "+Keywords.kD+" R G B","set bounded color",h,p,k,a,c);k=this.h(g,
Keywords.Na+" "+Keywords.sG+" R G B","set select color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Sp+" R G B","set paste color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.YC+" R G B","set advance color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.nr+" R G B","set grid color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.mr+" R G B","set grid major color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Ms+" R G B","set star color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.LB+" R G B",
"set waypoint message color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Hy+" R G B","set error message color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.aE+" R G B","set graph background color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.$D+" R G B","set graph axis color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.ZD+" R G B","set graph alive color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.bE+" R G B","set graph birth color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.cE+" R G B",
"set graph death color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Mr+" R G B","set label text color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.Gq+" R G B","set arrow line color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.QF+" R G B","set polygon color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.NG+" R G B","set UI foreground color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.LG+" R G B","set UI background color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.OG+" R G B","set UI highlight text color",
h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.SG+" R G B","set UI selected color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.PG+" R G B","set UI locked color",h,p,k,a,c);k=this.h(g,Keywords.Na+" "+Keywords.MG+" R G B","set UI border color",h,p,k,a,c);k=this.h(g,Keywords.Yx,"same as "+Keywords.Na,h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Pattern"];d+=1;k=this.h(g,"","Pattern:",h,p,k,a,c);k=this.h(g,Keywords.Sw+" <-"+(g.g.ka>>1)+".."+(g.g.ka>>1)+">","set pattern x offset",h,p,k,a,c);
k=this.h(g,Keywords.Tw+" <-"+(g.g.ka>>1)+".."+(g.g.ka>>1)+">","set pattern y offset",h,p,k,a,c);k=this.h(g,Keywords.wy+" <"+ViewConstants.RE+".."+ViewConstants.IE+">","set boundary delete range",h,p,k,a,c);k=this.h(g,Keywords.Rz,"disable pattern source copy",h,p,k,a,c);k=this.h(g,Keywords.Xz,"hide pattern source",h,p,k,a,c);k=this.h(g,Keywords.Gz+" <"+ViewConstants.SE+".."+ViewConstants.KE+">","set maximum grid size 2^n",h,p,k,a,c);k=this.h(g,Keywords.eq+" name X Y (<1..>)+","create a named recipe",
h,p,k,a,c);k=this.h(g,Keywords.vo+" name rle","create a named rle",h,p,k,a,c);k=this.h(g," (X Y) (TRANS)","... X Y and transformation",h,p,k,a,c);k=this.h(g," "+Keywords.nC,"identity",h,p,k,a,c);k=this.h(g," "+Keywords.kC,"flip",h,p,k,a,c);k=this.h(g," "+Keywords.lC,"flip X",h,p,k,a,c);k=this.h(g," "+Keywords.mC,"flip Y",h,p,k,a,c);k=this.h(g," "+Keywords.qC,"swap X and Y",h,p,k,a,c);k=this.h(g," "+Keywords.rC,"swap X and Y and flip",h,p,k,a,c);k=this.h(g," "+Keywords.pC,"rotate clockwise",h,p,k,
a,c);k=this.h(g," "+Keywords.oC,"rotate counter-clockwise",h,p,k,a,c);k=this.h(g,Keywords.Sp+" name|rle (X Y)","paste rle at optional X Y",h,p,k,a,c);k=this.h(g," (TRANS)","... optional transformation",h,p,k,a,c);k=this.h(g,Keywords.hs+" <0..>","set paste generation",h,p,k,a,c);k=this.h(g,"(recipe|<1..>+)*","... optional delta list",h,p,k,a,c);k=this.h(g,Keywords.hs+" "+Keywords.gr+" <1..>","set paste interval",h,p,k,a,c);k=this.h(g," (<0..> (<1..>))","... optional start and end",h,p,k,a,c);k=this.h(g,
Keywords.cA+" X Y","set position delta for "+Keywords.hs+" "+Keywords.gr,h,p,k,a,c);k=this.h(g,Keywords.sA+" <0..15>|mode","set paste mode",h,p,k,a,c);k=this.h(g," 0   0000  "+Keywords.yA,"",h,p,k,a,c);k=this.h(g," 1   0001  "+Keywords.kA,"",h,p,k,a,c);k=this.h(g," 2   0010  "+Keywords.fA,"",h,p,k,a,c);k=this.h(g," 3   0011  "+Keywords.uA+"|"+Keywords.lA,"",h,p,k,a,c);k=this.h(g," 4   0100  "+Keywords.gA,"",h,p,k,a,c);k=this.h(g," 5   0101  "+Keywords.xA,"",h,p,k,a,c);k=this.h(g," 6   0110  "+Keywords.wA,
"",h,p,k,a,c);k=this.h(g," 7   0111  "+Keywords.rA,"",h,p,k,a,c);k=this.h(g," 8   1000  "+Keywords.nA,"",h,p,k,a,c);k=this.h(g," 9   1001  "+Keywords.tA,"",h,p,k,a,c);k=this.h(g," 10  1010  "+Keywords.pA,"",h,p,k,a,c);k=this.h(g," 11  1011  "+Keywords.hA,"",h,p,k,a,c);k=this.h(g," 12  1100  "+Keywords.oA,"",h,p,k,a,c);k=this.h(g," 13  1101  "+Keywords.iA,"",h,p,k,a,c);k=this.h(g," 14  1110  "+Keywords.mA,"",h,p,k,a,c);k=this.h(g," 15  1111  "+Keywords.qA,"",h,p,k,a,c);k=this.h(g,Keywords.oz,"suppress escaping gliders",
h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[d]=[g.ca,"Randomize"];k=this.h(g,"","Randomize:",h,p,k,a,c);k=this.h(g,Keywords.YA,"create random pattern",h,p,k,a,c);k=this.h(g,Keywords.VA+" <string>","set random seed",h,p,k,a,c);k=this.h(g,Keywords.XA+" <"+ViewConstants.WE+".."+ViewConstants.OE+">","set random pattern width",h,p,k,a,c);k=this.h(g,Keywords.SA+" <"+ViewConstants.VE+".."+ViewConstants.NE+">","set random pattern height",h,p,k,a,c);k=this.h(g,Keywords.RA+" <"+ViewConstants.Cv+".."+ViewConstants.wv+
">","set random pattern fill percentage",h,p,k,a,c);k=this.h(g,Keywords.Vv+" "+Keywords.Ld,"keep rule fixed",h,p,k,a,c);g.g.ma||g.g.N?(k=this.h(g,Keywords.TA,"only generate reversible rules",h,p,k,a,c),this.h(g,Keywords.WA,"only generate fixed population rules",h,p,k,a,c)):g.g.sa||-1!==g.g.Vd||(k=this.h(g,Keywords.Vv+" <item> <0..100>","set percentage chance for <item>",h,p,k,a,c),k=this.h(g," "+Keywords.rg,"all conditions",h,p,k,a,c),k=this.h(g," "+Keywords.Uv,"all birth conditions",h,p,k,a,c),k=
this.h(g," "+Keywords.bw,"all survival conditions",h,p,k,a,c),k=this.h(g," "+Keywords.Uv+"<0..n>","specified birth condition",h,p,k,a,c),this.h(g," "+Keywords.bw+"<0..n>","specified survival condition",h,p,k,a,c))},jM:function(g,h,p,k,a,c){var d,f,n=Controller.Fd.length,m=g.Je,q=g.g.nb[g.g.Bf],u=0,y=g.u.Ge;g.ca=1;g.Mg=!1;g.ia=[];g.ea[0]=128;g.ia[u]=[g.ca,"Top"];u+=1;k=this.h(g,"","Information",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Display"];u+=1;k=this.h(g,"","Display:",h,p,k,a,c);
k=this.h(g,"Size",g.J+" x "+g.H,h,p,k,a,c);k=this.h(g,"Scale",g.u.Ge.toFixed(2),h,p,k,a,c);k=this.h(g,"Pixel Ratio",g.devicePixelRatio.toFixed(2),h,p,k,a,c);k=this.h(g,"Window Zoom",g.vf.toFixed(2),h,p,k,a,c);DocConfig.Sr&&(k=this.h(g,"Limit Width",g.rk,h,p,k,a,c));var v=g.g.na;1>v&&(v=-1/v);k=this.h(g,"View","X "+-(g.g.width/2-(g.g.Da+g.g.$b)|0)+"  Y "+-(g.g.height/2-(g.g.wa+g.g.Xb)|0)+"  Z "+v.toFixed(2)+"  ANGLE "+g.g.angle.toFixed(0),h,p,k,a,c);v=g.jq;1>v&&(v=1/v);k=this.h(g,"Saved View","X "+
-(g.g.width/2-g.Te|0)+"  Y "+-(g.g.height/2-g.Ej|0)+"  Z "+v.toFixed(2)+"  ANGLE "+g.mB.toFixed(0),h,p,k,a,c);k=this.h(g,"Origin","X "+g.g.$b.toFixed(2)+"  Y "+g.g.Xb.toFixed(2)+"  Z "+g.g.xc.toFixed(3),h,p,k,a,c);var r=g.Ta?g.md?"Multi-State Viewer":"Viewer":g.g.Ga?"History Player":"Player";r=g.zd?r+" (PopUp)":r+" (InLine)";k=this.h(g,"Type",r,h,p,k,a,c);r=g.g.S?"Hexagonal":g.g.R?"Triangular":"Square";k=this.h(g,"Mode",r,h,p,k,a,c);r=g.g.S&&g.g.vc?"Hexagonal":g.g.R?g.g.vc?"Triangular":"Rectangular":
"Square";k=this.h(g,"Cells",r,h,p,k,a,c);k=this.h(g,"Quality",g.g.bh?"High":"Standard",h,p,k,a,c);g.vl&&(k=this.h(g,"Thumbnail","1/"+g.Ee,h,p,k,a,c));k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Pattern"];u+=1;k=this.h(g,"","Pattern:",h,p,k,a,c);""!==g.Tp&&(k=this.h(g,"Name",g.Tp,h,p,k,a,c));""!==g.ks&&(k=this.h(g,"Originator",g.ks,h,p,k,a,c));k=this.h(g,"Actual Size",g.hb+" x "+g.lb,h,p,k,a,c);-1!==g.Fk&&-1!==g.Ek&&(k=this.h(g,"Specified",g.Fk+" x "+g.Ek,h,p,k,a,c));0<g.Eg.length&&(k=this.h(g,"Pastes",
g.Eg.length,h,p,k,a,c),k=this.h(g,"Paste Size",g.Em-g.Bm+1+" x "+(g.Fm-g.Am+1)+" from ("+g.Bm+", "+g.Am+") to ("+g.Em+", "+g.Fm+")",h,p,k,a,c),k=this.h(g,"Paste Max T",g.fl+(g.mk?" + "+Keywords.gr:""),h,p,k,a,c));0<g.Aj.length&&(k=this.h(g,"RLEs",g.Aj.length,h,p,k,a,c));0<g.xk.length&&(k=this.h(g,"Recipes",g.xk.length,h,p,k,a,c));k=this.h(g,"Offset","X "+g.Mb+"  Y "+g.Nb,h,p,k,a,c);g.Yk&&(k=this.h(g,"CXRLE Gen",g.ni,h,p,k,a,c));g.ah&&(k=this.h(g,"CXRLE Pos","X "+g.Jm+"  Y "+g.Km,h,p,k,a,c));g.MC&&
(k=this.h(g,"Clipped",(0===g.g.Ba?"Inf":g.g.Ba)+" x "+(0===g.g.xa?"Inf":g.g.xa)+" "+g.D.jD(g.g.ya),h,p,k,a,c));g.Aa?r=g.zb:(r=g.zb,""===r&&(r="(none)"));if("MAP"===r.substr(0,3)&&r.length===g.D.zE+3)for(k=this.h(g,"Rule","MAP",h,p,k,a,c),v=3;v<g.D.zE+3;)k=this.h(g,"  "+(v-3),r.substr(v,16),h,p,k,a,c),v+=16;else g.Mg=!0,k=this.h(g,"Rule",r,h,p,k,a,c),g.Mg=!1;""!==g.pd&&(k=this.h(g,"Alias",g.pd,h,p,k,a,c));g.g.fa&&(k=null===g.g.Sd?this.h(g,"Type","@TREE",h,p,k,a,c):this.h(g,"Type","@TABLE ["+g.g.Hg+
(0<g.g.nl?" / "+g.g.nl:"")+"]",h,p,k,a,c));if(g.g.ma)r="Margolus";else if(-1!==g.g.Vd)r="1D";else if(g.g.Jv){r="Hexagonal";if(g.g.yg===g.D.tr||g.g.sa&&g.g.Ia.type===g.D.Rh)r="Tripod";g.g.sa&&g.g.Ia.type===g.D.uh&&(r="Asterisk");1<g.g.Ia.Ng&&(r+=" range "+g.g.Ia.Ng)}else if(g.g.sa){switch(g.g.Ia.type){case g.D.Pd:r="Moore";break;case g.D.uf:r="von Neumann";break;case g.D.hk:r="Circular";break;case g.D.$i:r="Cross";break;case g.D.Dj:r="Saltire";break;case g.D.Ij:r="Star";break;case g.D.nk:r="L2";break;
case g.D.ri:r="Hexagonal";break;case g.D.Xi:r="Checkerboard";break;case g.D.kj:r="Hash";break;case g.D.Ul:r="Custom";break;case g.D.Rh:r="Tripod";break;case g.D.uh:r="Asterisk";break;case g.D.Qh:r="Triangular";break;case g.D.li:r="Gaussian";break;case g.D.Xo:r="Weighted"}1<g.g.Ia.Ng&&(r+=" range "+g.g.Ia.Ng)}else if(g.g.R)switch(r="Triangular",g.g.Ud){case g.D.So:r+=" Edges";break;case g.D.To:r+=" Vertices";break;case g.D.yq:r+=" Inner";break;case g.D.zq:r+=" Outer"}else if(g.g.fa)if(null===g.g.Sd)r=
4===g.g.lg?"von Neumann":"Moore";else switch(g.g.Cj){case PatternConstants.iq:r="von Neumann";break;case PatternConstants.gq:r="Moore";break;case PatternConstants.ol:r="Hexagonal";break;case PatternConstants.hq:r="1D";break;default:r="unknown"}else r=g.g.te||g.g.N?"von Neumann":"Moore";k=this.h(g,"N'hood",r,h,p,k,a,c);if(g.g.sa)switch(g.g.Ia.type){case g.D.Xo:v=2*g.g.Ia.Ng+1;for(d=0;d<v;d+=1)r=g.g.Ia.se.length>v*v?" "+g.g.Ia.se.substr(d*v*2,2*v):" "+g.g.Ia.se.substr(d*v,v),k=this.h(g,r,"",h,p,k,a,
c);break;case g.D.Ul:for(v=2*g.g.Ia.Ng+1,d=0;d<v;d+=1){r=" ";for(f=0;f<v;f+=1)r+=g.g.Ia.ao[d][f]?"1":"0";k=this.h(g,r,"",h,p,k,a,c)}}r=g.Hm;2<g.Hm&&g.ls!==g.Hm&&(r=g.ls+" of "+r);k=this.h(g,"States",r,h,p,k,a,c);if(g.no)for(d=1;d<g.Hm;d+=1)g.no[d]&&(k=this.h(g,"State "+d,g.no[d],h,p,k,a,c));if(g.g.Rd)if(g.ea[1]=200,g.ea[2]=280,g.ea[3]=360,g.ea[4]=440,g.g.Rd[0].Px!==PatternConstants.hB)k=this.h(g,"Icons",PatternConstants.HM[g.g.Rd[0].Px],h,p,k,a,c);else for(k=this.h(g,"Icons","Size\tNumber\tColours\tGrayScale",
h,p,k,a,c),d=0;d<g.g.Rd.length;d+=1)v=g.g.Rd[d].width,r=v+"x"+v+"\t"+g.g.Rd[d].height/v+"\t"+g.g.Rd[d].dF+"\t"+(g.g.Rd[d].dE?"Yes":"No"),k=this.h(g,"  Set "+d,r,h,p,k,a,c);k=this.h(g,"Decoder",g.sj,h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Identify"];u+=1;k=this.h(g,"","Identify:",h,p,k,a,c);k=this.h(g,"Enabled",g.dc?"Yes":"No",h,p,k,a,c);"none"!==g.Cb&&"Empty"!==g.Cb&&(k=this.h(g,"Type",g.Cb,h,p,k,a,c),k=this.h(g,"Cells",g.Ap,h,p,k,a,c),"Oscillator"!==g.Cb||g.bg||(k=this.h(g,"ActiveCells",
g.nv,h,p,k,a,c)),k=this.h(g,"BoundingBox",g.Nr,h,p,k,a,c),"Oscillator"===g.Cb?(k=this.h(g,"Period",g.Dp,h,p,k,a,c),g.bg||(k=this.h(g,"Mod",g.Cp,h,p,k,a,c))):"Still Life"!==g.Cb&&(k=this.h(g,"Direction",g.Or,h,p,k,a,c),k=this.h(g,"Period",g.Dp,h,p,k,a,c),g.bg||(k=this.h(g,"Mod",g.Cp,h,p,k,a,c)),k=this.h(g,"Slope",g.Pr,h,p,k,a,c),k=this.h(g,"Speed",g.Ep,h,p,k,a,c)),"Still Life"!==g.Cb&&(k=this.h(g,"Heat",g.Bp,h,p,k,a,c)),"Oscillator"!==g.Cb||g.bg||(k=this.h(g,"Temperature",g.pv,h,p,k,a,c),k=this.h(g,
"Volatility",g.Qr,h,p,k,a,c)),k=this.h(g,"Generation",g.ov,h,p,k,a,c));k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Grid"];u+=1;k=this.h(g,"","Grid:",h,p,k,a,c);k=this.h(g,"Size",g.g.width+" x "+g.g.height,h,p,k,a,c);k=this.h(g,"Maximum",g.g.ka+" x "+g.g.ka,h,p,k,a,c);k=this.h(g,"Area",this.hI(g),h,p,k,a,c);k=0!==(g.g.counter&1)?this.h(g,"Tiles",g.g.Jo(g.g.oa)+" / "+g.g.Jo(g.g.Ka)+" / "+g.g.Jo(g.g.Ca),h,p,k,a,c):this.h(g,"Tiles",g.g.Jo(g.g.ha)+" / "+g.g.Jo(g.g.Ka)+" / "+g.g.Jo(g.g.Ca),h,p,k,a,c);g.g.Of&&
(k=this.h(g,"State6",g.g.Jo(g.g.Of),h,p,k,a,c));k=this.h(g,"Tile Size",(g.g.Us<<3)+" x "+g.g.Vs,h,p,k,a,c);k=this.h(g,"Generation",g.g.counter,h,p,k,a,c);0!==g.ni&&(k=this.h(g,"AbsoluteGen",g.g.counter+g.ni,h,p,k,a,c));g.g.ma&&(k=this.h(g,"MargolusGen",g.g.Wf+g.ni,h,p,k,a,c));g.g.N&&(k=this.h(g,"PCAGen",g.g.Wf+g.ni,h,p,k,a,c));(g.g.ma||g.g.N)&&g.g.Jc&&(v=g.g.bd,g.g.cd&&(v=!v),k=this.h(g,"Direction",v?"Reverse":"Forward",h,p,k,a,c));k=this.h(g,"DeleteRange",g.g.Cs,h,p,k,a,c);g.g.Yi&&(k=this.h(g,"KillGliders",
g.g.$r,h,p,k,a,c));k=this.h(g,"","",h,p,k,a,c);-1!==g.g.ya&&(g.ia[u]=[g.ca,"Bounded"],u+=1,k=this.h(g,"","Bounded grid:",h,p,k,a,c),k=this.h(g,"Type",g.D.jD(g.g.ya),h,p,k,a,c),k=0===g.g.Ba?this.h(g,"Width","Infinite",h,p,k,a,c):this.h(g,"Width",g.g.Ba,h,p,k,a,c),4!==g.g.ya&&(k=0===g.g.xa?this.h(g,"Height","Infinite",h,p,k,a,c):this.h(g,"Height",g.g.xa,h,p,k,a,c),2===g.g.ya&&(k=g.g.bu?this.h(g,"Twist","Horizontal",h,p,k,a,c):this.h(g,"Twist","Vertical",h,p,k,a,c)),0!==g.g.rn&&(k=this.h(g,"H'Shift",
g.g.rn,h,p,k,a,c)),0!==g.g.sn&&(k=this.h(g,"V'Shift",g.g.sn,h,p,k,a,c))),k=this.h(g,"","",h,p,k,a,c));g.ia[u]=[g.ca,"AutoFit"];u+=1;k=this.h(g,"","AutoFit:",h,p,k,a,c);k=this.h(g,"Enabled",g.zc?"On":"Off",h,p,k,a,c);k=this.h(g,"Mode",this.oI(g),h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Track"];u+=1;k=this.h(g,"","Track:",h,p,k,a,c);k=this.h(g,"Enabled",g.ie&&!g.tf?"On":"Off",h,p,k,a,c);g.ie&&(g.No?(k=this.h(g,"Mode","Track Box",h,p,k,a,c),k=this.h(g,"Definition","E "+g.en.toFixed(3)+"  S "+
g.fn.toFixed(3)+"  W "+g.Po.toFixed(3)+"  N "+g.Oo.toFixed(3),h,p,k,a,c)):(k=this.h(g,"Mode","Track",h,p,k,a,c),k=this.h(g,"Definition","X "+g.en.toFixed(3)+"  Y "+g.fn.toFixed(3),h,p,k,a,c)));k=this.h(g,"Current","E "+g.ku.toFixed(3)+"  S "+g.mu.toFixed(3)+"  W "+g.nu.toFixed(3)+"  N "+g.lu.toFixed(3),h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Undo/Redo"];u+=1;k=this.h(g,"","Undo/Redo:",h,p,k,a,c);k=this.h(g,"Enabled",g.xe?"Off":"On",h,p,k,a,c);if(!g.xe)for(k=this.h(g,"Snapshots",g.g.Kg.QN()+
"/"+g.g.Kg.fi.length,h,p,k,a,c),k=this.h(g,"Buffer",(g.g.Kg.bufferSize()>>10)+"K",h,p,k,a,c),k=this.h(g,"Next Gen",g.g.bo,h,p,k,a,c),k=this.h(g,"Undo",g.wc,h,p,k,a,c),k=this.h(g,"Redo",g.eo-g.wc,h,p,k,a,c),d=0;9>=d;d+=1)null!==g.Lf[d]&&(k=this.h(g,"Clip "+d+(d===g.tg?"*":""),g.Lf[d].width+" x "+g.Lf[d].height,h,p,k,a,c));k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Engine"];u+=1;k=this.h(g,"","Engine:",h,p,k,a,c);k=this.h(g,"Name",ViewConstants.XG,h,p,k,a,c);k=this.h(g,"Build",ViewConstants.Ow,h,p,
k,a,c);k=this.h(g,"Author",ViewConstants.WG,h,p,k,a,c);k=this.h(g,"Decoders","RLE, Life 1.06, Life 1.05, Cells",h,p,k,a,c);k=this.h(g,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",h,p,k,a,c);k=this.h(g," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",h,p,k,a,c);k=this.h(g," ","Hash, Tripod, Asterisk, Custom (CoordCA)",h,p,k,a,c);k=this.h(g,"Rules","Wolfram, Totalistic, Generations, Margolus,",h,p,k,a,c);k=this.h(g," ","Isotropic Non-Totalistic (Hensel, Callahan),",h,p,k,a,c);k=
this.h(g," ","Alternating, MAP, Larger than Life (LtL),",h,p,k,a,c);k=this.h(g," ","Higher-range outer-totalistic (HROT), Gaussian,",h,p,k,a,c);k=this.h(g," ","Partitioned cellular automata (PCA), Weighted,",h,p,k,a,c);k=this.h(g," ","[R]History, [R]Super",h,p,k,a,c);k=this.h(g,"Repository","RuleTable (@TABLE, @TREE and @COLORS)",h,p,k,a,c);k=this.h(g,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",h,p,k,a,c);k=this.h(g,"Viewers",n,h,p,k,a,c);k=this.h(g,"Playing",Controller.YN(),h,p,k,
a,c);if(DocConfig.Va){v=Controller.ye.length;k=this.h(g,"Universe","Multi ("+(g.fd+1)+" of "+v+")",h,p,k,a,c);g.Mg=!0;for(d=0;d<v;d+=1)k=this.h(g,String(d+1)+(d===g.fd?"*":""),Controller.ye[d].name,h,p,k,a,c),k=this.h(g," ",Controller.ye[d].BM,h,p,k,a,c),k=this.h(g," ",Controller.ye[d].width+" x "+Controller.ye[d].height,h,p,k,a,c);g.Mg=!1}else k=this.h(g,"Universe","Single",h,p,k,a,c);k=this.h(g,"Exclusive",g.Ou?"Yes":"No",h,p,k,a,c);k=this.h(g,"IgnorePause",g.Cr?"Yes":"No",h,p,k,a,c);k=this.h(g,
"Endian",littleEndian?"Little":"Big",h,p,k,a,c);k=this.h(g,"ArrayFill",arrayFill?"Yes":"No",h,p,k,a,c);k=this.h(g,"ArraySlice",arraySlice?"Yes":"No",h,p,k,a,c);k=this.h(g,"CopyWithin",copyWithin?"Yes":"No",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ea[1]=300;g.ea[2]=380;g.ea[3]=460;g.ia[u]=[g.ca,"Rule Cache"];u+=1;k=this.h(g,"","Rule Cache:",h,p,k,a,c);k=this.h(g,"Entries",RuleTreeCache.rules.length,h,p,k,a,c);if(0<RuleTreeCache.rules.length)for(k=this.h(g,"Entry","Name\tSize Kb\tFetch\tDecode",h,p,
k,a,c),d=0;d<RuleTreeCache.rules.length;d+=1)r=RuleTreeCache.rules[d].name,17<r.length&&(r=r.substr(0,17)+"*"),k=this.h(g,String(d),r+"\t"+(RuleTreeCache.yv[d].size>>10)+"\t"+RuleTreeCache.yv[d].fetch+"ms\t"+RuleTreeCache.yv[d].decode+"ms",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ea[1]=210;g.ea[2]=270;g.ea[3]=330;if(g.md)for(g.ia[u]=[g.ca,"Colours"],u+=1,k=this.h(g,"","Set:",h,p,k,a,c),k=this.h(g,"Name",g.cp,h,p,k,a,c),k=this.h(g,"Used",g.ls,h,p,k,a,c),d=0;d<g.zn.length;d+=1)g.zn[d]!==ViewConstants.EB&&
(n=this.oc(m[d]>>16&255,m[d]>>8&255,m[d]&255),r=String(d),g.zn[d]!==ViewConstants.yG||g.Rt||(r+="*"),this.$a(g,m[d]>>16,m[d]>>8&255,m[d]&255,h,p+g.ea[0]*y,k,a,c),k=this.h(g,r,n,h,p,k,a,c));else{g.ia[u]=[g.ca,"Theme"];u+=1;k=this.h(g,"","Theme:",h,p,k,a,c);g.g.fa||g.g.T||(k=this.h(g,"Name",g.g.nb[g.g.Bf].name,h,p,k,a,c),k=this.h(g,"History",g.O,h,p,k,a,c),k=this.h(g,"Age",g.Ti,h,p,k,a,c));this.$a(g,g.g.Sa[0],g.g.Ra[0],g.g.Qa[0],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Background",this.oc(g.g.Sa[0],g.g.Ra[0],
g.g.Qa[0]),h,p,k,a,c);if(g.g.Pa||g.g.fa)for(d=1;d<g.g.i;d+=1)this.$a(g,g.g.Sa[d],g.g.Ra[d],g.g.Qa[d],h,p+g.ea[0]*y,k,a,c),k=this.h(g,"State "+d,this.oc(g.g.Sa[d],g.g.Ra[d],g.g.Qa[d]),h,p,k,a,c);else if(g.g.N){for(d=1;16>d;d+=1)f=d+g.O,this.$a(g,g.g.Sa[f],g.g.Ra[f],g.g.Qa[f],h,p+g.ea[0]*y,k,a,c),r="",d&1&&(r+="N"),d&2&&(r+="E"),d&4&&(r+="S"),d&8&&(r+="W"),k=this.h(g,r,this.oc(g.g.Sa[f],g.g.Ra[f],g.g.Qa[f]),h,p,k,a,c);0<g.O&&(f=g.O,this.$a(g,g.g.Sa[f],g.g.Ra[f],g.g.Qa[f],h,p+g.ea[0]*y,k,a,c),k=this.h(g,
"Dead",this.oc(g.g.Sa[f],g.g.Ra[f],g.g.Qa[f]),h,p,k,a,c),1<g.O&&(f=1,this.$a(g,g.g.Sa[f],g.g.Ra[f],g.g.Qa[f],h,p+g.ea[0]*y,k,a,c),k=this.h(g,"DeadRamp",this.oc(g.g.Sa[f],g.g.Ra[f],g.g.Qa[f]),h,p,k,a,c)))}else if(2<g.g.i)if(g.g.T)for(d=1;d<g.g.i;d+=1)this.$a(g,g.g.Sa[d],g.g.Ra[d],g.g.Qa[d],h,p+g.ea[0]*y,k,a,c),k=this.h(g,this.qN(d),this.oc(g.g.Sa[d],g.g.Ra[d],g.g.Qa[d]),h,p,k,a,c);else{f=g.g.i+g.O-1;this.$a(g,g.g.Sa[f],g.g.Ra[f],g.g.Qa[f],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Alive",this.oc(g.g.Sa[f],g.g.Ra[f],
g.g.Qa[f]),h,p,k,a,c);for(d=1;d<g.g.i-1;d+=1)f=g.g.i-d+g.O-1,this.$a(g,g.g.Sa[f],g.g.Ra[f],g.g.Qa[f],h,p+g.ea[0]*y,k,a,c),k=this.h(g,"Dying "+d,this.oc(g.g.Sa[f],g.g.Ra[f],g.g.Qa[f]),h,p,k,a,c);0<g.O&&(f=g.O,this.$a(g,g.g.Sa[f],g.g.Ra[f],g.g.Qa[f],h,p+g.ea[0]*y,k,a,c),k=this.h(g,"Dead",this.oc(g.g.Sa[f],g.g.Ra[f],g.g.Qa[f]),h,p,k,a,c),1<g.O&&(f=1,this.$a(g,g.g.Sa[f],g.g.Ra[f],g.g.Qa[f],h,p+g.ea[0]*y,k,a,c),k=this.h(g,"DeadRamp",this.oc(g.g.Sa[f],g.g.Ra[f],g.g.Qa[f]),h,p,k,a,c)))}else this.$a(g,q.vb.Z.red,
q.vb.Z.green,q.vb.Z.blue,h,p+g.ea[0]*y,k,a,c),k=this.h(g,"Alive",this.jg(q.vb.Z),h,p,k,a,c),q.vb.Z.red!==q.vb.aa.red||q.vb.Z.green!==q.vb.aa.green||q.vb.Z.blue!==q.vb.aa.blue?(this.$a(g,q.vb.aa.red,q.vb.aa.green,q.vb.aa.blue,h,p+g.ea[0]*y,k,a,c),k=this.h(g,"AliveRamp",this.jg(q.vb.aa),h,p,k,a,c)):k=this.h(g,"AliveRamp","    (none)",h,p,k,a,c),0<g.O&&(this.$a(g,q.kb.aa.red,q.kb.aa.green,q.kb.aa.blue,h,p+g.ea[0]*y,k,a,c),k=this.h(g,"Dead",this.jg(q.kb.aa),h,p,k,a,c),1<g.O&&(q.kb.Z.red!==q.kb.aa.red||
q.kb.Z.green!==q.kb.aa.green||q.kb.Z.blue!==q.kb.aa.blue?(this.$a(g,q.kb.Z.red,q.kb.Z.green,q.kb.Z.blue,h,p+g.ea[0]*y,k,a,c),k=this.h(g,"DeadRamp",this.jg(q.kb.Z),h,p,k,a,c)):k=this.h(g,"DeadRamp","    (none)",h,p,k,a,c)));if(g.g.Ga)for(d=3;6>=d;d+=1)v=128+ViewConstants.Xa[d],n=this.oc(g.g.Sa[v],g.g.Ra[v],g.g.Qa[v]),r=ViewConstants.xG[d],this.$a(g,g.g.Sa[v],g.g.Ra[v],g.g.Qa[v],h,p+g.ea[0]*y,k,a,c),k=this.h(g,r,n,h,p,k,a,c)}-1!==g.g.mc&&(this.$a(g,g.Tl[0],g.Tl[1],g.Tl[2],h,p+g.ea[0]*y,k,a,c),k=this.h(g,
"Bounded",this.oc(g.Tl[0],g.Tl[1],g.Tl[2]),h,p,k,a,c));this.$a(g,g.Sl[0],g.Sl[1],g.Sl[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Boundary",this.oc(g.Sl[0],g.Sl[1],g.Sl[2]),h,p,k,a,c);g.yh&&(this.$a(g,g.yh[0],g.yh[1],g.yh[2],h,p+g.ea[0]*y,k,a,c),k=this.h(g,"Text",this.oc(g.yh[0],g.yh[1],g.yh[2]),h,p,k,a,c));g.Sk&&(this.$a(g,g.Sk[0],g.Sk[1],g.Sk[2],h,p+g.ea[0]*y,k,a,c),k=this.h(g,"Error",this.oc(g.Sk[0],g.Sk[1],g.Sk[2]),h,p,k,a,c));this.$a(g,g.Wl[0],g.Wl[1],g.Wl[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Select",
this.oc(g.Wl[0],g.Wl[1],g.Wl[2]),h,p,k,a,c);this.$a(g,g.Vl[0],g.Vl[1],g.Vl[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Paste",this.oc(g.Vl[0],g.Vl[1],g.Vl[2]),h,p,k,a,c);this.$a(g,g.Rl[0],g.Rl[1],g.Rl[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Advance",this.oc(g.Rl[0],g.Rl[1],g.Rl[2]),h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Gridlines"];u+=1;k=this.h(g,"","Gridlines:",h,p,k,a,c);r=g.g.jc?"On":"Off";g.g.jc&&!g.g.vh()&&(r+=" (Hidden)");k=this.h(g,"Enabled",r,h,p,k,a,c);this.$a(g,g.g.Md>>16,g.g.Md>>8&
255,g.g.Md&255,h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Line Color",this.oc(g.g.Md>>16,g.g.Md>>8&255,g.g.Md&255),h,p,k,a,c);this.$a(g,g.g.Zf>>16,g.g.Zf>>8&255,g.g.Zf&255,h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Major Color",this.oc(g.g.Zf>>16,g.g.Zf>>8&255,g.g.Zf&255),h,p,k,a,c);r=0<g.g.Hf&&g.g.al?String(g.g.Hf):"Off";k=this.h(g,"Interval",r,h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Graph"];u+=1;k=this.h(g,"","Population Graph:",h,p,k,a,c);k=this.h(g,"Enabled",g.ad?"On":"Off",h,p,k,a,c);k=this.h(g,"Disabled",
g.Pc?"On":"Off",h,p,k,a,c);k=this.h(g,"Mode",g.$g?"Lines":"Points",h,p,k,a,c);k=this.h(g,"Opacity",g.vd.toFixed(2),h,p,k,a,c);this.$a(g,g.g.hj[0],g.g.hj[1],g.g.hj[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Bg Color",this.oc(g.g.hj[0],g.g.hj[1],g.g.hj[2]),h,p,k,a,c);this.$a(g,g.g.gj[0],g.g.gj[1],g.g.gj[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Axis Color",this.oc(g.g.gj[0],g.g.gj[1],g.g.gj[2]),h,p,k,a,c);this.$a(g,g.g.fj[0],g.g.fj[1],g.g.fj[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Alive Color",this.oc(g.g.fj[0],g.g.fj[1],
g.g.fj[2]),h,p,k,a,c);this.$a(g,g.g.ij[0],g.g.ij[1],g.g.ij[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Birth Color",this.oc(g.g.ij[0],g.g.ij[1],g.g.ij[2]),h,p,k,a,c);this.$a(g,g.g.jj[0],g.g.jj[1],g.g.jj[2],h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Death Color",this.oc(g.g.jj[0],g.g.jj[1],g.g.jj[2]),h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Randomize"];u+=1;k=this.h(g,"","Randomize:",h,p,k,a,c);k=this.h(g,"Pattern",g.fw?"On":"Off",h,p,k,a,c);k=this.h(g,"Custom Seed",g.UA?"On":"Off",h,p,k,a,c);k=this.h(g,
"Seed",g.cw,h,p,k,a,c);k=this.h(g,"Width",g.ew,h,p,k,a,c);k=this.h(g,"Height",g.Zv,h,p,k,a,c);k=this.h(g,"Fill",g.Xv+"%",h,p,k,a,c);k=this.h(g,"Rule Fixed",g.As?"Yes":"No",h,p,k,a,c);if(!g.As)if(g.g.ma||g.g.N)k=this.h(g,"Reversible",g.aw?"Only":"Any",h,p,k,a,c),k=this.h(g,"FixedPop",g.dw?"Yes":"No",h,p,k,a,c);else if(!g.g.sa&&-1===g.g.Vd){if(-1===g.ll&&-1===g.Mm){k=this.h(g,"Chance ALL"+(-1===g.kl?"*":""),-1===g.kl?"50%":g.kl+"%",h,p,k,a,c);v=!1;for(d=0;d<g.Kh.length;d+=2)0===g.Kh[d]&&(v=!0);v||(k=
this.h(g,"Chance B0*","25%",h,p,k,a,c))}else k=this.h(g,"Chance B"+(-1===g.ll?"*":""),-1===g.ll?"50%":g.ll+"%",h,p,k,a,c),k=this.h(g,"Chance S"+(-1===g.Mm?"*":""),-1===g.Mm?"50%":g.Mm+"%",h,p,k,a,c);for(d=0;d<g.Kh.length;d+=2)k=this.h(g,"Chance B"+g.Kh[d],g.Kh[d+1]+"%",h,p,k,a,c);for(d=0;d<g.xj.length;d+=2)k=this.h(g,"Chance S"+g.xj[d],g.xj[d+1]+"%",h,p,k,a,c)}k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Stars"];u+=1;k=this.h(g,"","Stars:",h,p,k,a,c);k=this.h(g,"Enabled",g.Di?"On":"Off",h,p,k,a,c);
this.$a(g,g.sl.red,g.sl.green,g.sl.blue,h,p+g.ea[0]*y,k,a,c);k=this.h(g,"Color",this.jg(g.sl),h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[u]=[g.ca,"Script"];u+=1;k=this.h(g,"","Script:",h,p,k,a,c);k=this.h(g,"Commands",g.fo,h,p,k,a,c);k=this.h(g,"Errors",g.$z,h,p,k,a,c);if(g.Vc)for(k=this.h(g,"","",h,p,k,a,c),g.ia[u]=[g.ca,"Waypoints"],u+=1,k=this.h(g,"","Waypoints:",h,p,k,a,c),k=this.h(g,"Enabled",g.Fe?"Off":"On",h,p,k,a,c),k=this.h(g,"Number",g.X.Ua.length,h,p,k,a,c),d=0;d<g.X.Ua.length;d+=1)r=
String(d),d===g.X.Hi&&(r=g.X.fD(g.elapsedTime)?r+">":r+"*"),k=this.h(g,r,g.X.ZN(d),h,p,k,a,c);if(g.X.uc.length)for(k=this.h(g,"","",h,p,k,a,c),g.ia[u]=[g.ca,"POIs"],k=this.h(g,"","Points of interest:",h,p,k,a,c),k=this.h(g,"Number",g.X.uc.length,h,p,k,a,c),d=0;d<g.X.uc.length;d+=1)r=String(d+1),d===g.Qg&&(r+="*"),d===g.An&&(r+=" INITIAL"),v=!1,m=g.X.DL(d),""!==m&&(k=this.h(g,v?" ":r,(v?"  ":"")+m,h,p,k,a,c),v=!0),m=g.X.HL(d),""!==m&&(k=this.h(g,v?" ":r,(v?"  ":"")+m,h,p,k,a,c),v=!0),m=g.X.EL(d),""!==
m&&(k=this.h(g,v?" ":r,(v?"  ":"")+m,h,p,k,a,c),v=!0),m=g.X.KF(d),""!==m&&(k=this.h(g,v?" ":r,(v?"  ":"")+m,h,p,k,a,c),v=!0),m=g.X.GL(d),""!==m&&(k=this.h(g,v?" ":r,(v?"  ":"")+m,h,p,k,a,c),v=!0),m=g.X.FL(d),""!==m&&(k=this.h(g,v?" ":r,(v?"  ":"")+m,h,p,k,a,c))},nM:function(g,h,p,k,a,c){var d,f=0,n=g.u.Ge;g.ca=1;g.Mg=!1;g.ia=[];g.ea[0]=130;g.ea[1]=200;g.ea[2]=250;g.ea[3]=300;g.ia[f]=[g.ca,"Top"];f+=1;k=this.h(g,"","Themes",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);k=this.h(g,"","Themes are used to provide a visual representation of",
h,p,k,a,c);k=this.h(g,"","cell history and longevity and also define grid colours",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Grid"];f+=1;k=this.h(g,"","Grid:",h,p,k,a,c);k=this.h(g,"GRID","grid line colour",h,p,k,a,c);k=this.h(g,"GRIDMAJOR","major grid line colour and interval",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"2-State"];f+=1;k=this.h(g,"","Two-state Themes:",h,p,k,a,c);k=this.h(g,"BACKGROUND","cell never occupied",h,p,k,a,c);k=this.h(g,"ALIVE","cell just born",h,p,
k,a,c);k=this.h(g,"ALIVERAMP","cell alive for several generations",h,p,k,a,c);k=this.h(g,"DEAD","cell just died",h,p,k,a,c);k=this.h(g,"DEADRAMP","cell dead for several generations",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);k=this.h(g,"",LifeConstants.df-LifeConstants.Hb+1+" states from ALIVE to ALIVERAMP",h,p,k,a,c);k=this.h(g,"",g.O+" (HISTORYSTATES) states from DEAD to DEADRAMP",h,p,k,a,c);for(d=0;d<g.g.nb.length-1;d+=1){k=this.h(g,"","",h,p,k,a,c);var m=g.g.nb[d];k=this.h(g,"Name"+(d===g.g.Bf&&2>=
g.g.i?"*":""),m.name,h,p,k,a,c);this.$a(g,m.fb.red,m.fb.green,m.fb.blue,h,p+g.ea[0]*n,k,a,c);k=this.h(g,"BACKGROUND",this.jg(m.fb),h,p,k,a,c);this.$a(g,m.vb.Z.red,m.vb.Z.green,m.vb.Z.blue,h,p+g.ea[0]*n,k,a,c);k=this.h(g,"ALIVE",this.jg(m.vb.Z),h,p,k,a,c);if(m.vb.Z.red!==m.vb.aa.red||m.vb.Z.green!==m.vb.aa.green||m.vb.Z.blue!==m.vb.aa.blue)this.$a(g,m.vb.aa.red,m.vb.aa.green,m.vb.aa.blue,h,p+g.ea[0]*n,k,a,c),k=this.h(g,"ALIVERAMP",this.jg(m.vb.aa),h,p,k,a,c);this.$a(g,m.kb.aa.red,m.kb.aa.green,m.kb.aa.blue,
h,p+g.ea[0]*n,k,a,c);k=this.h(g,"DEAD",this.jg(m.kb.aa),h,p,k,a,c);if(m.kb.Z.red!==m.kb.aa.red||m.kb.Z.green!==m.kb.aa.green||m.kb.Z.blue!==m.kb.aa.blue)this.$a(g,m.kb.Z.red,m.kb.Z.green,m.kb.Z.blue,h,p+g.ea[0]*n,k,a,c),k=this.h(g,"DEADRAMP",this.jg(m.kb.Z),h,p,k,a,c);m.$k&&(this.$a(g,m.Ch>>16,m.Ch>>8&255,m.Ch&255,h,p+g.ea[0]*n,k,a,c),k=this.h(g,"GRID",this.oc(m.Ch>>16,m.Ch>>8&255,m.Ch&255),h,p,k,a,c),this.$a(g,m.Dh>>16,m.Dh>>8&255,m.Dh&255,h,p+g.ea[0]*n,k,a,c),k=this.h(g,"GRIDMAJOR",this.oc(m.Dh>>
16,m.Dh>>8&255,m.Dh&255),h,p,k,a,c),k=this.h(g,"GRIDMAJOR",m.Mn,h,p,k,a,c))}k=this.h(g,"","",h,p,k,a,c);g.ia[f]=[g.ca,"Multi"];k=this.h(g,"","Multi-state Themes:",h,p,k,a,c);k=this.h(g,"BACKGROUND","cell never occupied",h,p,k,a,c);k=this.h(g,"ALIVE","cell alive",h,p,k,a,c);k=this.h(g,"DYING","cell just starting dying",h,p,k,a,c);k=this.h(g,"DYINGRAMP","cell about to die",h,p,k,a,c);k=this.h(g,"DEAD","cell just died",h,p,k,a,c);k=this.h(g,"DEADRAMP","cell dead for several generations",h,p,k,a,c);k=
this.h(g,"","",h,p,k,a,c);k=this.h(g,"","Rule defines "+(2>g.g.i?"":String(g.g.i-1)+" ")+"states from DYING to DYINGRAMP",h,p,k,a,c);k=this.h(g,"",g.O+" (HISTORYSTATES) states from DEAD to DEADRAMP",h,p,k,a,c);for(d=0;d<g.g.nb.length-1;d+=1){k=this.h(g,"","",h,p,k,a,c);m=g.g.nb[d];k=this.h(g,"Name"+(d===g.g.Bf&&2<g.g.i?"*":""),m.name,h,p,k,a,c);this.$a(g,m.Ki.red,m.Ki.green,m.Ki.blue,h,p+g.ea[0]*n,k,a,c);k=this.h(g,"BACKGROUND",this.jg(m.Ki),h,p,k,a,c);this.$a(g,m.qg.red,m.qg.green,m.qg.blue,h,p+
g.ea[0]*n,k,a,c);k=this.h(g,"ALIVE",this.jg(m.qg),h,p,k,a,c);this.$a(g,m.Zb.aa.red,m.Zb.aa.green,m.Zb.aa.blue,h,p+g.ea[0]*n,k,a,c);k=this.h(g,"DYING",this.jg(m.Zb.aa),h,p,k,a,c);if(m.Zb.Z.red!==m.Zb.aa.red||m.Zb.Z.green!==m.Zb.aa.green||m.Zb.Z.blue!==m.Zb.aa.blue)this.$a(g,m.Zb.Z.red,m.Zb.Z.green,m.Zb.Z.blue,h,p+g.ea[0]*n,k,a,c),k=this.h(g,"DYINGRAMP",this.jg(m.Zb.Z),h,p,k,a,c);this.$a(g,m.Ic.aa.red,m.Ic.aa.green,m.Ic.aa.blue,h,p+g.ea[0]*n,k,a,c);k=this.h(g,"DEAD",this.jg(m.Ic.aa),h,p,k,a,c);if(m.Ic.Z.red!==
m.Ic.aa.red||m.Ic.Z.green!==m.Ic.aa.green||m.Ic.Z.blue!==m.Ic.aa.blue)this.$a(g,m.Ic.Z.red,m.Ic.Z.green,m.Ic.Z.blue,h,p+g.ea[0]*n,k,a,c),k=this.h(g,"DEADRAMP",this.jg(m.Ic.Z),h,p,k,a,c)}},fM:function(g,h,p,k,a,c){var d,f=ColourManager.Je,n=Object.keys(f),m=g.u.Ge;g.ca=1;g.Mg=!1;g.ia=[];g.ea[0]=260;g.ea[1]=330;g.ea[2]=380;g.ea[3]=g.J;g.ia[0]=[g.ca,"Top"];k=this.h(g,"","Colours",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);k=this.h(g,"","The following names can be used in place of R G B",h,p,k,a,c);k=this.h(g,
"","for example [[ COLOUR ALIVE Green ]]",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);for(d=0;d<n.length;d+=1){var q=f[n[d]];this.$a(g,q[1],q[2],q[3],h,p+g.ea[0]*m,k,a,c);k=this.h(g,q[0],this.oc(q[1],q[2],q[3]),h,p,k,a,c)}},dM:function(g,h,p,k,a,c){var d,f=0,n=AliasManager.Gc,m=AliasManager.qB;g.ca=1;g.Mg=!1;g.ia=[];g.ea[0]=260;g.ia[f]=[g.ca,"Top"];f+=1;k=this.h(g,"","Aliases",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);k=this.h(g,"","Alias names can be used as rule names in RLE",h,p,k,a,c);k=this.h(g,"","for example 'rule = HighLife'",
h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);k=this.h(g,"","* denotes duplicate definition",h,p,k,a,c);k=this.h(g,"","+ denotes duplicate alias name",h,p,k,a,c);g.Mg=!0;for(d=0;d<n.length;d+=1)""===n[d][1]?(k=this.h(g,"","",h,p,k,a,c),g.ia[f]=[g.ca,m[f-1]],f+=1,k=this.h(g,"",n[d][0]+" Aliases:",h,p,k,a,c)):""!==n[d][0]&&(k=this.h(g,n[d][0]+" "+(n[d][2]?"*":"")+(n[d][3]?"+":""),n[d][1],h,p,k,a,c))},lM:function(g,h,p,k,a,c){var d,f=0,n=Controller.Fd.length,m=0,q=0,u=0,y=0,v;g.ca=1;g.Mg=!1;g.ia=[];g.ea[0]=
128;g.ea[1]=200;g.ea[2]=290;g.ea[3]=530;g.ia[f]=[g.ca,"Top"];f+=1;k=this.h(g,"","Memory usage",h,p,k,a,c);k=this.h(g,"","",h,p,k,a,c);if(1<n){g.ia[f]=[g.ca,"All"];f+=1;k=this.h(g,"","Memory (all "+n+" LifeViewers):",h,p,k,a,c);for(d=0;d<n;d+=1)if(v=Controller.XJ(d))m+=v.g.v.Zr,u+=v.g.v.Lo>>10,q+=v.g.v.bs,y+=v.g.v.Mo>>10;k=this.h(g,"In Use",m-q+"\t"+((u>>10)-(y>>10))+"M",h,p,k,a,c);k=this.h(g,"Allocations",m+"\t"+(u>>10)+"M",h,p,k,a,c);k=this.h(g,"Frees",q+"\t"+(y>>10)+"M",h,p,k,a,c);k=this.h(g,"",
"",h,p,k,a,c)}g.ia[f]=[g.ca,"Current"];k=this.h(g,"","Memory (this LifeViewer):",h,p,k,a,c);k=this.h(g,"In Use",g.g.v.Zr-g.g.v.bs+"\t"+this.Jx(g.g.v.Lo-g.g.v.Mo)+"M\t"+(g.g.v.Lo-g.g.v.Mo),h,p,k,a,c);k=this.h(g,"Allocations",g.g.v.Zr+"\t"+this.Jx(g.g.v.Lo)+"M\t"+g.g.v.Lo,h,p,k,a,c);k=this.h(g,"Frees",g.g.v.bs+"\t"+this.Jx(g.g.v.Mo)+"M\t"+g.g.v.Mo,h,p,k,a,c);k=this.h(g,this.jF("Bytes",10),"Type\tElements\tName\tCount",h,p,k,a,c);for(d=0;d<g.g.v.sh.length;d+=1)k=this.h(g,this.jF(String(g.g.v.sh[d].size),
10),g.g.v.eI(d),h,p,k,a,c);this.h(g,"","",h,p,k,a,c)},Ku:function(g){var h=g.Dc,p=g.u.Ge,k=g.u.oh,a=19*k;g.od=(g.H/a|0)-6;h.fillStyle="black";h.globalAlpha=.5;h.fillRect(0,0,h.canvas.width,h.canvas.height);h.globalAlpha=1;h.fillStyle=ViewConstants.sr;this.ql=2;this.$F(g,h,6*p,14*k,a,g.la|0);h.fillStyle=ViewConstants.sp;this.ql=0;this.$F(g,h,6*p,14*k,a,g.la|0)},gM:function(g,h,p,k,a,c,d,f,n,m){var q=f,u=g.u.Ge,y=this.ql*u,v=this.ql*g.u.Ge,r=0,B=!1,b=g.ca;c.fillStyle===ViewConstants.sr&&(B=!0);b>=m&&
b<=m+g.od&&(c.font=g.rp,B||(c.fillStyle=1<(g.ic|0)?g.ej:ViewConstants.Su),c.fillText(h,d+y,f+v),B||(c.fillStyle=g.ej),c.fillText(p,d+y+c.measureText(h).width,f+v),B||(c.fillStyle=(g.ic|0)<g.qd.length-g.od+1?g.ej:ViewConstants.Su),c.fillText(k,d+y+c.measureText(h+p).width,f+v),g.ea[0]&&(r=g.ea[0]*u),B||(c.fillStyle=g.ej),c.font=g.jm,c.fillText(a,d+y+r,f+v),q+=n);return q},jw:function(g,h,p,k,a,c,d,f){var n=c,m=g.u.Ge,q=0,u=g.ca;u>=f&&u<=f+g.od&&(h.length&&(k.font=g.rp,k.fillText(h,a,c),q=k.measureText(h+
" ").width),g.ea[0]&&(q=g.ea[0]*m),k.font=g.jm,k.fillText(p,a+q,c),n+=d);g.ca+=1;return n},ZF:function(g,h,p,k,a,c){var d,f=g.qd,n=k;g.ca=1;g.ea[0]=0;h.font=g.jm;k=this.jw(g,"",ViewConstants.PM,h,p,k,a,c);for(d=0;d<f.length;d+=1)k=this.jw(g,f[d][0],f[d][1],h,p,k,a,c);g.rb||(g.ea[0]=120,g.ca=1,k=n+a*(g.od+2),k=this.gM(g,"Up"," / ","Down","scroll errors",h,p,k,a,0),k=this.jw(g,"Esc","clear messages",h,p,k,a,0),this.jw(g,"H  ","help on script commands",h,p,k,a,0))},By:function(g){var h=g.Dc,p=g.u.Ge,
k=g.u.oh,a=19*k,c=7;g.rb&&(c=1);g.od=(g.H/a|0)-c;h.fillStyle="black";h.globalAlpha=.5;h.fillRect(0,0,h.canvas.width,h.canvas.height);h.globalAlpha=1;h.fillStyle=ViewConstants.sr;this.ZF(g,h,6*p,14*k,a,g.ic|0);h.fillStyle=g.ej;this.ZF(g,h,4*p,12*k,a,g.ic|0)}};window.Help=w}(),window.Keywords={wd:'"',yo:"[[",kq:"]]",WF:"QUALITY",FG:"TIME",HB:"SUPPRESS",Mv:"POIT",nc:"INITIAL",Wb:"OFF",DB:"STATE1FIT",ss:"POIRESET",Yp:"POIPLAY",Zp:"POISTOP",ts:"POITRANS",GA:"POIADDLABELS",Ty:"HARDRESET",at:"TRACK",Qo:"TRACKBOX",
$s:"TRACKLOOP",Vz:"NOREPORT",Ru:"GRAPH",Fv:"NOGRAPH",Qy:"GRAPHOPACITY",Ry:"GRAPHPOINTS",Uz:"NOPERFWARNING",$y:"AUTOHIDEGUI",rg:"ALL",Gh:"LINEAR",Wi:"BEZIER",jO:"HEXDISPLAY",rO:"SQUAREDISPLAY",KG:"TRIANGULARCELLS",Vy:"HEXCELLS",yw:"SQUARECELLS",Nx:"CELLBORDERS",pE:"INTEGERZOOM",YA:"RANDOMIZE",VA:"RANDSEED",XA:"RANDWIDTH",SA:"RANDHEIGHT",RA:"RANDFILL",TA:"RANDREVERSIBLE",WA:"RANDFIXEDPOP",Vv:"RANDCHANCE",Uv:"B",bw:"S",wy:"DELETERANGE",yB:"SHOWTIMING",Jy:"EXTENDEDTIMING",wB:"SHOWGENSTATS",xB:"SHOWINFOBAR",
Xz:"NOSOURCE",Nv:"POI",vq:"TITLE",QF:"POLY",Ov:"POLYFILL",JA:"POLYLINE",HA:"POLYALPHA",KA:"POLYSIZE",LA:"POLYT",IA:"POLYANGLE",MA:"POLYTARGET",PF:"POLYTRACK",Gq:"ARROW",Dx:"ARROWALPHA",Fx:"ARROWSIZE",Gx:"ARROWT",Ex:"ARROWANGLE",Hx:"ARROWTARGET",Ix:"ARROWTRACK",Mr:"LABEL",pz:"LABELALPHA",rz:"LABELSIZE",sz:"LABELT",qz:"LABELANGLE",uz:"LABELTARGET",vz:"LABELTRACK",Ld:"FIXED",Gz:"MAXGRIDSIZE",Ms:"STARS",uq:"CUSTOM",Sw:"XOFFSET",Tw:"YOFFSET",Ew:"BACKGROUND",Dw:"ALIVE",NB:"ALIVERAMP",Gw:"DEAD",Fw:"DEADRAMP",
PB:"DYING",OB:"DYINGRAMP",NG:"UIFOREGROUND",xO:"UIFOREGROUNDA",LG:"UIBACKGROUND",vO:"UIBACKGROUNDA",OG:"UIHIGHLIGHT",yO:"UIHIGHTLIGHTA",SG:"UISELECT",AO:"UISELECTA",PG:"UILOCKED",zO:"UILOCKEDA",MG:"UIBORDER",wO:"UIBORDERA",iD:"BOUNDARY",kD:"BOUNDED",sG:"SELECT",YC:"ADVANCE",Yt:"AUTOFIT",az:"HISTORYFIT",dv:"HISTORYSTATES",Qt:"AGESTATES",Fo:"STEP",Tz:"NOSTEPBACK",Os:"T",BA:"PAUSE",nr:"GRID",mr:"GRIDMAJOR",LB:"TEXT",Hy:"ERROR",gF:"OFF",hF:"ON",kE:"HISTORY",AE:"MARK1",EE:"MARKOFF",CE:"MARK2",tE:"KILL",
aE:"GRAPHBG",$D:"GRAPHAXIS",ZD:"GRAPHALIVE",bE:"GRAPHBIRTH",cE:"GRAPHDEATH",Na:"COLOR",Yx:"COLOUR",jt:"VIEWONLY",Sz:"NOGUI",Rz:"NOCOPY",YB:"THUMBNAIL",TB:"THUMBSIZE",RB:"THUMBLAUNCH",VB:"THUMBSTART",Iy:"EXCLUSIVEPLAY",gz:"IGNOREEXCLUSIVE",ul:"THEME",XF:"RAINBOW",$t:"AUTOSTART",lj:"LOOP",Kj:"STOP",Fl:"ANGLE",Vn:"LAYERS",Cn:"DEPTH",Ln:"GPS",Xd:"ZOOM",Bx:"Z",wf:"X",yf:"Y",Bq:"WIDTH",qp:"HEIGHT",vs:"POPUPWIDTH",us:"POPUPHEIGHT",XB:"THUMBZOOM",Yz:"NOTHROTTLE",eB:"REVERSESTART",oz:"KILLGLIDERS",eq:"RECIPE",
vo:"RLE",Sp:"PASTE",hs:"PASTET",cA:"PASTEDELTA",gr:"EVERY",sA:"PASTEMODE",yA:"ZERO",kA:"AND",fA:"0010",uA:"X",gA:"DIFF",xA:"Y",wA:"XOR",rA:"OR",nA:"NOR",tA:"XNOR",pA:"NOTY",hA:"1011",oA:"NOTX",iA:"1101",mA:"NAND",qA:"ONE",lA:"COPY",nC:"IDENTITY",kC:"FLIP",lC:"FLIPX",mC:"FLIPY",qC:"SWAPXY",rC:"SWAPXYFLIP",pC:"RCW",oC:"RCCW",og:"#"},function(){window.KeyProcessor={SL:function(w,g,h){var p=!0;if(h.ctrlKey&&82===g)return!0;switch(g){case 13:w.Gk===w.Io&&w.wD(w,!0);break;case 84:w.Wo([!w.o.rl],!0,w);break;
default:p=!1}return p},UL:function(w,g,h){var p=!0;if(h.ctrlKey||h.metaKey||h.altKey)g=-1;switch(g){case 84:w.Wo([!w.o.rl],!0,w);break;case 27:case 117:w.dz(w);break;default:p=!1}return p},TL:function(w,g,h){var p=!0;if(h.ctrlKey||h.metaKey||h.altKey)g=-1;switch(g){case 84:w.Wo([!w.o.rl],!0,w);break;default:p=!1}return p},RL:function(w,g,h){var p=!0,k=0;if(w.Sc)!w.Ev&&85===g&&h.shiftKey&&(w.Sc=!w.Sc,w.u.l=w.Sc,w.o.Sc=w.Sc);else{h.ctrlKey&&!h.altKey&&37<=g&&40>=g&&(37===g?g=33:38===g?g=36:39===g?g=
34:40===g&&(g=35));if(h.altKey&&!h.ctrlKey){if(48<=g&&57>=g)k=g-48,w.mg||0===w.X.uc.length?w.tg===k?w.ld?w.AA(w):w.GF(w):w.Oq.current=w.bH(k,!0,w):(--k,0<=k&&k<w.X.uc.length&&(w.Qg=k,w.tB(w,w.Qg)));else switch(g){case 37:w.Dm(w,-1,0);break;case 38:w.Dm(w,0,-1);break;case 39:w.Dm(w,1,0);break;case 40:w.Dm(w,0,1);break;case 46:w.Vx(w,!0,!0);w.o.notification.notify("Cleared [R]History marked cells",15,120,15,!0);break;case 65:w.on.current=w.CC([!w.ak],!0,w);w.o.notification.notify("Auto-Shrink Selection "+
(w.ak?"On":"Off"),15,40,15,!0);break;case 66:w.Jq.current=w.aH([!w.g.ud],!0,w);break;case 67:w.md||!w.Ii||w.Ii.locked||(w.Rm(w.Du,w.g.Ol,w),w.g.Pa||w.Gj||w.o.notification.notify(w.Hw(w.g.Bf)+" Theme",15,40,15,!0));break;case 68:w.g.ma&&(w.mn.current=w.YG([!w.g.Dl],!0,w),w.o.notification.notify("Alternating Gridlines "+(w.g.Dl?"On":"Off"),15,40,15,!0));break;case 71:w.g.Ga||-1===w.g.i?w.HI(w):w.g.T?w.o.notification.notify("Rule is already [R]Super",15,120,15,!0):w.o.notification.notify("Unsupported rule for [R]Super",
15,120,15,!0);break;case 72:-1===w.g.i||w.g.T?w.FI(w):w.g.Ga?w.o.notification.notify("Rule is already [R]History",15,120,15,!0):w.o.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 74:w.g.Ga||w.g.T?w.GI(w):-1===w.g.i?w.o.notification.notify("Rule is already [R]Standard",15,120,15,!0):w.o.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:w.Ad.current!==ViewConstants.wm&&(w.Ad.current=w.Kk(ViewConstants.wm,!0,w));w.rs=!0;w.Jh.current=w.Ik([!0],
!0,w);break;case 76:0<w.X.Ip()&&(w.qm.current=w.fH([!w.Ci],!0,w),w.o.notification.notify("Annotations "+(w.Ci?"On":"Off"),15,40,15,!0));break;case 78:w.bF(w);break;case 79:w.ef&&(w.sg=!w.sg,w.pn.current=[w.sg],w.o.notification.notify("AutoStart "+(w.sg?"Off":"On"),15,40,15,!0));break;case 80:-1!==w.ac&&(w.We=!w.We,w.an.current=[w.We],w.o.notification.notify("Stop "+(w.We?"Off":"On"),15,40,15,!0));break;case 82:w.oD(w);break;case 83:w.fp.current=w.DC([!w.wh],!0,w);w.o.notification.notify("Sync Clipboard "+
(w.wh?"On":"Off"),15,40,15,!0);break;case 84:w.dn.current=w.bC([!w.Kl],!0,w);w.o.notification.notify("Throttling "+(w.Kl?"On":"Off"),15,40,15,!0);break;case 85:w.$o.current=w.$G([!w.si],!0,w);w.o.notification.notify("AutoHide UI "+(w.si?"On":"Off"),15,80,15,!0);break;case 87:2<w.g.i||w.g.sa||w.g.N||w.g.Ga||w.g.T||w.g.fa||w.g.ma||(w.$p.current=w.iH([!w.g.Qd],!0,w));break;case 88:w.UD(w);break;case 89:w.VD(w);break;case 90:w.bq.locked||w.$v(w,!1)}g=-2}switch(g){case 191:case 111:w.g.S?(w.Eh.current=
w.FC([!w.g.vc],!0,w),w.o.notification.notify("Hexagonal display uses "+(w.g.vc?"Hexagons":"Squares"),15,120,15,!0)):w.g.R&&(w.Eh.current=w.FC([!w.g.vc],!0,w),w.o.notification.notify("Triangular display uses "+(w.g.vc?"Triangles":"Rectangles"),15,120,15,!0));break;case 8:w.Ta||w.Ab.zg[1]||(k=w.Fa,w.Fa=1,w.Ab.current=w.Ed(ViewConstants.Hp,!0,w),w.Fa=k);break;case 66:h.ctrlKey?w.LI(w):w.Ta||w.Ab.zg[1]||(k=w.Fa,w.Fa=1,w.Ab.current=w.Ed(ViewConstants.Hp,!0,w),w.Fa=k);break;case 13:w.ld||w.yd?w.wL(w):w.Ta||
(w.Ab.current===ViewConstants.sk?w.Ab.current=w.Ed(ViewConstants.sk,!0,w):w.de&&w.o.Mc||(w.Ab.current=w.Ed(ViewConstants.sk,!0,w)));break;case 9:w.Ta||(w.cb?w.Ab.current=w.Ed(ViewConstants.Qe,!0,w):h.shiftKey?(w.g.ma||w.g.N)&&null!==w.g.Jc?w.Ab.current=w.Ed(ViewConstants.Hp,!0,w):0<w.g.counter&&(w.Es(w.g.counter-w.Fa),w.vB(w.g.counter-w.Fa+1)):(w.yi=!0,w.ub("")));break;case 32:w.Ta||(w.cb?w.Ab.current=w.Ed(ViewConstants.Qe,!0,w):h.ctrlKey||h.shiftKey?w.EJ(w,h.shiftKey):(w.yi=!0,w.zB=!0,w.ub("")));
break;case 87:h.shiftKey?(w.Tm.current=w.ZB([!w.vj],!0,w),w.o.notification.notify("Performance Warning "+(w.vj?"On":"Off"),15,40,15,!0)):w.ie?w.mh.current=w.cC([w.tf],!0,w):w.Vc&&(w.mh.current=w.cC([w.Fe],!0,w));break;case 69:!w.Td.locked&&w.Fa<ViewConstants.Bg&&(w.Fa=h.shiftKey?ViewConstants.Bg:w.Fa+1,w.Td.current=w.ln([w.Fa,w.Fa],!0,w));break;case 68:h.ctrlKey?(w.sq.current=w.aC([!w.Um],!0,w),w.o.notification.notify("States Display "+(w.Um?"On":"Off"),15,80,15,!0)):!w.Td.locked&&w.Fa>ViewConstants.Zn&&
(h.shiftKey?w.Fa=ViewConstants.Zn:--w.Fa,w.Td.current=w.ln([w.Fa,w.Fa],!0,w));break;case 90:h.ctrlKey?(h.altKey&&(w.bq.locked||w.$v(w,!0)),h.shiftKey?w.aB(w):w.Oj.locked||w.uC(w)):h.shiftKey?(k=Controller.pN(),0===k?w.o.notification.notify("No LifeViewers playing",15,100,15,!0):1<k&&w.o.notification.notify("Paused all LifeViewers",15,100,15,!0)):(k=Controller.CG(w),0<k&&(1<k?w.o.notification.notify("Paused "+k+" other LifeViewers",15,100,15,!0):w.o.notification.notify("Paused "+k+" other LifeViewer",
15,100,15,!0)));break;case 88:h.ctrlKey?w.VF(w,h.shiftKey,h.altKey):h.shiftKey?(w.qk.current=w.gH([!w.g.al],!0,w),0<w.g.Hf&&(w.o.notification.notify("Major Grid Lines "+(w.g.al?"On":"Off"),15,40,15,!0),w.rD())):(w.g.jc=!w.g.jc,w.pi.current=w.wq([w.g.jc],!0,w),w.o.notification.notify("Grid Lines "+(w.g.jc?"On":"Off"),15,40,15,!0));break;case 89:h.ctrlKey?w.aB(w):w.Pc?w.o.notification.notify("Graph Disabled",15,40,15,!0):h.shiftKey?(w.$g=!w.$g,w.Fp.current=w.HG([w.$g],!0,w),w.o.notification.notify("Graph "+
(w.$g?"Lines":"Points"),15,40,15,!0)):(w.ad=!w.ad,w.fm.current=w.EC([w.ad],!0,w),w.o.notification.notify("Population Graph "+(w.ad?"On":"Off"),15,40,15,!0));break;case 75:h.ctrlKey?h.altKey?(w.Vx(w,!1,!1),k=w.Df,2<w.g.i&&!(w.g.Pa||w.g.N||w.g.fa||w.g.T)&&0<k&&(k=w.g.i-k),w.g.fa?w.o.notification.notify("Cleared state "+k+" cells",15,120,15,!0):w.o.notification.notify("Cleared "+w.Py(k)+" cells",15,120,15,!0)):w.iw(w):h.shiftKey?(w.xD(w,!0),w.o.notification.notify("Copied view to clipboard",15,180,15,
!0)):(w.xD(w,!1),w.o.notification.notify("Copied position to clipboard",15,180,15,!0));break;case 80:h.ctrlKey?(w.ms.current=w.JG([!w.Vp],!0,w),w.o.notification.notify("Pause while drawing "+(w.Vp?"On":"Off"),15,80,15,!0)):h.shiftKey?-1!==w.gb&&(w.Qc=!w.Qc,w.sm.current=[w.Qc],w.o.notification.notify("Loop "+(w.Qc?"Off":"On"),15,40,15,!0)):w.md||w.hd.locked||(w.hd.current=.99>=w.hd.current[0]?w.wl([w.hd.current[0]+.01,w.hd.current[1]],!0,w):w.wl([1,w.hd.current[1]],!0,w));break;case 76:h.ctrlKey?(w.g.Yi=
!w.g.Yi,w.o.notification.notify("Kill Gliders "+(w.g.Yi?"On":"Off"),15,40,15,!0)):h.shiftKey?w.aJ(w):w.md||w.hd.locked||(w.hd.current=.01<=w.hd.current[0]?w.wl([w.hd.current[0]-.01,w.hd.current[1]],!0,w):w.wl([0,w.hd.current[1]],!0,w));break;case 81:h.ctrlKey?(w.zs.current=w.hH([!w.g.bh],!0,w),w.o.notification.notify((w.g.bh?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!w.md&&!w.ee.locked&&w.ee.current[0]<ViewConstants.uv&&(w.ee.current=w.it([w.g.V+1,w.ee.current[1]],!0,w));break;case 65:h.shiftKey?
w.xb&&w.Zt(w):h.ctrlKey?w.pG(w):!w.md&&!w.ee.locked&&w.ee.current[0]>ViewConstants.Av&&(w.ee.current=w.it([w.g.V-1,w.ee.current[1]],!0,w));break;case 82:h.shiftKey?Controller.qM():w.Ab.current=w.Ed(ViewConstants.Pz,!0,w);break;case 83:h.ctrlKey?(w.lB(w),w.o.notification.notify("Saved",15,120,15,!0)):h.shiftKey?w.g.Ga&&(w.Ei=!w.Ei,w.o.notification.notify("AutoFit State 1 Mode "+(w.Ei?"On":"Off"),15,40,15,!0)):(w.pq.current=w.lH([!w.Di],!0,w),w.o.notification.notify("Stars "+(w.Di?"On":"Off"),15,40,
15,!0));break;case 78:w.vl&&(w.rb?w.IB():(w.JB(),w.la&&(w.la=0)));break;case 86:h.ctrlKey?w.Tv(w,h.shiftKey):h.shiftKey?(w.nG(w),w.o.notification.notify("Saved camera position",15,100,15,!0)):w.Id||(w.vM(w),w.o.notification.notify("Restored camera position",15,100,15,!0),w.cb||(w.Ag=!0));break;case 221:w.Id||(h.shiftKey?w.Dq(w.yc.current[0],Math.log(w.g.zoom*w.g.xc*2/ViewConstants.za)/Math.log(ViewConstants.Ya/ViewConstants.za)-w.yc.current[0]):w.Dq(w.yc.current[0],.01));break;case 219:w.Id||(h.shiftKey?
w.Dq(w.yc.current[0],Math.log(w.g.zoom*w.g.xc/2/ViewConstants.za)/Math.log(ViewConstants.Ya/ViewConstants.za)-w.yc.current[0]):w.Dq(w.yc.current[0],-.01));break;case 53:case 101:h.ctrlKey?h.shiftKey?w.g.N||w.Wv(w,!0):w.Lj(5):h.shiftKey?w.Wv(w,!1):w.Hd.locked||(w.g.angle=0,w.Hd.current=[w.g.angle,w.g.angle]);break;case 49:case 97:h.ctrlKey?w.Lj(1):h.shiftKey?(w.gi(w,w.g.zoom*w.g.xc,!0),w.o.notification.notify("Integer Zoom",15,40,15,!0)):w.gi(w,1,!1);break;case 50:case 98:h.ctrlKey?w.Lj(2):h.shiftKey?
w.gi(w,.5,!1):w.gi(w,2,!1);break;case 51:case 99:h.ctrlKey?w.Lj(3):h.shiftKey?w.gi(w,64,!1):w.gi(w,32,!1);break;case 52:case 100:h.ctrlKey?w.Lj(4):h.shiftKey?w.gi(w,.25,!1):w.gi(w,4,!1);break;case 54:case 102:h.ctrlKey?w.Lj(6):h.shiftKey?w.gi(w,.0625,!1):w.gi(w,16,!1);break;case 55:h.ctrlKey?w.Lj(7):w.Pc?w.o.notification.notify("Graph Disabled",15,40,15,!0):(0<w.vd&&(w.vd-=.05,0>w.vd&&(w.vd=0)),w.Lp.current=w.Pw([w.vd,w.vd],!1,w));break;case 56:case 104:h.ctrlKey?w.Lj(8):h.shiftKey?w.gi(w,.125,!1):
w.gi(w,8,!1);break;case 57:h.ctrlKey?w.Lj(9):w.Pc?w.o.notification.notify("Graph Disabled",15,40,15,!0):(1>w.vd&&(w.vd+=.05,1<w.vd&&(w.vd=1)),w.Lp.current=w.Pw([w.vd,w.vd],!1,w));break;case 48:case 96:h.ctrlKey?w.Lj(0):(w.Fa=1,w.Td.current=w.ln([w.Fa,w.Fa],!0,w),w.lc.current=w.Jk([1,w.lc.current[1]],!0,w));break;case 189:case 109:h.ctrlKey&&189==g?p=!1:w.Ta||(w.Fa>ViewConstants.Zn?(h.shiftKey?w.Fa=ViewConstants.Zn:--w.Fa,w.Td.current=w.ln([w.Fa,w.Fa],!0,w)):w.lc&&(w.lc.current=.01<=w.lc.current[0]&&
!h.shiftKey?w.Jk([w.lc.current[0]-.01,w.lc.current[1]],!0,w):w.Jk([0,w.lc.current[1]],!0,w)));break;case 187:case 107:h.ctrlKey&&187==g?p=!1:!w.Ta&&w.lc&&(.99>=w.lc.current[0]&&!h.shiftKey?w.lc.current=w.Jk([w.lc.current[0]+.01,w.lc.current[1]],!0,w):.99>=w.lc.current[0]?w.lc.current=w.Jk([1,w.lc.current[1]],!0,w):(w.lc.current=w.Jk([1,w.lc.current[1]],!0,w),w.Fa<ViewConstants.Bg&&(w.Fa=h.shiftKey?ViewConstants.Bg:w.Fa+1,w.Td.current=w.ln([w.Fa,w.Fa],!0,w))));break;case 188:h.shiftKey&&(w.xb||w.ld)?
w.hG(w):w.Hd.locked||(k=w.Hd.current[0],k=h.shiftKey?k-90:k-1,0>k&&(k+=360),w.Hd.current=w.ht([k,k],!0,w));break;case 190:h.shiftKey&&(w.xb||w.ld)?w.iG(w):w.Hd.locked||(k=w.Hd.current[0],k=h.shiftKey?k+90:k+1,360<=k&&(k-=360),w.Hd.current=w.ht([k,k],!0,w));break;case 46:w.xb?h.shiftKey?w.sD(w):w.yy(w,h.ctrlKey):h.ctrlKey&&(k=w.Vx(w,h.ctrlKey,!1))&&w.o.notification.notify("Cleared [R]History cells",15,120,15,!0);break;case 74:h.ctrlKey&&!h.shiftKey?w.yD(w):h.ctrlKey&&h.shiftKey?p=!1:w.X.uc.length?
w.Id||(h.shiftKey?w.SF(w):w.cF(w)):w.o.notification.notify("No POIs defined",15,80,15,!0);break;case 84:h.shiftKey?w.o.Sm=!w.o.Sm:w.np.current=w.Wo([!w.o.rl],!0,w);break;case 85:h.shiftKey?!w.Ev&&(w.Sc=!w.Sc,w.u.l=w.Sc,w.o.Sc=w.Sc)&&(w.la=0,w.ic=0):(w.g.ma||w.g.N)&&w.g.Jc&&w.xy(w);break;case 71:h.ctrlKey?(w.di=!w.di,w.Zo.current=w.ZG([w.di],!0,w),w.o.notification.notify("Auto Grid Lines "+(w.di?"On":"Off"),15,40,15,!0)):w.Ta||(h.shiftKey?w.Yk&&(w.fq.current=w.kH([!w.Zk],!0,w),w.o.notification.notify("Generation display "+
(w.Zk?"Relative":"Absolute"),15,40,15,!0)):(w.Qw([!w.jh],!0,w),w.mf&&(w.mf.current=[w.jh],w.o.Ph=!0)));break;case 70:h.ctrlKey?w.xb&&(w.Tg(!0,!0,ViewConstants.Qu),w.o.notification.notify("Fit Selection",15,80,15,!0)):h.shiftKey?w.Vi.locked||(w.zc=!w.zc,w.Vi.current=w.GG([w.zc],!0,w),w.o.notification.notify("AutoFit "+(w.zc?"On":"Off"),15,40,15,!0)):w.Wk.locked||(w.Tg(!0,!0,ViewConstants.Xk),w.o.notification.notify("Fit Pattern",15,80,15,!0),w.cb||(w.Ag=!0));break;case 79:h.ctrlKey?h.shiftKey?navigator.clipboard.readText().then(function(a){return w.VK(w,
a)}):w.xE(w):w.Hs=h.shiftKey?2:1;break;case 37:h.shiftKey?w.zm(w.g.zoom,w.g.zoom):w.zm(w.g.zoom,0);break;case 38:w.la?w.tw(w,1):w.ic?w.rw(w,1):h.shiftKey?w.zm(-w.g.zoom,w.g.zoom):w.zm(0,w.g.zoom);break;case 39:h.shiftKey?w.zm(-w.g.zoom,-w.g.zoom):w.zm(-w.g.zoom,0);break;case 40:w.la?w.sw(w,1):w.ic?w.qw(w,1):h.shiftKey?w.zm(w.g.zoom,-w.g.zoom):w.zm(0,-w.g.zoom);break;case 77:h.ctrlKey?(w.Tg(!0,!0,ViewConstants.SD),w.o.notification.notify("Center Pattern",15,80,15,!0)):h.shiftKey?w.bJ(w):w.Rc&&!w.Rc.l&&
(w.Rc.current[0]&&(w.Ak=!1,w.Bk=!1,w.Ck=!1,w.Dk=!1,w.Gj=!1),w.Rc.current[0]=!w.Rc.current[0],w.o.Ph=!0);break;case 67:h.ctrlKey?w.UF(w,h.shiftKey,h.altKey):w.md||!w.Ii||w.Ii.locked||(h.shiftKey?(k=w.g.Bf-1,0>k&&(w.zh?k=w.g.Re:k=w.g.Re-1)):(k=w.g.Bf+1,w.zh?k>=w.g.Re+1&&(k=0):k>=w.g.Re&&(k=0)),w.Rm(k,w.g.Ol,w),w.g.Pa||w.Gj||w.o.notification.notify(w.Hw(w.g.Bf)+" Theme",15,40,15,!0));break;case 72:h.shiftKey?(w.up.current=w.dH([!w.ti],!0,w),w.o.notification.notify("AutoFit History Mode "+(w.ti?"On":
"Off"),15,40,15,!0)):(w.qd.length?w.la=w.la?0:1:w.la?w.la=0:w.rb||(w.la=1),w.bl.current=w.xq([w.la],!0,w),w.o.Ph=!0);break;case 73:h.ctrlKey&&h.shiftKey?p=!1:h.ctrlKey?w.qE(w):h.shiftKey?w.wp.current=w.eH([!w.kd],!0,w):(w.la?w.im===ViewConstants.Er?w.la=0:w.Mh(ViewConstants.Er,w):w.rb||w.Mh(ViewConstants.Er,w),w.bl.current=w.xq([w.la],!0,w),w.o.Ph=!0);break;case 27:w.zd?w.qd.length?(w.qd=[],w.ic=0):w.ld||w.yd?w.cu(w):w.tk?w.Jh.current=w.Ik([!1],!0,w):w.zj?w.cz(w):hideViewer():w.la?w.la=0:w.qd.length?
(w.qd=[],w.ic=0):w.ld||w.yd?w.cu(w):w.tk?w.Jh.current=w.Ik([!1],!0,w):w.zj?w.cz(w):w.cb&&(w.Ab.current=w.Ed(ViewConstants.Qe,!0,w));w.bl.current=w.xq([w.la],!0,w);w.o.Ph=!0;break;case 33:w.la?h.shiftKey?w.OL(w):w.tw(w,w.od):w.ic?w.rw(w,w.od):DocConfig.Va&&(--w.fd,0>w.fd&&(w.fd=Controller.ye.length-1),w.Nh(Controller.ye[w.fd].pattern,!1));break;case 34:w.la?h.shiftKey?w.nL(w):w.sw(w,w.od):w.ic?w.qw(w,w.od):DocConfig.Va&&(w.fd+=1,w.fd>=Controller.ye.length&&(w.fd=0),w.Nh(Controller.ye[w.fd].pattern,
!1));break;case 36:w.la?w.la=1:w.ic?w.ic=1:DocConfig.Va&&(w.fd=0,w.Nh(Controller.ye[w.fd].pattern,!1));break;case 35:w.la?w.la=w.Jp-w.od:w.ic?w.ic=w.qd.length-w.od:DocConfig.Va&&(w.fd=Controller.ye.length-1,w.Nh(Controller.ye[w.fd].pattern,!1));break;case 112:w.Ta||(w.de=!w.de,w.Ad.current=w.Kk(w.de?ViewConstants.wm:ViewConstants.xm,!0,w),w.o.notification.notify((w.de?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:h.shiftKey?(w.nq.current=w.$B([!w.Co],!0,w),w.o.notification.notify("Smart Drawing "+
(w.Co?"On":"Off"),15,40,15,!0)):w.Ad.current=w.Kk(ViewConstants.wm,!0,w);break;case 114:w.Ta||(w.Ad.current=w.Kk(ViewConstants.wm,!0,w),w.tk||(w.Jh.current=w.Ik([!0],!0,w)));break;case 115:w.Ad.zg[ViewConstants.Gp]||(w.Ad.current=w.Kk(ViewConstants.Gp,!0,w));break;case 116:w.Ad.current=w.Kk(ViewConstants.xm,!0,w);break;case 117:w.vp.locked||(h.ctrlKey&&(w.On=!0),w.dz(w));break;case 122:p=!1;break;default:if(-1===g||116===g)p=!1}}return p}}}());
